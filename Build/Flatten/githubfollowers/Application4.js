ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPWindow.j",baseURL),function(j,h){h("Foundation/CPCountedSet.j",NO);h("Foundation/CPNotificationCenter.j",NO);h("Foundation/CPUndoManager.j",NO);h("CGGeometry.j",YES);h("CPAnimation.j",YES);h("CPPlatformWindow.j",YES);h("CPResponder.j",YES);h("CPScreen.j",YES);CPBorderlessWindowMask=0;CPTitledWindowMask=1;CPClosableWindowMask=2;CPMiniaturizableWindowMask=4;CPResizableWindowMask=8;CPTexturedBackgroundWindowMask=256;CPBorderlessBridgeWindowMask=
1048576;CPHUDBackgroundWindowMask=2097152;CPWindowNotSizable=0;CPWindowMinXMargin=1;CPWindowWidthSizable=2;CPWindowMaxXMargin=4;CPWindowMinYMargin=8;CPWindowHeightSizable=16;CPWindowMaxYMargin=32;CPBackgroundWindowLevel=-1;CPNormalWindowLevel=0;CPTornOffMenuWindowLevel=CPSubmenuWindowLevel=CPFloatingWindowLevel=3;CPMainMenuWindowLevel=24;CPStatusWindowLevel=25;CPModalPanelWindowLevel=8;CPPopUpMenuWindowLevel=101;CPDraggingWindowLevel=500;CPScreenSaverWindowLevel=1E3;CPWindowOut=0;CPWindowAbove=1;
CPWindowBelow=2;CPWindowWillCloseNotification="CPWindowWillCloseNotification";CPWindowDidBecomeMainNotification="CPWindowDidBecomeMainNotification";CPWindowDidResignMainNotification="CPWindowDidResignMainNotification";CPWindowDidBecomeKeyNotification="CPWindowDidBecomeKeyNotification";CPWindowDidResignKeyNotification="CPWindowDidResignKeyNotification";CPWindowDidResizeNotification="CPWindowDidResizeNotification";CPWindowDidMoveNotification="CPWindowDidMoveNotification";CPWindowWillBeginSheetNotification=
"CPWindowWillBeginSheetNotification";CPWindowDidEndSheetNotification="CPWindowDidEndSheetNotification";CPWindowDidMiniaturizeNotification="CPWindowDidMiniaturizeNotification";CPWindowWillMiniaturizeNotification="CPWindowWillMiniaturizeNotification";CPWindowDidDeminiaturizeNotification="CPWindowDidDeminiaturizeNotification";CPWindowShadowStyleStandard=0;CPWindowShadowStyleMenu=1;CPWindowShadowStylePanel=2;var f=nil,d=nil,a=nil,c=[CPLeftArrowFunctionKey,CPRightArrowFunctionKey,CPUpArrowFunctionKey,
CPDownArrowFunctionKey,CPPageUpFunctionKey,CPPageDownFunctionKey,CPHomeFunctionKey,CPEndFunctionKey,CPEscapeFunctionKey],b=objj_allocateClassPair(CPResponder,"CPWindow"),e=b.isa;class_addIvars(b,[new objj_ivar("_platformWindow"),new objj_ivar("_windowNumber"),new objj_ivar("_styleMask"),new objj_ivar("_frame"),new objj_ivar("_level"),new objj_ivar("_isVisible"),new objj_ivar("_isMiniaturized"),new objj_ivar("_isAnimating"),new objj_ivar("_hasShadow"),new objj_ivar("_isMovableByWindowBackground"),
new objj_ivar("_shadowStyle"),new objj_ivar("_showsResizeIndicator"),new objj_ivar("_isDocumentEdited"),new objj_ivar("_isDocumentSaving"),new objj_ivar("_shadowView"),new objj_ivar("_windowView"),new objj_ivar("_contentView"),new objj_ivar("_toolbarView"),new objj_ivar("_mouseEnteredStack"),new objj_ivar("_leftMouseDownView"),new objj_ivar("_rightMouseDownView"),new objj_ivar("_toolbar"),new objj_ivar("_firstResponder"),new objj_ivar("_initialFirstResponder"),new objj_ivar("_delegate"),new objj_ivar("_title"),
new objj_ivar("_acceptsMouseMovedEvents"),new objj_ivar("_ignoresMouseEvents"),new objj_ivar("_windowController"),new objj_ivar("_minSize"),new objj_ivar("_maxSize"),new objj_ivar("_undoManager"),new objj_ivar("_representedURL"),new objj_ivar("_registeredDraggedTypes"),new objj_ivar("_registeredDraggedTypesArray"),new objj_ivar("_inclusiveRegisteredDraggedTypes"),new objj_ivar("_defaultButton"),new objj_ivar("_defaultButtonEnabled"),new objj_ivar("_autorecalculatesKeyViewLoop"),new objj_ivar("_keyViewLoopIsDirty"),
new objj_ivar("_sharesChromeWithPlatformWindow"),new objj_ivar("_DOMElement"),new objj_ivar("_autoresizingMask"),new objj_ivar("_delegateRespondsToWindowWillReturnUndoManagerSelector"),new objj_ivar("_isFullPlatformWindow"),new objj_ivar("_fullPlatformWindowSession"),new objj_ivar("_sheetContext"),new objj_ivar("_parentView"),new objj_ivar("_isSheet"),new objj_ivar("_frameAnimation")]);objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,
"initWithContentRect:styleMask:",{origin:{x:0,y:0},size:{width:0,height:0}},CPTitledWindowMask)}),new objj_method(sel_getUid("initWithContentRect:styleMask:"),function(a,c,b,e){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPWindow").super_class},"init")){c=objj_msgSend(objj_msgSend(a,"class"),"_windowViewClassForStyleMask:",e);_frame=objj_msgSend(c,"frameRectForContentRect:",b);objj_msgSend(a,"_setSharesChromeWithPlatformWindow:",!objj_msgSend(CPPlatform,"isBrowser"));if(objj_msgSend(CPPlatform,
"isBrowser"))objj_msgSend(a,"setPlatformWindow:",objj_msgSend(CPPlatformWindow,"primaryPlatformWindow"));else{if(e&CPBorderlessBridgeWindowMask&&b.size.width===0&&b.size.height===0)b=objj_msgSend(objj_msgSend(objj_msgSend(CPScreen,"alloc"),"init"),"visibleFrame"),_frame.size.height=MIN(768,b.size.height),_frame.size.width=MIN(1024,b.size.width),_frame.origin.x=(b.size.width-_frame.size.width)/2,_frame.origin.y=(b.size.height-_frame.size.height)/2;objj_msgSend(a,"setPlatformWindow:",objj_msgSend(objj_msgSend(CPPlatformWindow,
"alloc"),"initWithContentRect:",_frame));objj_msgSend(a,"platformWindow")._only=a}_isFullPlatformWindow=NO;_registeredDraggedTypes=objj_msgSend(CPSet,"set");_registeredDraggedTypesArray=[];_isSheet=NO;_acceptsMouseMovedEvents=YES;_windowNumber=objj_msgSend(CPApp._windows,"count");CPApp._windows[_windowNumber]=a;_styleMask=e;objj_msgSend(a,"setLevel:",CPNormalWindowLevel);_minSize=CGSizeMake(0,0);_maxSize=CGSizeMake(1E6,1E6);_windowView=objj_msgSend(objj_msgSend(c,"alloc"),"initWithFrame:styleMask:",
CGRectMake(0,0,CGRectGetWidth(_frame),CGRectGetHeight(_frame)),e);objj_msgSend(_windowView,"_setWindow:",a);objj_msgSend(_windowView,"setNextResponder:",a);objj_msgSend(a,"setMovableByWindowBackground:",e&CPHUDBackgroundWindowMask);objj_msgSend(a,"setContentView:",objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMakeZero()));_firstResponder=a;_DOMElement=document.createElement("div");_DOMElement.style.position="absolute";_DOMElement.style.visibility="visible";_DOMElement.style.zIndex=
0;if(!objj_msgSend(a,"_sharesChromeWithPlatformWindow"))b=NULL?{x:CGPointMake(_frame.origin.x,_frame.origin.y).x*NULL.a+CGPointMake(_frame.origin.x,_frame.origin.y).y*NULL.c+NULL.tx,y:CGPointMake(_frame.origin.x,_frame.origin.y).x*NULL.b+CGPointMake(_frame.origin.x,_frame.origin.y).y*NULL.d+NULL.ty}:{x:_frame.origin.x,y:_frame.origin.y},_DOMElement.style.left=ROUND(b.x)+"px",_DOMElement.style.top=ROUND(b.y)+"px";_DOMElement.style.width=MAX(0,ROUND(1))+"px";_DOMElement.style.height=MAX(0,ROUND(1))+
"px";_DOMElement.appendChild(_windowView._DOMElement);objj_msgSend(a,"setNextResponder:",CPApp);objj_msgSend(a,"setHasShadow:",e!==CPBorderlessWindowMask);e&CPBorderlessBridgeWindowMask&&objj_msgSend(a,"setFullPlatformWindow:",YES);_keyViewLoopIsDirty=_defaultButtonEnabled=YES;objj_msgSend(a,"setShowsResizeIndicator:",_styleMask&CPResizableWindowMask)}return a}}),new objj_method(sel_getUid("platformWindow"),function(a){with(a)return _platformWindow}),new objj_method(sel_getUid("setPlatformWindow:"),
function(a,c,b){with(a)_platformWindow=b}),new objj_method(sel_getUid("awakeFromCib"),function(a){with(a)_keyViewLoopIsDirty=!objj_msgSend(a,"_hasKeyViewLoop")}),new objj_method(sel_getUid("_setWindowView:"),function(a,c,b){with(a){if(_windowView===b)return;c=_windowView;_windowView=b;c&&(objj_msgSend(c,"_setWindow:",nil),objj_msgSend(c,"noteToolbarChanged"),_DOMElement.removeChild(c._DOMElement));if(_windowView)_DOMElement.appendChild(_windowView._DOMElement),b=objj_msgSend(_contentView,"convertRect:toView:",
objj_msgSend(_contentView,"bounds"),nil),b.origin=objj_msgSend(a,"convertBaseToGlobal:",b.origin),objj_msgSend(_windowView,"_setWindow:",a),objj_msgSend(_windowView,"setNextResponder:",a),objj_msgSend(_windowView,"addSubview:",_contentView),objj_msgSend(_windowView,"setTitle:",_title),objj_msgSend(_windowView,"noteToolbarChanged"),objj_msgSend(_windowView,"setShowsResizeIndicator:",objj_msgSend(a,"showsResizeIndicator")),objj_msgSend(a,"setFrame:",objj_msgSend(a,"frameRectForContentRect:",b))}}),
new objj_method(sel_getUid("setFullPlatformWindow:"),function(a,c,b){with(a){if(!objj_msgSend(_platformWindow,"supportsFullPlatformWindows"))return;b=!!b;if(_isFullPlatformWindow===b)return;(_isFullPlatformWindow=b)?(_fullPlatformWindowSession=_CPWindowFullPlatformWindowSessionMake(_windowView,objj_msgSend(a,"contentRectForFrameRect:",objj_msgSend(a,"frame")),objj_msgSend(a,"hasShadow"),objj_msgSend(a,"level")),c=objj_msgSend(objj_msgSend(a,"class"),"_windowViewClassForFullPlatformWindowStyleMask:",
_styleMask),c=objj_msgSend(objj_msgSend(c,"alloc"),"initWithFrame:styleMask:",CGRectMakeZero(),_styleMask),objj_msgSend(a,"_setWindowView:",c),objj_msgSend(a,"setLevel:",CPBackgroundWindowLevel),objj_msgSend(a,"setHasShadow:",NO),objj_msgSend(a,"setAutoresizingMask:",CPWindowWidthSizable|CPWindowHeightSizable),objj_msgSend(a,"setFrame:",objj_msgSend(_platformWindow,"visibleFrame"))):(c=_fullPlatformWindowSession.windowView,objj_msgSend(a,"_setWindowView:",c),objj_msgSend(a,"setLevel:",_fullPlatformWindowSession.level),
objj_msgSend(a,"setHasShadow:",_fullPlatformWindowSession.hasShadow),objj_msgSend(a,"setAutoresizingMask:",CPWindowNotSizable),objj_msgSend(a,"setFrame:",objj_msgSend(c,"frameRectForContentRect:",_fullPlatformWindowSession.contentRect)))}}),new objj_method(sel_getUid("isFullPlatformWindow"),function(a){with(a)return _isFullPlatformWindow}),new objj_method(sel_getUid("styleMask"),function(a){with(a)return _styleMask}),new objj_method(sel_getUid("contentRectForFrameRect:"),function(a,c,b){with(a)return objj_msgSend(_windowView,
"contentRectForFrameRect:",b)}),new objj_method(sel_getUid("frameRectForContentRect:"),function(a,c,b){with(a)return objj_msgSend(_windowView,"frameRectForContentRect:",b)}),new objj_method(sel_getUid("frame"),function(a){with(a)return{origin:{x:_frame.origin.x,y:_frame.origin.y},size:{width:_frame.size.width,height:_frame.size.height}}}),new objj_method(sel_getUid("_setClippedFrame:display:animate:"),function(a,c,b,e,g){with(a)b.size.width=MIN(MAX(b.size.width,_minSize.width),_maxSize.width),b.size.height=
MIN(MAX(b.size.height,_minSize.height),_maxSize.height),objj_msgSend(a,"setFrame:display:animate:",b,e,g)}),new objj_method(sel_getUid("setFrame:display:animate:"),function(a,c,b,e,g){with(a){b={origin:{x:b.origin.x,y:b.origin.y},size:{width:b.size.width,height:b.size.height}};c=b.origin.x;if(e=c-FLOOR(c))b.origin.x=c>0.879?CEIL(c):FLOOR(c);c=b.origin.y;if(e=c-FLOOR(c))b.origin.y=c>0.879?CEIL(c):FLOOR(c);c=b.size.width;if(e=c-FLOOR(c))b.size.width=c>0.15?CEIL(c):FLOOR(c);c=b.size.height;if(e=c-FLOOR(c))b.size.height=
c>0.15?CEIL(c):FLOOR(c);if(g)objj_msgSend(_frameAnimation,"stopAnimation"),_frameAnimation=objj_msgSend(objj_msgSend(_CPWindowFrameAnimation,"alloc"),"initWithWindow:targetFrame:",a,b),objj_msgSend(_frameAnimation,"startAnimation");else{g=_frame.origin;c=b.origin;if(!(g.x==c.x&&g.y==c.y)){g.x=c.x;g.y=c.y;if(!objj_msgSend(a,"_sharesChromeWithPlatformWindow"))g=NULL?{x:CGPointMake(g.x,g.y).x*NULL.a+CGPointMake(g.x,g.y).y*NULL.c+NULL.tx,y:CGPointMake(g.x,g.y).x*NULL.b+CGPointMake(g.x,g.y).y*NULL.d+NULL.ty}:
{x:g.x,y:g.y},_DOMElement.style.left=ROUND(g.x)+"px",_DOMElement.style.top=ROUND(g.y)+"px";objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidMoveNotification,a)}g=_frame.size;b=b.size;if(!(g.width==b.width&&g.height==b.height))g.width=b.width,g.height=b.height,objj_msgSend(_windowView,"setFrameSize:",g),_hasShadow&&objj_msgSend(_shadowView,"setFrameSize:",{width:20+g.width+19,height:10+g.height+10+5}),_isAnimating||objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPWindowDidResizeNotification,a);objj_msgSend(a,"_sharesChromeWithPlatformWindow")&&objj_msgSend(_platformWindow,"setContentRect:",_frame)}}}),new objj_method(sel_getUid("setFrame:display:"),function(a,c,b,e){with(a)objj_msgSend(a,"_setClippedFrame:display:animate:",b,e,NO)}),new objj_method(sel_getUid("setFrame:"),function(a,c,b){with(a)objj_msgSend(a,"_setClippedFrame:display:animate:",b,YES,NO)}),new objj_method(sel_getUid("setFrameOrigin:"),function(a,
c,b){with(a)objj_msgSend(a,"_setClippedFrame:display:animate:",{origin:{x:b.x,y:b.y},size:{width:_frame.size.width,height:_frame.size.height}},YES,NO)}),new objj_method(sel_getUid("setFrameSize:"),function(a,c,b){with(a)objj_msgSend(a,"_setClippedFrame:display:animate:",{origin:{x:_frame.origin.x,y:_frame.origin.y},size:{width:b.width,height:b.height}},YES,NO)}),new objj_method(sel_getUid("orderFront:"),function(a){with(a)objj_msgSend(_platformWindow,"orderFront:",a),objj_msgSend(_platformWindow,
"order:window:relativeTo:",CPWindowAbove,a,nil),(_firstResponder===a||!_firstResponder)&&objj_msgSend(a,"makeFirstResponder:",objj_msgSend(a,"initialFirstResponder")),CPApp._keyWindow||objj_msgSend(a,"makeKeyWindow"),CPApp._mainWindow||objj_msgSend(a,"makeMainWindow")}),new objj_method(sel_getUid("orderBack:"),function(a){with(a);}),new objj_method(sel_getUid("orderOut:"),function(a){with(a)objj_msgSend(a,"_sharesChromeWithPlatformWindow")&&objj_msgSend(_platformWindow,"orderOut:",a),objj_msgSend(_delegate,
"respondsToSelector:",sel_getUid("windowWillClose:"))&&objj_msgSend(_delegate,"windowWillClose:",a),objj_msgSend(_platformWindow,"order:window:relativeTo:",CPWindowOut,a,nil),objj_msgSend(a,"_updateMainAndKeyWindows")}),new objj_method(sel_getUid("orderWindow:relativeTo:"),function(a,c,b,e){with(a)objj_msgSend(_platformWindow,"order:window:relativeTo:",b,a,CPApp._windows[e])}),new objj_method(sel_getUid("setLevel:"),function(a,c,b){with(a){if(b===_level)return;objj_msgSend(_platformWindow,"moveWindow:fromLevel:toLevel:",
a,_level,b);_level=b;objj_msgSend(a,"_sharesChromeWithPlatformWindow")&&objj_msgSend(_platformWindow,"setLevel:",b)}}),new objj_method(sel_getUid("level"),function(a){with(a)return _level}),new objj_method(sel_getUid("isVisible"),function(a){with(a)return _isVisible}),new objj_method(sel_getUid("showsResizeIndicator"),function(a){with(a)return _showsResizeIndicator}),new objj_method(sel_getUid("setShowsResizeIndicator:"),function(a,c,b){with(a){b=!!b;if(_showsResizeIndicator===b)return;_showsResizeIndicator=
b;objj_msgSend(_windowView,"setShowsResizeIndicator:",objj_msgSend(a,"showsResizeIndicator"))}}),new objj_method(sel_getUid("resizeIndicatorOffset"),function(a){with(a)return objj_msgSend(_windowView,"resizeIndicatorOffset")}),new objj_method(sel_getUid("setResizeIndicatorOffset:"),function(a,c,b){with(a)objj_msgSend(_windowView,"setResizeIndicatorOffset:",b)}),new objj_method(sel_getUid("setContentView:"),function(a,c,b){with(a)_contentView&&objj_msgSend(_contentView,"removeFromSuperview"),c=CGRectMake(0,
0,CGRectGetWidth(_frame),CGRectGetHeight(_frame)),_contentView=b,objj_msgSend(_contentView,"setFrame:",objj_msgSend(a,"contentRectForFrameRect:",c)),objj_msgSend(_contentView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),objj_msgSend(_windowView,"addSubview:",_contentView)}),new objj_method(sel_getUid("contentView"),function(a){with(a)return _contentView}),new objj_method(sel_getUid("setAlphaValue:"),function(a,c,b){with(a)objj_msgSend(_windowView,"setAlphaValue:",b)}),new objj_method(sel_getUid("alphaValue"),
function(a){with(a)return objj_msgSend(_windowView,"alphaValue")}),new objj_method(sel_getUid("setBackgroundColor:"),function(a,c,b){with(a)objj_msgSend(_windowView,"setBackgroundColor:",b)}),new objj_method(sel_getUid("backgroundColor"),function(a){with(a)return objj_msgSend(_windowView,"backgroundColor")}),new objj_method(sel_getUid("setMinSize:"),function(a,c,b){with(a){if(CGSizeEqualToSize(_minSize,b))return;_minSize=CGSizeCreateCopy(b);c=CGSizeMakeCopy(objj_msgSend(a,"frame").size);b=NO;if(c.width<
_minSize.width)c.width=_minSize.width,b=YES;if(c.height<_minSize.height)c.height=_minSize.height,b=YES;b&&objj_msgSend(a,"setFrameSize:",c)}}),new objj_method(sel_getUid("minSize"),function(a){with(a)return _minSize}),new objj_method(sel_getUid("setMaxSize:"),function(a,c,b){with(a){if(CGSizeEqualToSize(_maxSize,b))return;_maxSize=CGSizeCreateCopy(b);c=CGSizeMakeCopy(objj_msgSend(a,"frame").size);b=NO;if(c.width>_maxSize.width)c.width=_maxSize.width,b=YES;if(c.height>_maxSize.height)c.height=_maxSize.height,
b=YES;b&&objj_msgSend(a,"setFrameSize:",c)}}),new objj_method(sel_getUid("maxSize"),function(a){with(a)return _maxSize}),new objj_method(sel_getUid("hasShadow"),function(a){with(a)return _hasShadow}),new objj_method(sel_getUid("_updateShadow"),function(a){with(a){if(objj_msgSend(a,"_sharesChromeWithPlatformWindow")){_shadowView&&(_DOMElement.removeChild(_shadowView._DOMElement),_shadowView=nil);objj_msgSend(_platformWindow,"setHasShadow:",_hasShadow);return}_hasShadow&&!_shadowView?(a=objj_msgSend(_windowView,
"bounds"),_shadowView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(-20,-5,20+CGRectGetWidth(a)+19,10+CGRectGetHeight(a)+10)),f||(a=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPWindow,"class")),f=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPNinePartImage,"alloc"),"initWithImageSlices:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow0.png"),CGSizeMake(20,
19)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow1.png"),CGSizeMake(1,19)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow2.png"),CGSizeMake(19,19)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow3.png"),CGSizeMake(20,1)),objj_msgSend(objj_msgSend(CPImage,
"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow4.png"),CGSizeMake(1,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow5.png"),CGSizeMake(19,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow6.png"),CGSizeMake(20,18)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",
objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow7.png"),CGSizeMake(1,18)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow8.png"),CGSizeMake(19,18))]))),objj_msgSend(_shadowView,"setBackgroundColor:",f),objj_msgSend(_shadowView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),_DOMElement.insertBefore(_shadowView._DOMElement,_windowView._DOMElement)):!_hasShadow&&_shadowView&&(_DOMElement.removeChild(_shadowView._DOMElement),
_shadowView=nil)}}),new objj_method(sel_getUid("setHasShadow:"),function(a,c,b){with(a){if(_hasShadow===b)return;_hasShadow=b;objj_msgSend(a,"_updateShadow")}}),new objj_method(sel_getUid("setShadowStyle:"),function(a,c,b){with(a)_shadowStyle=b,objj_msgSend(objj_msgSend(a,"platformWindow"),"setShadowStyle:",_shadowStyle)}),new objj_method(sel_getUid("setDelegate:"),function(a,c,b){with(a)c=objj_msgSend(CPNotificationCenter,"defaultCenter"),objj_msgSend(c,"removeObserver:name:object:",_delegate,CPWindowDidResignKeyNotification,
a),objj_msgSend(c,"removeObserver:name:object:",_delegate,CPWindowDidBecomeKeyNotification,a),objj_msgSend(c,"removeObserver:name:object:",_delegate,CPWindowDidBecomeMainNotification,a),objj_msgSend(c,"removeObserver:name:object:",_delegate,CPWindowDidResignMainNotification,a),objj_msgSend(c,"removeObserver:name:object:",_delegate,CPWindowDidMoveNotification,a),objj_msgSend(c,"removeObserver:name:object:",_delegate,CPWindowDidResizeNotification,a),_delegate=b,_delegateRespondsToWindowWillReturnUndoManagerSelector=
objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowWillReturnUndoManager:")),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidResignKey:"))&&objj_msgSend(c,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidResignKey:"),CPWindowDidResignKeyNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidBecomeKey:"))&&objj_msgSend(c,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidBecomeKey:"),CPWindowDidBecomeKeyNotification,
a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidBecomeMain:"))&&objj_msgSend(c,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidBecomeMain:"),CPWindowDidBecomeMainNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidResignMain:"))&&objj_msgSend(c,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidResignMain:"),CPWindowDidResignMainNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidMove:"))&&
objj_msgSend(c,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidMove:"),CPWindowDidMoveNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidResize:"))&&objj_msgSend(c,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidResize:"),CPWindowDidResizeNotification,a)}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("setWindowController:"),function(a,c,b){with(a)_windowController=b}),new objj_method(sel_getUid("windowController"),
function(a){with(a)return _windowController}),new objj_method(sel_getUid("doCommandBySelector:"),function(a,c,b){with(a)objj_msgSend(_delegate,"respondsToSelector:",b)?objj_msgSend(_delegate,"performSelector:",b):objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPWindow").super_class},"doCommandBySelector:",b)}),new objj_method(sel_getUid("acceptsFirstResponder"),function(a){with(a)return YES}),new objj_method(sel_getUid("initialFirstResponder"),function(a){with(a)return _initialFirstResponder}),
new objj_method(sel_getUid("setInitialFirstResponder:"),function(a,c,b){with(a)_initialFirstResponder=b}),new objj_method(sel_getUid("makeFirstResponder:"),function(a,c,b){with(a){if(_firstResponder===b)return YES;if(!objj_msgSend(_firstResponder,"resignFirstResponder"))return NO;if(!b||!objj_msgSend(b,"acceptsFirstResponder")||!objj_msgSend(b,"becomeFirstResponder"))return _firstResponder=a,NO;_firstResponder=b;return YES}}),new objj_method(sel_getUid("firstResponder"),function(a){with(a)return _firstResponder}),
new objj_method(sel_getUid("acceptsMouseMovedEvents"),function(a){with(a)return _acceptsMouseMovedEvents}),new objj_method(sel_getUid("setAcceptsMouseMovedEvents:"),function(a,c,b){with(a)_acceptsMouseMovedEvents=b}),new objj_method(sel_getUid("ignoresMouseEvents"),function(a){with(a)return _ignoresMouseEvents}),new objj_method(sel_getUid("setIgnoresMouseEvents:"),function(a,c,b){with(a)_ignoresMouseEvents=b}),new objj_method(sel_getUid("title"),function(a){with(a)return _title}),new objj_method(sel_getUid("setTitle:"),
function(a,c,b){with(a)_title=b,objj_msgSend(_windowView,"setTitle:",b),objj_msgSend(a,"_synchronizeMenuBarTitleWithWindowTitle")}),new objj_method(sel_getUid("setTitleWithRepresentedFilename:"),function(a,c,b){with(a)objj_msgSend(a,"setRepresentedFilename:",b),objj_msgSend(a,"setTitle:",objj_msgSend(b,"lastPathComponent"))}),new objj_method(sel_getUid("setRepresentedFilename:"),function(a,c,b){with(a)objj_msgSend(a,"setRepresentedURL:",b)}),new objj_method(sel_getUid("representedFilename"),function(a){with(a)return _representedURL}),
new objj_method(sel_getUid("setRepresentedURL:"),function(a,c,b){with(a)_representedURL=b}),new objj_method(sel_getUid("representedURL"),function(a){with(a)return _representedURL}),new objj_method(sel_getUid("screen"),function(a){with(a)return objj_msgSend(objj_msgSend(CPScreen,"alloc"),"init")}),new objj_method(sel_getUid("setMovableByWindowBackground:"),function(a,c,b){with(a)_isMovableByWindowBackground=b}),new objj_method(sel_getUid("isMovableByWindowBackground"),function(a){with(a)return _isMovableByWindowBackground}),
new objj_method(sel_getUid("center"),function(a){with(a){if(_isFullPlatformWindow)return;var c=objj_msgSend(a,"frame").size,b=objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(_platformWindow,"contentBounds").size:objj_msgSend(objj_msgSend(a,"screen"),"visibleFrame").size;c=CGPointMake((b.width-c.width)/2,(b.height-c.height)/2);if(c.x<0)c.x=0;if(c.y<0)c.y=0;objj_msgSend(a,"setFrameOrigin:",c)}}),new objj_method(sel_getUid("sendEvent:"),function(a,c,b){with(a){var e=objj_msgSend(b,"type");c=objj_msgSend(b,
"locationInWindow");switch(e){case CPFlagsChanged:return objj_msgSend(objj_msgSend(a,"firstResponder"),"flagsChanged:",b);case CPKeyUp:return objj_msgSend(objj_msgSend(a,"firstResponder"),"keyUp:",b);case CPKeyDown:if(objj_msgSend(b,"charactersIgnoringModifiers")===CPTabCharacter){objj_msgSend(b,"modifierFlags")&CPShiftKeyMask?objj_msgSend(a,"selectPreviousKeyView:",a):objj_msgSend(a,"selectNextKeyView:",a);break}else if(objj_msgSend(b,"charactersIgnoringModifiers")===CPBackTabCharacter)return objj_msgSend(a,
"selectPreviousKeyView:",a);objj_msgSend(objj_msgSend(a,"firstResponder"),"keyDown:",b);if(!objj_msgSend(a,"disableKeyEquivalentForDefaultButton")){var g=objj_msgSend(a,"defaultButton");c=objj_msgSend(g,"keyEquivalent");g=objj_msgSend(g,"keyEquivalentModifierMask");objj_msgSend(b,"_triggersKeyEquivalent:withModifierMask:",c,g)&&objj_msgSend(objj_msgSend(a,"defaultButton"),"performClick:",a)}break;case CPScrollWheel:return objj_msgSend(objj_msgSend(_windowView,"hitTest:",c),"scrollWheel:",b);case CPLeftMouseUp:case CPRightMouseUp:a=
_leftMouseDownView;g=e==CPRightMouseUp?sel_getUid("rightMouseUp:"):sel_getUid("mouseUp:");a||(a=objj_msgSend(_windowView,"hitTest:",c));objj_msgSend(a,"performSelector:withObject:",g,b);_leftMouseDownView=nil;break;case CPLeftMouseDown:case CPRightMouseDown:_leftMouseDownView=objj_msgSend(_windowView,"hitTest:",c);_leftMouseDownView!=_firstResponder&&objj_msgSend(_leftMouseDownView,"acceptsFirstResponder")&&objj_msgSend(a,"makeFirstResponder:",_leftMouseDownView);objj_msgSend(CPApp,"activateIgnoringOtherApps:",
YES);c=objj_msgSend(b,"window");g=e==CPRightMouseDown?sel_getUid("rightMouseDown:"):sel_getUid("mouseDown:");if(objj_msgSend(c,"isKeyWindow")||objj_msgSend(c,"becomesKeyOnlyIfNeeded")&&!objj_msgSend(_leftMouseDownView,"needsPanelToBecomeKey"))return objj_msgSend(_leftMouseDownView,"performSelector:withObject:",g,b);else if(objj_msgSend(a,"makeKeyAndOrderFront:",a),objj_msgSend(_leftMouseDownView,"acceptsFirstMouse:",b))return objj_msgSend(_leftMouseDownView,"performSelector:withObject:",g,b);break;
case CPLeftMouseDragged:case CPRightMouseDragged:if(!_leftMouseDownView)return objj_msgSend(objj_msgSend(_windowView,"hitTest:",c),"mouseDragged:",b);e==CPRightMouseDragged&&(g=sel_getUid("rightMouseDragged:"),objj_msgSend(_leftMouseDownView,"respondsToSelector:",g)||(g=nil));g||(g=sel_getUid("mouseDragged:"));return objj_msgSend(_leftMouseDownView,"performSelector:withObject:",g,b);case CPMouseMoved:if(!_acceptsMouseMovedEvents)break;_mouseEnteredStack||(_mouseEnteredStack=[]);a=objj_msgSend(_windowView,
"hitTest:",c);if(objj_msgSend(_mouseEnteredStack,"count")&&objj_msgSend(_mouseEnteredStack,"lastObject")===a)return objj_msgSend(a,"mouseMoved:",b);e=a;for(g=[];e;)g.unshift(e),e=objj_msgSend(e,"superview");for(e=MIN(_mouseEnteredStack.length,g.length);e--;)if(_mouseEnteredStack[e]===g[e])break;var d=e+1,l=_mouseEnteredStack.length;if(d<l)for(var n=objj_msgSend(CPEvent,"mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",CPMouseExited,c,objj_msgSend(b,
"modifierFlags"),objj_msgSend(b,"timestamp"),_windowNumber,nil,-1,1,0);d<l;++d)objj_msgSend(_mouseEnteredStack[d],"mouseExited:",n);d=e+1;l=g.length;if(d<l)for(n=objj_msgSend(CPEvent,"mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",CPMouseEntered,c,objj_msgSend(b,"modifierFlags"),objj_msgSend(b,"timestamp"),_windowNumber,nil,-1,1,0);d<l;++d)objj_msgSend(g[d],"mouseEntered:",n);_mouseEnteredStack=g;objj_msgSend(a,"mouseMoved:",b)}}}),new objj_method(sel_getUid("windowNumber"),
function(a){with(a)return _windowNumber}),new objj_method(sel_getUid("becomeKeyWindow"),function(a){with(a)CPApp._keyWindow=a,_firstResponder!==a&&objj_msgSend(_firstResponder,"respondsToSelector:",sel_getUid("becomeKeyWindow"))&&objj_msgSend(_firstResponder,"becomeKeyWindow"),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidBecomeKeyNotification,a)}),new objj_method(sel_getUid("canBecomeKeyWindow"),function(a){with(a)return YES}),new objj_method(sel_getUid("isKeyWindow"),
function(a){with(a)return objj_msgSend(CPApp,"keyWindow")==a}),new objj_method(sel_getUid("makeKeyAndOrderFront:"),function(a){with(a)objj_msgSend(a,"orderFront:",a),objj_msgSend(a,"makeKeyWindow"),objj_msgSend(a,"makeMainWindow")}),new objj_method(sel_getUid("makeKeyWindow"),function(a){with(a){if(objj_msgSend(CPApp,"keyWindow")===a||!objj_msgSend(a,"canBecomeKeyWindow"))return;objj_msgSend(objj_msgSend(CPApp,"keyWindow"),"resignKeyWindow");objj_msgSend(a,"becomeKeyWindow")}}),new objj_method(sel_getUid("resignKeyWindow"),
function(a){with(a){_firstResponder!==a&&objj_msgSend(_firstResponder,"respondsToSelector:",sel_getUid("resignKeyWindow"))&&objj_msgSend(_firstResponder,"resignKeyWindow");if(CPApp._keyWindow===a)CPApp._keyWindow=nil;objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidResignKeyNotification,a)}}),new objj_method(sel_getUid("dragImage:at:offset:event:pasteboard:source:slideBack:"),function(a,c,b,e,g,d,l,n,f){with(a)objj_msgSend(objj_msgSend(CPDragServer,
"sharedDragServer"),"dragImage:fromWindow:at:offset:event:pasteboard:source:slideBack:",b,a,objj_msgSend(a,"convertBaseToGlobal:",e),g,d,l,n,f)}),new objj_method(sel_getUid("_noteRegisteredDraggedTypes:"),function(a,c,b){with(a){if(!b)return;_inclusiveRegisteredDraggedTypes||(_inclusiveRegisteredDraggedTypes=objj_msgSend(CPCountedSet,"set"));objj_msgSend(_inclusiveRegisteredDraggedTypes,"unionSet:",b)}}),new objj_method(sel_getUid("_noteUnregisteredDraggedTypes:"),function(a,c,b){with(a){if(!b)return;
objj_msgSend(_inclusiveRegisteredDraggedTypes,"minusSet:",b);objj_msgSend(_inclusiveRegisteredDraggedTypes,"count")===0&&(_inclusiveRegisteredDraggedTypes=nil)}}),new objj_method(sel_getUid("dragView:at:offset:event:pasteboard:source:slideBack:"),function(a,c,b,e,g,d,l,n,f){with(a)objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"dragView:fromWindow:at:offset:event:pasteboard:source:slideBack:",b,a,objj_msgSend(a,"convertBaseToGlobal:",e),g,d,l,n,f)}),new objj_method(sel_getUid("registerForDraggedTypes:"),
function(a,c,b){with(a){if(!b)return;objj_msgSend(a,"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes);objj_msgSend(_registeredDraggedTypes,"addObjectsFromArray:",b);objj_msgSend(a,"_noteRegisteredDraggedTypes:",_registeredDraggedTypes);_registeredDraggedTypesArray=nil}}),new objj_method(sel_getUid("registeredDraggedTypes"),function(a){with(a)return _registeredDraggedTypesArray||(_registeredDraggedTypesArray=objj_msgSend(_registeredDraggedTypes,"allObjects")),_registeredDraggedTypesArray}),
new objj_method(sel_getUid("unregisterDraggedTypes"),function(a){with(a)objj_msgSend(a,"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes),_registeredDraggedTypes=objj_msgSend(CPSet,"set"),_registeredDraggedTypesArray=[]}),new objj_method(sel_getUid("setDocumentEdited:"),function(a,c,b){with(a){if(_isDocumentEdited==b)return;_isDocumentEdited=b;objj_msgSend(CPMenu,"_setMenuBarIconImageAlphaValue:",_isDocumentEdited?0.5:1);objj_msgSend(_windowView,"setDocumentEdited:",b)}}),new objj_method(sel_getUid("isDocumentEdited"),
function(a){with(a)return _isDocumentEdited}),new objj_method(sel_getUid("setDocumentSaving:"),function(a,c,b){with(a){if(_isDocumentSaving==b)return;_isDocumentSaving=b;objj_msgSend(a,"_synchronizeSaveMenuWithDocumentSaving");objj_msgSend(_windowView,"windowDidChangeDocumentSaving")}}),new objj_method(sel_getUid("isDocumentSaving"),function(a){with(a)return _isDocumentSaving}),new objj_method(sel_getUid("_synchronizeSaveMenuWithDocumentSaving"),function(c){with(c){if(!objj_msgSend(c,"isMainWindow"))return;
c=objj_msgSend(CPApp,"mainMenu");var b=objj_msgSend(c,"indexOfItemWithTitle:",_isDocumentSaving?"Save":"Saving...");if(b==CPNotFound)return;c=objj_msgSend(c,"itemAtIndex:",b);_isDocumentSaving?(d=objj_msgSend(c,"image"),objj_msgSend(c,"setTitle:","Saving..."),objj_msgSend(c,"setImage:",a),objj_msgSend(c,"setEnabled:",NO)):(objj_msgSend(c,"setTitle:","Save"),objj_msgSend(c,"setImage:",d),objj_msgSend(c,"setEnabled:",YES))}}),new objj_method(sel_getUid("performMiniaturize:"),function(a,c,b){with(a)objj_msgSend(a,
"miniaturize:",b)}),new objj_method(sel_getUid("miniaturize:"),function(a,c,b){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowWillMiniaturizeNotification,a),objj_msgSend(objj_msgSend(a,"platformWindow"),"miniaturize:",b),objj_msgSend(a,"_updateMainAndKeyWindows"),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidMiniaturizeNotification,a),_isMiniaturized=YES}),new objj_method(sel_getUid("deminiaturize:"),
function(a,c,b){with(a)objj_msgSend(objj_msgSend(a,"platformWindow"),"deminiaturize:",b),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidDeminiaturizeNotification,a),_isMiniaturized=NO}),new objj_method(sel_getUid("isMiniaturized"),function(a){with(a)return _isMiniaturized}),new objj_method(sel_getUid("performClose:"),function(a){with(a){if(!(_styleMask&CPClosableWindowMask))return;if(objj_msgSend(a,"isFullBridge")){var c=objj_msgSend(CPApp,
"currentEvent");if(objj_msgSend(c,"type")===CPKeyDown&&objj_msgSend(c,"characters")==="w"&&objj_msgSend(c,"modifierFlags")&CPPlatformActionKeyMask){objj_msgSend(objj_msgSend(a,"platformWindow"),"_propagateCurrentDOMEvent:",YES);return}}if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowShouldClose:"))){if(!objj_msgSend(_delegate,"windowShouldClose:",a))return}else if(objj_msgSend(a,"respondsToSelector:",sel_getUid("windowShouldClose:"))&&!objj_msgSend(a,"windowShouldClose:",a))return;
c=objj_msgSend(_windowController,"documents");if(objj_msgSend(c,"count")){var b=objj_msgSend(c,"indexOfObject:",objj_msgSend(_windowController,"document"));objj_msgSend(c[b],"shouldCloseWindowController:delegate:shouldCloseSelector:contextInfo:",_windowController,a,sel_getUid("_windowControllerContainingDocument:shouldClose:contextInfo:"),{documents:objj_msgSend(c,"copy"),visited:0,index:b})}else objj_msgSend(a,"close")}}),new objj_method(sel_getUid("_windowControllerContainingDocument:shouldClose:contextInfo:"),
function(a,c,b,e,g){with(a)if(e){c=objj_msgSend(a,"windowController");e=g.documents;var d=objj_msgSend(e,"count"),l=++g.visited,n=++g.index%d;objj_msgSend(b,"removeWindowController:",c);l<d?(objj_msgSend(c,"setDocument:",e[n]),objj_msgSend(e[n],"shouldCloseWindowController:delegate:shouldCloseSelector:contextInfo:",_windowController,a,sel_getUid("_windowControllerContainingDocument:shouldClose:contextInfo:"),g)):objj_msgSend(a,"close")}}),new objj_method(sel_getUid("close"),function(a){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPWindowWillCloseNotification,a),objj_msgSend(a,"orderOut:",nil)}),new objj_method(sel_getUid("isMainWindow"),function(a){with(a)return objj_msgSend(CPApp,"mainWindow")==a}),new objj_method(sel_getUid("canBecomeMainWindow"),function(a){with(a){if(objj_msgSend(a,"isVisible"))return YES;return NO}}),new objj_method(sel_getUid("makeMainWindow"),function(a){with(a){if(objj_msgSend(CPApp,"mainWindow")===a||!objj_msgSend(a,"canBecomeMainWindow"))return;objj_msgSend(objj_msgSend(CPApp,
"mainWindow"),"resignMainWindow");objj_msgSend(a,"becomeMainWindow")}}),new objj_method(sel_getUid("becomeMainWindow"),function(a){with(a)CPApp._mainWindow=a,objj_msgSend(a,"_synchronizeMenuBarTitleWithWindowTitle"),objj_msgSend(a,"_synchronizeSaveMenuWithDocumentSaving"),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidBecomeMainNotification,a)}),new objj_method(sel_getUid("resignMainWindow"),function(a){with(a)if(objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPWindowDidResignMainNotification,a),CPApp._mainWindow===a)CPApp._mainWindow=nil}),new objj_method(sel_getUid("_updateMainAndKeyWindows"),function(a){with(a){var c=objj_msgSend(CPApp,"orderedWindows"),b=objj_msgSend(c,"count");if(objj_msgSend(a,"isKeyWindow")){var e=objj_msgSend(CPApp,"keyWindow");objj_msgSend(a,"resignKeyWindow");if(e&&e!==a&&objj_msgSend(e,"canBecomeKeyWindow"))objj_msgSend(e,"makeKeyWindow");else{objj_msgSend(CPApp,"mainMenu");e=
objj_getClass("_CPMenuBarWindow");for(var g,d=0;d<b;d++){var l=c[d];objj_msgSend(l,"isKindOfClass:",e)&&(g=l);if(!(l===a||l===g)&&objj_msgSend(l,"isVisible")&&objj_msgSend(l,"canBecomeKeyWindow")){objj_msgSend(l,"makeKeyWindow");break}}objj_msgSend(CPApp,"keyWindow")||objj_msgSend(g,"makeKeyWindow")}}if(objj_msgSend(a,"isMainWindow"))if(e=objj_msgSend(CPApp,"mainWindow"),objj_msgSend(a,"resignMainWindow"),e&&e!==a&&objj_msgSend(e,"canBecomeMainWindow"))objj_msgSend(e,"makeMainWindow");else{objj_msgSend(CPApp,
"mainMenu");e=objj_getClass("_CPMenuBarWindow");for(d=0;d<b;d++)if(l=c[d],objj_msgSend(l,"isKindOfClass:",e)&&(g=l),!(l===a||l===g)&&objj_msgSend(l,"isVisible")&&objj_msgSend(l,"canBecomeMainWindow")){objj_msgSend(l,"makeMainWindow");break}}}}),new objj_method(sel_getUid("toolbar"),function(a){with(a)return _toolbar}),new objj_method(sel_getUid("setToolbar:"),function(a,c,b){with(a){if(_toolbar===b)return;objj_msgSend(objj_msgSend(b,"_window"),"setToolbar:",nil);objj_msgSend(_toolbar,"_setWindow:",
nil);_toolbar=b;objj_msgSend(_toolbar,"_setWindow:",a);objj_msgSend(a,"_noteToolbarChanged")}}),new objj_method(sel_getUid("toggleToolbarShown:"),function(a){with(a)a=objj_msgSend(a,"toolbar"),objj_msgSend(a,"setVisible:",!objj_msgSend(a,"isVisible"))}),new objj_method(sel_getUid("_noteToolbarChanged"),function(a){with(a){var c=CGRectMakeCopy(objj_msgSend(a,"frame")),b;objj_msgSend(_windowView,"noteToolbarChanged");_isFullPlatformWindow?b=objj_msgSend(_platformWindow,"visibleFrame"):(b=CGRectMakeCopy(objj_msgSend(a,
"frame")),b.origin=c.origin);objj_msgSend(a,"setFrame:",b)}}),new objj_method(sel_getUid("_setFrame:delegate:duration:curve:"),function(a,c,b,e,g,d){with(a)objj_msgSend(_frameAnimation,"stopAnimation"),_frameAnimation=objj_msgSend(objj_msgSend(_CPWindowFrameAnimation,"alloc"),"initWithWindow:targetFrame:",a,b),objj_msgSend(_frameAnimation,"setDelegate:",e),objj_msgSend(_frameAnimation,"setAnimationCurve:",d),objj_msgSend(_frameAnimation,"setDuration:",g),objj_msgSend(_frameAnimation,"startAnimation")}),
new objj_method(sel_getUid("animationResizeTime:"),function(a){with(a)return 0.2}),new objj_method(sel_getUid("_setAttachedSheetFrameOrigin"),function(a){with(a){var c=objj_msgSend(a,"attachedSheet");a=objj_msgSend(objj_msgSend(a,"contentView"),"frame");var b=CGRectMakeCopy(objj_msgSend(c,"frame"));b.origin.y=CGRectGetMinY(_frame)+CGRectGetMinY(a);b.origin.x=CGRectGetMinX(_frame)+FLOOR((CGRectGetWidth(_frame)-CGRectGetWidth(b))/2);objj_msgSend(c,"setFrame:display:animate:",b,YES,NO)}}),new objj_method(sel_getUid("_attachSheet:modalDelegate:didEndSelector:contextInfo:"),
function(a,c,b,e,g,d){with(a)c=objj_msgSend(b,"frame"),_sheetContext={sheet:b,modalDelegate:e,endSelector:g,contextInfo:d,frame:CGRectMakeCopy(c),returnCode:-1,opened:NO},objj_msgSend(a,"_attachSheetWindow:",b)}),new objj_method(sel_getUid("_attachSheetWindow:"),function(a,c,b){with(a){c=objj_msgSend(b,"frame");var e=objj_msgSend(a,"frame"),g=objj_msgSend(b,"contentView");objj_msgSend(a,"_setUpMasksForView:",g);b._isSheet=YES;b._parentView=a;g=e.origin.x+FLOOR((e.size.width-c.size.width)/2);var d=
e.origin.y+objj_msgSend(objj_msgSend(a,"contentView"),"frame").origin.y;e=CGRectMake(g,d,c.size.width,0);c=CGRectMake(g,d,c.size.width,c.size.height);objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowWillBeginSheetNotification,a);objj_msgSend(CPApp,"runModalForWindow:",b);objj_msgSend(b,"orderFront:",a);objj_msgSend(b,"setFrame:display:animate:",e,YES,NO);_sheetContext.opened=YES;objj_msgSend(b,"_setFrame:delegate:duration:curve:",c,a,objj_msgSend(a,
"animationResizeTime:",c),CPAnimationEaseOut);objj_msgSend(b,"becomeKeyWindow")}}),new objj_method(sel_getUid("_detachSheetWindow"),function(a){with(a){var c=objj_msgSend(a,"attachedSheet"),b=objj_msgSend(c,"frame"),e=CGRectMakeCopy(b);e.size.height=0;_sheetContext.frame=b;b=objj_msgSend(c,"contentView");objj_msgSend(a,"_setUpMasksForView:",b);_sheetContext.opened=NO;objj_msgSend(c,"_setFrame:delegate:duration:curve:",e,a,objj_msgSend(a,"animationResizeTime:",e),CPAnimationEaseIn)}}),new objj_method(sel_getUid("animationDidEnd:"),
function(a,c,b){with(a){c=_sheetContext.sheet;if(b._window!=c)return;b=objj_msgSend(c,"contentView");if(_sheetContext.opened===YES){objj_msgSend(a,"_restoreMasksForView:",b);return}objj_msgSend(CPApp,"stopModal");objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidEndSheetNotification,a);objj_msgSend(c,"orderOut:",a);objj_msgSend(c,"setFrame:",_sheetContext.frame);objj_msgSend(a,"_restoreMasksForView:",b);a=_sheetContext.modalDelegate;b=_sheetContext.endSelector;
var e=_sheetContext.returnCode,g=_sheetContext.contextInfo;_sheetContext=nil;c._parentView=nil;a!=nil&&b!=nil&&objj_msgSend(a,b,c,e,g)}}),new objj_method(sel_getUid("_setUpMasksForView:"),function(a,c,b){with(a){a=objj_msgSend(b,"subviews");objj_msgSend(a,"addObject:",b);b=0;for(c=objj_msgSend(a,"count");b<c;b++){var e=objj_msgSend(a,"objectAtIndex:",b),g=objj_msgSend(e,"autoresizingMask");objj_msgSend(e,"setAutoresizingMask:",g|(g&CPViewMinYMargin?128:CPViewMinYMargin))}}}),new objj_method(sel_getUid("_restoreMasksForView:"),
function(a,c,b){with(a){a=objj_msgSend(b,"subviews");objj_msgSend(a,"addObject:",b);b=0;for(c=objj_msgSend(a,"count");b<c;b++){var e=objj_msgSend(a,"objectAtIndex:",b),g=objj_msgSend(e,"autoresizingMask");objj_msgSend(e,"setAutoresizingMask:",g&~(g&128?128:CPViewMinYMargin))}}}),new objj_method(sel_getUid("attachedSheet"),function(a){with(a){if(_sheetContext===nil)return nil;return _sheetContext.sheet}}),new objj_method(sel_getUid("isSheet"),function(a){with(a)return _isSheet}),new objj_method(sel_getUid("becomesKeyOnlyIfNeeded"),
function(a){with(a)return NO}),new objj_method(sel_getUid("worksWhenModal"),function(a){with(a)return NO}),new objj_method(sel_getUid("performKeyEquivalent:"),function(a,c,b){with(a)return objj_msgSend(objj_msgSend(a,"contentView"),"performKeyEquivalent:",b)}),new objj_method(sel_getUid("keyDown:"),function(a,c,b){with(a){if(objj_msgSend(b,"_couldBeKeyEquivalent")&&objj_msgSend(a,"performKeyEquivalent:",b))return;objj_msgSend(a,"_processKeyboardUIKey:",b)||objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPWindow").super_class},
"keyDown:",b)}}),new objj_method(sel_getUid("_processKeyboardUIKey:"),function(a,b,e){with(a){b=objj_msgSend(e,"charactersIgnoringModifiers");if(!objj_msgSend(c,"containsObject:",b))return NO;e=objj_msgSend(CPKeyBinding,"selectorsForKey:modifierFlags:",b,0);if(objj_msgSend(e,"count")<=0)return NO;if(b!==CPEscapeFunctionKey)return b=objj_msgSend(e,"objectAtIndex:",0),objj_msgSend(objj_msgSend(a,"firstResponder"),"tryToPerform:with:",b,a);else objj_msgSend(objj_msgSend(a,"firstResponder"),"doCommandBySelector:",
sel_getUid("complete:"));return NO}}),new objj_method(sel_getUid("_dirtyKeyViewLoop"),function(a){with(a)_autorecalculatesKeyViewLoop&&(_keyViewLoopIsDirty=YES)}),new objj_method(sel_getUid("_hasKeyViewLoop"),function(a){with(a){a=g(a);for(var b=objj_msgSend(a,"count");b--;)if(objj_msgSend(a[b],"nextKeyView"))return YES;return NO}}),new objj_method(sel_getUid("recalculateKeyViewLoop"),function(a){with(a){a=g(a);objj_msgSend(a,"sortUsingFunction:context:",n,nil);for(var b=0,c=objj_msgSend(a,"count");b<
c;++b)objj_msgSend(a[b],"setNextKeyView:",a[(b+1)%c]);_keyViewLoopIsDirty=NO}}),new objj_method(sel_getUid("setAutorecalculatesKeyViewLoop:"),function(a,b,c){with(a){if(_autorecalculatesKeyViewLoop===c)return;_autorecalculatesKeyViewLoop=c;_keyViewLoopIsDirty?objj_msgSend(a,"recalculateKeyViewLoop"):_autorecalculatesKeyViewLoop&&objj_msgSend(a,"_dirtyKeyViewLoop")}}),new objj_method(sel_getUid("autorecalculatesKeyViewLoop"),function(a){with(a)return _autorecalculatesKeyViewLoop}),new objj_method(sel_getUid("selectNextKeyView:"),
function(a){with(a)objj_msgSend(_firstResponder,"isKindOfClass:",objj_msgSend(CPView,"class"))&&objj_msgSend(a,"selectKeyViewFollowingView:",_firstResponder)}),new objj_method(sel_getUid("selectPreviousKeyView:"),function(a){with(a)objj_msgSend(_firstResponder,"isKindOfClass:",objj_msgSend(CPView,"class"))&&objj_msgSend(a,"selectKeyViewPrecedingView:",_firstResponder)}),new objj_method(sel_getUid("selectKeyViewFollowingView:"),function(a,b,c){with(a)_keyViewLoopIsDirty&&objj_msgSend(a,"recalculateKeyViewLoop"),
objj_msgSend(a,"makeFirstResponder:",objj_msgSend(c,"nextValidKeyView"))}),new objj_method(sel_getUid("selectKeyViewPrecedingView:"),function(a,b,c){with(a)_keyViewLoopIsDirty&&objj_msgSend(a,"recalculateKeyViewLoop"),objj_msgSend(a,"makeFirstResponder:",objj_msgSend(c,"previousValidKeyView"))}),new objj_method(sel_getUid("setDefaultButtonCell:"),function(a,b,c){with(a)objj_msgSend(a,"setDefaultButton:",c)}),new objj_method(sel_getUid("defaultButtonCell"),function(a){with(a)return objj_msgSend(a,
"defaultButton")}),new objj_method(sel_getUid("setDefaultButton:"),function(a,b,c){with(a){if(_defaultButton===c)return;objj_msgSend(_defaultButton,"keyEquivalent")===CPCarriageReturnCharacter&&objj_msgSend(_defaultButton,"setKeyEquivalent:",nil);_defaultButton=c;objj_msgSend(_defaultButton,"keyEquivalent")!==CPCarriageReturnCharacter&&objj_msgSend(_defaultButton,"setKeyEquivalent:",CPCarriageReturnCharacter)}}),new objj_method(sel_getUid("defaultButton"),function(a){with(a)return _defaultButton}),
new objj_method(sel_getUid("enableKeyEquivalentForDefaultButton"),function(a){with(a)_defaultButtonEnabled=YES}),new objj_method(sel_getUid("enableKeyEquivalentForDefaultButtonCell"),function(a){with(a)objj_msgSend(a,"enableKeyEquivalentForDefaultButton")}),new objj_method(sel_getUid("disableKeyEquivalentForDefaultButton"),function(a){with(a)_defaultButtonEnabled=NO}),new objj_method(sel_getUid("disableKeyEquivalentForDefaultButtonCell"),function(a){with(a)objj_msgSend(a,"disableKeyEquivalentForDefaultButton")})]);
class_addMethods(e,[new objj_method(sel_getUid("initialize"),function(b){with(b){if(b!=objj_msgSend(CPWindow,"class"))return;b=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPWindow,"class"));a=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPProgressIndicator/CPProgressIndicatorSpinningStyleRegular.gif"),CGSizeMake(16,16))}}),new objj_method(sel_getUid("_windowViewClassForStyleMask:"),function(a,b,c){with(a){if(c&CPHUDBackgroundWindowMask)return _CPHUDWindowView;
else if(c===CPBorderlessWindowMask)return _CPBorderlessWindowView;else if(c&CPDocModalWindowMask)return _CPDocModalWindowView;return _CPStandardWindowView}}),new objj_method(sel_getUid("_windowViewClassForFullPlatformWindowStyleMask:"),function(a){with(a)return _CPBorderlessBridgeWindowView}),new objj_method(sel_getUid("frameRectForContentRect:styleMask:"),function(a,b,c,e){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,"class"),"_windowViewClassForStyleMask:",e),"frameRectForContentRect:",
c)})]);var g=function(a){a=objj_msgSend(objj_msgSend(a,"contentView"),"subviews");for(var b=0;b<a.length;++b)a=a.concat(objj_msgSend(a[b],"subviews"));return a},n=function(a,b){var c=objj_msgSend(a,"convertRect:toView:",objj_msgSend(a,"bounds"),nil),e=objj_msgSend(b,"convertRect:toView:",objj_msgSend(b,"bounds"),nil),g=c.origin.y,d=e.origin.y,l=c.origin.x,n=e.origin.x;if(MIN(c.origin.y+c.size.height,e.origin.y+e.size.height)-MAX(g,d)>0){if(l<n)return CPOrderedAscending;if(l===n)return CPOrderedSame;
return CPOrderedDescending}if(g<d)return CPOrderedAscending;if(g===d)return CPOrderedSame;return CPOrderedDescending};b=objj_getClass("CPWindow");if(!b)throw new SyntaxError('*** Could not find definition for class "CPWindow"');e=b.isa;class_addMethods(b,[new objj_method(sel_getUid("_synchronizeMenuBarTitleWithWindowTitle"),function(a){with(a){if(!objj_msgSend(_windowController,"document")||!objj_msgSend(a,"isMainWindow"))return;objj_msgSend(CPMenu,"setMenuBarTitle:",_title)}})]);b=objj_getClass("CPWindow");
if(!b)throw new SyntaxError('*** Could not find definition for class "CPWindow"');e=b.isa;class_addMethods(b,[new objj_method(sel_getUid("resizeWithOldPlatformWindowSize:"),function(a,b,c){with(a){if(objj_msgSend(a,"isFullPlatformWindow"))return objj_msgSend(a,"setFrame:",objj_msgSend(_platformWindow,"visibleFrame"));if(_autoresizingMask==CPWindowNotSizable)return;var e=objj_msgSend(_platformWindow,"contentBounds");b=CGRectMakeCopy(_frame);var g=(CGRectGetWidth(e)-c.width)/((_autoresizingMask&CPWindowMinXMargin?
1:0)+(_autoresizingMask&CPWindowWidthSizable?1:0)+(_autoresizingMask&CPWindowMaxXMargin?1:0));c=(CGRectGetHeight(e)-c.height)/((_autoresizingMask&CPWindowMinYMargin?1:0)+(_autoresizingMask&CPWindowHeightSizable?1:0)+(_autoresizingMask&CPWindowMaxYMargin?1:0));_autoresizingMask&CPWindowMinXMargin&&(b.origin.x+=g);_autoresizingMask&CPWindowWidthSizable&&(b.size.width+=g);_autoresizingMask&CPWindowMinYMargin&&(b.origin.y+=c);_autoresizingMask&CPWindowHeightSizable&&(b.size.height+=c);objj_msgSend(a,
"setFrame:",b)}}),new objj_method(sel_getUid("setAutoresizingMask:"),function(a,b,c){with(a)_autoresizingMask=c}),new objj_method(sel_getUid("autoresizingMask"),function(a){with(a)return _autoresizingMask}),new objj_method(sel_getUid("convertBaseToGlobal:"),function(a,b,c){with(a)return objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(a,"convertBaseToPlatformWindow:",c):objj_msgSend(a,"convertBaseToScreen:",c)}),new objj_method(sel_getUid("convertGlobalToBase:"),function(a,b,c){with(a)return objj_msgSend(CPPlatform,
"isBrowser")?objj_msgSend(a,"convertPlatformWindowToBase:",c):objj_msgSend(a,"convertScreenToBase:",c)}),new objj_method(sel_getUid("convertBaseToPlatformWindow:"),function(a,b,c){with(a){if(objj_msgSend(a,"_sharesChromeWithPlatformWindow"))return c;a=objj_msgSend(a,"frame").origin;return{x:c.x+a.x,y:c.y+a.y}}}),new objj_method(sel_getUid("convertPlatformWindowToBase:"),function(a,b,c){with(a){if(objj_msgSend(a,"_sharesChromeWithPlatformWindow"))return c;a=objj_msgSend(a,"frame").origin;return{x:c.x-
a.x,y:c.y-a.y}}}),new objj_method(sel_getUid("convertScreenToBase:"),function(a,c,b){with(a)return objj_msgSend(a,"convertPlatformWindowToBase:",objj_msgSend(_platformWindow,"convertScreenToBase:",b))}),new objj_method(sel_getUid("convertBaseToScreen:"),function(a,c,b){with(a)return objj_msgSend(_platformWindow,"convertBaseToScreen:",objj_msgSend(a,"convertBaseToPlatformWindow:",b))}),new objj_method(sel_getUid("_setSharesChromeWithPlatformWindow:"),function(a,b,c){with(a){if(c&&objj_msgSend(CPPlatform,
"isBrowser"))return;_sharesChromeWithPlatformWindow=c;objj_msgSend(a,"_updateShadow")}}),new objj_method(sel_getUid("_sharesChromeWithPlatformWindow"),function(a){with(a)return _sharesChromeWithPlatformWindow}),new objj_method(sel_getUid("undoManager"),function(a){with(a){if(_undoManager)return _undoManager;var c=objj_msgSend(objj_msgSend(_windowController,"document"),"undoManager");if(c)return c;if(_delegateRespondsToWindowWillReturnUndoManagerSelector)return objj_msgSend(_delegate,"windowWillReturnUndoManager:",
a);_undoManager||(_undoManager=objj_msgSend(objj_msgSend(CPUndoManager,"alloc"),"init"));return _undoManager}}),new objj_method(sel_getUid("undo:"),function(a){with(a)objj_msgSend(objj_msgSend(a,"undoManager"),"undo")}),new objj_method(sel_getUid("redo:"),function(a){with(a)objj_msgSend(objj_msgSend(a,"undoManager"),"redo")}),new objj_method(sel_getUid("containsPoint:"),function(a,c,b){with(a)return CGRectContainsPoint(_frame,b)})]);b=objj_getClass("CPWindow");if(!b)throw new SyntaxError('*** Could not find definition for class "CPWindow"');
e=b.isa;class_addMethods(b,[new objj_method(sel_getUid("setFullBridge:"),function(a,c,b){with(a)objj_msgSend(a,"setFullPlatformWindow:",b)}),new objj_method(sel_getUid("isFullBridge"),function(a){with(a)return objj_msgSend(a,"isFullPlatformWindow")}),new objj_method(sel_getUid("convertBaseToBridge:"),function(a,c,b){with(a)return objj_msgSend(a,"convertBaseToPlatformWindow:",b)}),new objj_method(sel_getUid("convertBridgeToBase:"),function(a,c,b){with(a)return objj_msgSend(a,"convertPlatformWindowToBase:",
b)})]);var l=function(a,c,b){return a+(c-a)*b};b=objj_allocateClassPair(CPAnimation,"_CPWindowFrameAnimation");e=b.isa;class_addIvars(b,[new objj_ivar("_window"),new objj_ivar("_startFrame"),new objj_ivar("_targetFrame")]);objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("initWithWindow:targetFrame:"),function(a,c,b,e){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPWindowFrameAnimation").super_class},"initWithDuration:animationCurve:",objj_msgSend(b,
"animationResizeTime:",e),CPAnimationLinear))_window=b,_targetFrame=CGRectMakeCopy(e),_startFrame=CGRectMakeCopy(objj_msgSend(_window,"frame"));return a}}),new objj_method(sel_getUid("startAnimation"),function(a){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPWindowFrameAnimation").super_class},"startAnimation"),_window._isAnimating=YES}),new objj_method(sel_getUid("setCurrentProgress:"),function(a,b,c){with(a){objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPWindowFrameAnimation").super_class},
"setCurrentProgress:",c);a=objj_msgSend(a,"currentValue");if(a==1)_window._isAnimating=NO;a=CGRectMake(l(CGRectGetMinX(_startFrame),CGRectGetMinX(_targetFrame),a),l(CGRectGetMinY(_startFrame),CGRectGetMinY(_targetFrame),a),l(CGRectGetWidth(_startFrame),CGRectGetWidth(_targetFrame),a),l(CGRectGetHeight(_startFrame),CGRectGetHeight(_targetFrame),a));objj_msgSend(_window,"setFrame:display:animate:",a,YES,NO)}})]);_CPWindowFullPlatformWindowSessionMake=function(a,b,c,e){return{windowView:a,contentRect:b,
hasShadow:c,level:e}};CPStandardWindowShadowStyle=0;CPMenuWindowShadowStyle=1;CPPanelWindowShadowStyle=2;CPCustomWindowShadowStyle=3;h("_CPWindowView.j",YES);h("_CPStandardWindowView.j",YES);h("_CPDocModalWindowView.j",YES);h("_CPHUDWindowView.j",YES);h("_CPBorderlessWindowView.j",YES);h("_CPBorderlessBridgeWindowView.j",YES);h("CPDragServer.j",YES);h("CPView.j",YES)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPApplication.j",baseURL),function(j,h){h("Foundation/CPBundle.j",NO);h("CPCompatibility.j",YES);h("CPEvent.j",YES);h("CPMenu.j",YES);h("CPResponder.j",YES);h("CPDocumentController.j",YES);h("CPThemeBlend.j",YES);h("CPCibLoading.j",YES);h("CPPlatform.j",YES);CPApp=nil;CPApplicationWillFinishLaunchingNotification="CPApplicationWillFinishLaunchingNotification";CPApplicationDidFinishLaunchingNotification="CPApplicationDidFinishLaunchingNotification";
CPApplicationWillTerminateNotification="CPApplicationWillTerminateNotification";CPApplicationWillBecomeActiveNotification="CPApplicationWillBecomeActiveNotification";CPApplicationDidBecomeActiveNotification="CPApplicationDidBecomeActiveNotification";CPApplicationWillResignActiveNotification="CPApplicationWillResignActiveNotification";CPApplicationDidResignActiveNotification="CPApplicationDidResignActiveNotification";CPTerminateNow=YES;CPTerminateCancel=NO;CPTerminateLater=-1;CPRunStoppedResponse=
-1E3;CPRunAbortedResponse=-1001;CPRunContinuesResponse=-1002;var f=objj_allocateClassPair(CPResponder,"CPApplication"),d=f.isa;class_addIvars(f,[new objj_ivar("_eventListeners"),new objj_ivar("_currentEvent"),new objj_ivar("_windows"),new objj_ivar("_keyWindow"),new objj_ivar("_mainWindow"),new objj_ivar("_previousKeyWindow"),new objj_ivar("_previousMainWindow"),new objj_ivar("_documentController"),new objj_ivar("_currentSession"),new objj_ivar("_delegate"),new objj_ivar("_finishedLaunching"),new objj_ivar("_isActive"),
new objj_ivar("_namedArgs"),new objj_ivar("_args"),new objj_ivar("_fullArgsString"),new objj_ivar("_applicationIconImage"),new objj_ivar("_aboutPanel"),new objj_ivar("_themeBlend")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("themeBlend"),function(a){with(a)return _themeBlend}),new objj_method(sel_getUid("setThemeBlend:"),function(a,b,e){with(a)_themeBlend=e}),new objj_method(sel_getUid("init"),function(a){with(a){if(CPApp=a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPApplication").super_class},
"init"))_eventListeners=[],_windows=[],objj_msgSend(_windows,"addObject:",nil);return a}}),new objj_method(sel_getUid("setDelegate:"),function(a,b,e){with(a){if(_delegate==e)return;b=objj_msgSend(CPNotificationCenter,"defaultCenter");var g=[CPApplicationWillFinishLaunchingNotification,sel_getUid("applicationWillFinishLaunching:"),CPApplicationDidFinishLaunchingNotification,sel_getUid("applicationDidFinishLaunching:"),CPApplicationWillBecomeActiveNotification,sel_getUid("applicationWillBecomeActive:"),
CPApplicationDidBecomeActiveNotification,sel_getUid("applicationDidBecomeActive:"),CPApplicationWillResignActiveNotification,sel_getUid("applicationWillResignActive:"),CPApplicationDidResignActiveNotification,sel_getUid("applicationDidResignActive:"),CPApplicationWillTerminateNotification,sel_getUid("applicationWillTerminate:")],d=objj_msgSend(g,"count");if(_delegate)for(var l=0;l<d;l+=2){var i=g[l],k=g[l+1];objj_msgSend(_delegate,"respondsToSelector:",k)&&objj_msgSend(b,"removeObserver:name:object:",
_delegate,i,a)}_delegate=e;for(l=0;l<d;l+=2)i=g[l],k=g[l+1],objj_msgSend(_delegate,"respondsToSelector:",k)&&objj_msgSend(b,"addObserver:selector:name:object:",_delegate,k,i,a)}}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("finishLaunching"),function(a){with(a){window.status=" ";objj_msgSend(objj_msgSend(CPCursor,"arrowCursor"),"set");var b=objj_msgSend(CPBundle,"mainBundle"),e=objj_msgSend(b,"objectForInfoDictionaryKey:","CPBundleDocumentTypes");
objj_msgSend(e,"count")>0&&(_documentController=objj_msgSend(CPDocumentController,"sharedDocumentController"));if(b=objj_msgSend(b,"objectForInfoDictionaryKey:","CPApplicationDelegateClass"))(b=objj_getClass(b))&&(objj_msgSend(_documentController,"class")==b?objj_msgSend(a,"setDelegate:",_documentController):objj_msgSend(a,"setDelegate:",objj_msgSend(objj_msgSend(b,"alloc"),"init")));b=objj_msgSend(CPNotificationCenter,"defaultCenter");objj_msgSend(b,"postNotificationName:object:",CPApplicationWillFinishLaunchingNotification,
a);e=!!_documentController;for(var g=window.cpOpeningURLStrings&&window.cpOpeningURLStrings(),d=0,l=objj_msgSend(g,"count");d<l;++d)e=!objj_msgSend(a,"_openURL:",objj_msgSend(CPURL,"URLWithString:",g[d]))||e;e&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("applicationShouldOpenUntitledFile:"))&&(e=objj_msgSend(_delegate,"applicationShouldOpenUntitledFile:",a));e&&objj_msgSend(_documentController,"newDocument:",a);objj_msgSend(_documentController,"_updateRecentDocumentsMenu");objj_msgSend(b,
"postNotificationName:object:",CPApplicationDidFinishLaunchingNotification,a);objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode);_finishedLaunching=YES}}),new objj_method(sel_getUid("terminate:"),function(a){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPApplicationWillTerminateNotification,a),objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(objj_msgSend(objj_msgSend(a,"keyWindow"),"platformWindow"),
"_propagateCurrentDOMEvent:",YES):objj_msgSend(objj_msgSend(CPDocumentController,"sharedDocumentController"),"closeAllDocumentsWithDelegate:didCloseAllSelector:contextInfo:",a,sel_getUid("_documentController:didCloseAll:context:"),nil)}),new objj_method(sel_getUid("setApplicationIconImage:"),function(a,b,e){with(a)_applicationIconImage=e}),new objj_method(sel_getUid("applicationIconImage"),function(a){with(a){if(_applicationIconImage)return _applicationIconImage;(a=objj_msgSend(objj_msgSend(CPBundle,
"mainBundle"),"objectForInfoDictionaryKey:","CPApplicationIcon"))&&(_applicationIconImage=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:",a));return _applicationIconImage}}),new objj_method(sel_getUid("orderFrontStandardAboutPanel:"),function(a){with(a)objj_msgSend(a,"orderFrontStandardAboutPanelWithOptions:",nil)}),new objj_method(sel_getUid("orderFrontStandardAboutPanelWithOptions:"),function(a,b,e){with(a){if(!_aboutPanel){var g=objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),
"infoDictionary");b=objj_msgSend(e,"objectForKey:","ApplicationName")||objj_msgSend(g,"objectForKey:","CPBundleName");var d=objj_msgSend(e,"objectForKey:","ApplicationIcon")||objj_msgSend(a,"applicationIconImage"),l=objj_msgSend(e,"objectForKey:","Version")||objj_msgSend(g,"objectForKey:","CPBundleVersion"),i=objj_msgSend(e,"objectForKey:","ApplicationVersion")||objj_msgSend(g,"objectForKey:","CPBundleShortVersionString");e=objj_msgSend(e,"objectForKey:","Copyright")||objj_msgSend(g,"objectForKey:",
"CPHumanReadableCopyright");g=objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPWindowController,"class")),"pathForResource:","AboutPanel.cib");var k=objj_msgSend(CPWindowController,"alloc");k=objj_msgSend(k,"initWithWindowCibPath:owner:",g,k);g=objj_msgSend(k,"window");var f=objj_msgSend(g,"contentView");k=objj_msgSend(f,"viewWithTag:",1);var h=objj_msgSend(f,"viewWithTag:",2),p=objj_msgSend(f,"viewWithTag:",3);f=objj_msgSend(f,"viewWithTag:",4);var t=objj_msgSend(objj_msgSend(CPBundle,
"bundleForClass:",objj_msgSend(a,"class")),"pathForResource:","standardApplicationIcon.png");objj_msgSend(h,"setFont:",objj_msgSend(CPFont,"boldSystemFontOfSize:",14));objj_msgSend(h,"setAlignment:",CPCenterTextAlignment);objj_msgSend(p,"setAlignment:",CPCenterTextAlignment);objj_msgSend(f,"setAlignment:",CPCenterTextAlignment);objj_msgSend(k,"setImage:",d||objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",t,CGSizeMake(256,256)));objj_msgSend(h,"setStringValue:",b||"");i&&
l?objj_msgSend(p,"setStringValue:","Version "+i+" ("+l+")"):i||l?objj_msgSend(p,"setStringValue:","Version "+(i||l)):objj_msgSend(p,"setStringValue:","");objj_msgSend(f,"setStringValue:",e||"");objj_msgSend(g,"center");_aboutPanel=g}objj_msgSend(_aboutPanel,"orderFront:",a)}}),new objj_method(sel_getUid("_documentController:didCloseAll:context:"),function(a,b,e,g){with(a)g&&(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("applicationShouldTerminate:"))?objj_msgSend(a,"replyToApplicationShouldTerminate:",
objj_msgSend(_delegate,"applicationShouldTerminate:",a)):objj_msgSend(a,"replyToApplicationShouldTerminate:",YES))}),new objj_method(sel_getUid("replyToApplicationShouldTerminate:"),function(a,b,e){with(a)e==CPTerminateNow&&(objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPApplicationWillTerminateNotification,a),objj_msgSend(CPPlatform,"terminateApplication"))}),new objj_method(sel_getUid("activateIgnoringOtherApps:"),function(a,b,e){with(a)objj_msgSend(a,
"_willBecomeActive"),objj_msgSend(CPPlatform,"activateIgnoringOtherApps:",e),_isActive=YES,objj_msgSend(a,"_willResignActive")}),new objj_method(sel_getUid("deactivate"),function(a){with(a)objj_msgSend(a,"_willResignActive"),objj_msgSend(CPPlatform,"deactivate"),_isActive=NO,objj_msgSend(a,"_didResignActive")}),new objj_method(sel_getUid("isActive"),function(a){with(a)return _isActive}),new objj_method(sel_getUid("hideOtherApplications:"),function(a){with(a)objj_msgSend(CPPlatform,"hideOtherApplications:",
a)}),new objj_method(sel_getUid("run"),function(a){with(a)objj_msgSend(a,"finishLaunching")}),new objj_method(sel_getUid("runModalForWindow:"),function(a,b,e){with(a)objj_msgSend(a,"runModalSession:",objj_msgSend(a,"beginModalSessionForWindow:",e))}),new objj_method(sel_getUid("stopModalWithCode:"),function(a,b,e){with(a){if(!_currentSession)return;_currentSession._state=e;_currentSession=_currentSession._previous;objj_msgSend(a,"_removeRunModalLoop")}}),new objj_method(sel_getUid("_removeRunModalLoop"),
function(a){with(a)for(a=_eventListeners.length;a--;)if(_eventListeners[a]._callback===_CPRunModalLoop){_eventListeners.splice(a,1);break}}),new objj_method(sel_getUid("stopModal"),function(a){with(a)objj_msgSend(a,"stopModalWithCode:",CPRunStoppedResponse)}),new objj_method(sel_getUid("abortModal"),function(a){with(a)objj_msgSend(a,"stopModalWithCode:",CPRunAbortedResponse)}),new objj_method(sel_getUid("beginModalSessionForWindow:"),function(a,b,e){with(a)return{_window:e,_state:CPRunContinuesResponse,
_previous:nil}}),new objj_method(sel_getUid("runModalSession:"),function(a,b,e){with(a)e._previous=_currentSession,_currentSession=e,b=e._window,objj_msgSend(b,"center"),objj_msgSend(b,"makeKeyWindow"),objj_msgSend(b,"orderFront:",a),objj_msgSend(CPApp,"setCallback:forNextEventMatchingMask:untilDate:inMode:dequeue:",_CPRunModalLoop,CPAnyEventMask,nil,0,NO)}),new objj_method(sel_getUid("modalWindow"),function(a){with(a){if(!_currentSession)return nil;return _currentSession._window}}),new objj_method(sel_getUid("_handleKeyEquivalent:"),
function(a,b,e){with(a)return objj_msgSend(objj_msgSend(a,"keyWindow"),"performKeyEquivalent:",e)||objj_msgSend(objj_msgSend(a,"mainMenu"),"performKeyEquivalent:",e)}),new objj_method(sel_getUid("sendEvent:"),function(a,b,e){with(a){_currentEvent=e;b=objj_msgSend(objj_msgSend(objj_msgSend(e,"window"),"platformWindow"),"_willPropagateCurrentDOMEvent");objj_msgSend(objj_msgSend(objj_msgSend(e,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",NO);if(objj_msgSend(e,"_couldBeKeyEquivalent")&&objj_msgSend(a,
"_handleKeyEquivalent:",e)){a=objj_msgSend(e,"characters");b=objj_msgSend(e,"modifierFlags");(a=="c"||a=="x"||a=="v")&&b&CPPlatformActionKeyMask&&objj_msgSend(objj_msgSend(objj_msgSend(e,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES);return}objj_msgSend(objj_msgSend(objj_msgSend(e,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",b);if(_eventListeners.length){_eventListeners[_eventListeners.length-1]._mask&1<<objj_msgSend(e,"type")&&_eventListeners.pop()._callback(e);return}objj_msgSend(objj_msgSend(e,
"window"),"sendEvent:",e)}}),new objj_method(sel_getUid("doCommandBySelector:"),function(a,b,e){with(a)objj_msgSend(_delegate,"respondsToSelector:",e)?objj_msgSend(_delegate,"performSelector:",e):objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPApplication").super_class},"doCommandBySelector:",e)}),new objj_method(sel_getUid("keyWindow"),function(a){with(a)return _keyWindow}),new objj_method(sel_getUid("mainWindow"),function(a){with(a)return _mainWindow}),new objj_method(sel_getUid("windowWithWindowNumber:"),
function(a,b,e){with(a)return _windows[e]}),new objj_method(sel_getUid("windows"),function(a){with(a)return _windows}),new objj_method(sel_getUid("orderedWindows"),function(a){with(a)return CPWindowObjectList()}),new objj_method(sel_getUid("hide:"),function(a){with(a)objj_msgSend(CPPlatform,"hide:",a)}),new objj_method(sel_getUid("mainMenu"),function(a){with(a)return objj_msgSend(a,"menu")}),new objj_method(sel_getUid("setMainMenu:"),function(a,b,e){with(a)objj_msgSend(a,"setMenu:",e)}),new objj_method(sel_getUid("setMenu:"),
function(a,b,e){with(a)if(objj_msgSend(e,"_menuName")==="CPMainMenu"){if(objj_msgSend(a,"menu")===e)return;objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPApplication").super_class},"setMenu:",e);objj_msgSend(CPPlatform,"supportsNativeMainMenu")&&window.cpSetMainMenu(objj_msgSend(a,"menu"))}else objj_msgSend(e,"_setMenuName:","CPMainMenu")}),new objj_method(sel_getUid("orderFrontColorPanel:"),function(a){with(a)objj_msgSend(objj_msgSend(CPColorPanel,"sharedColorPanel"),"orderFront:",a)}),
new objj_method(sel_getUid("tryToPerform:with:"),function(a,b,e,g){with(a){if(!e)return NO;if(objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPApplication").super_class},"tryToPerform:with:",e,g))return YES;if(objj_msgSend(_delegate,"respondsToSelector:",e))return objj_msgSend(_delegate,"performSelector:withObject:",e,g),YES;return NO}}),new objj_method(sel_getUid("sendAction:to:from:"),function(a,b,e,g,d){with(a){a=objj_msgSend(a,"targetForAction:to:from:",e,g,d);if(!a)return NO;objj_msgSend(a,
"performSelector:withObject:",e,d);return YES}}),new objj_method(sel_getUid("targetForAction:to:from:"),function(a,b,e,g){with(a){if(!e)return nil;if(g)return g;return objj_msgSend(a,"targetForAction:",e)}}),new objj_method(sel_getUid("_targetForWindow:action:"),function(a,b,e,g){with(a){a=objj_msgSend(e,"firstResponder");for(b=YES;a;){if(objj_msgSend(a,"respondsToSelector:",g))return a;a==e&&(b=NO);a=objj_msgSend(a,"nextResponder")}if(b&&objj_msgSend(e,"respondsToSelector:",g))return e;a=objj_msgSend(e,
"delegate");if(objj_msgSend(a,"respondsToSelector:",g))return a;e=objj_msgSend(e,"windowController");if(objj_msgSend(e,"respondsToSelector:",g))return e;e=objj_msgSend(e,"document");if(e!==a&&objj_msgSend(e,"respondsToSelector:",g))return e;return nil}}),new objj_method(sel_getUid("targetForAction:"),function(a,b,e){with(a){if(!e)return nil;if(b=objj_msgSend(a,"_targetForWindow:action:",objj_msgSend(a,"keyWindow"),e))return b;if(b=objj_msgSend(a,"_targetForWindow:action:",objj_msgSend(a,"mainWindow"),
e))return b;if(objj_msgSend(a,"respondsToSelector:",e))return a;if(objj_msgSend(_delegate,"respondsToSelector:",e))return _delegate;if(objj_msgSend(_documentController,"respondsToSelector:",e))return _documentController;return nil}}),new objj_method(sel_getUid("setCallback:forNextEventMatchingMask:untilDate:inMode:dequeue:"),function(a,b,e,g){with(a)_eventListeners.push({_mask:g,_callback:e})}),new objj_method(sel_getUid("setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:"),function(a,
b,e,g,d){with(a)_eventListeners.push({_mask:d,_callback:function(a){objj_msgSend(e,g,a)}})}),new objj_method(sel_getUid("currentEvent"),function(a){with(a)return _currentEvent}),new objj_method(sel_getUid("beginSheet:modalForWindow:modalDelegate:didEndSelector:contextInfo:"),function(a,b,e,g,d,l,i){with(a){if(!(objj_msgSend(e,"styleMask")&CPDocModalWindowMask)){objj_msgSend(CPException,"raise:reason:",CPInternalInconsistencyException,"Currently only CPDocModalWindowMask style mask is supported for attached sheets");
return}objj_msgSend(g,"orderFront:",a);objj_msgSend(e,"setPlatformWindow:",objj_msgSend(g,"platformWindow"));objj_msgSend(g,"_attachSheet:modalDelegate:didEndSelector:contextInfo:",e,d,l,i)}}),new objj_method(sel_getUid("endSheet:returnCode:"),function(a,b,e,g){with(a)for(a=objj_msgSend(_windows,"count");--a>=0;){b=objj_msgSend(_windows,"objectAtIndex:",a);var d=b._sheetContext;if(d!=nil&&d.sheet===e){d.returnCode=g;objj_msgSend(b,"_detachSheetWindow");break}}}),new objj_method(sel_getUid("endSheet:"),
function(a,b,e){with(a)objj_msgSend(a,"endSheet:returnCode:",e,0)}),new objj_method(sel_getUid("arguments"),function(a){with(a)return _fullArgsString!==window.location.hash&&objj_msgSend(a,"_reloadArguments"),_args}),new objj_method(sel_getUid("setArguments:"),function(a,b,e){with(a){if(!e||e.length==0){_args=[];window.location.hash="#";return}objj_msgSend(e,"isKindOfClass:",CPArray)||(e=objj_msgSend(CPArray,"arrayWithObject:",e));_args=e;a=objj_msgSend(_args,"copy");b=0;for(e=a.length;b<e;b++)a[b]=
encodeURIComponent(a[b]);a=objj_msgSend(a,"componentsJoinedByString:","/");window.location.hash="#"+a}}),new objj_method(sel_getUid("_reloadArguments"),function(a){with(a)if(_fullArgsString=window.location.hash,_fullArgsString.length){a=_fullArgsString.substring(1).split("/");for(var b=0,e=a.length;b<e;b++)a[b]=decodeURIComponent(a[b]);_args=a}else _args=[]}),new objj_method(sel_getUid("namedArguments"),function(a){with(a)return _namedArgs}),new objj_method(sel_getUid("_openURL:"),function(a,b,e){with(a){if(_delegate&&
objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("application:openFile:")))return CPLog.warn("application:openFile: is deprecated, use application:openURL: instead."),objj_msgSend(_delegate,"application:openFile:",a,objj_msgSend(e,"absoluteString"));if(_delegate&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("application:openURL:")))return objj_msgSend(_delegate,"application:openURL:",a,e);return!!objj_msgSend(_documentController,"openDocumentWithContentsOfURL:display:error:",e,YES,
NULL)}}),new objj_method(sel_getUid("_willBecomeActive"),function(a){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPApplicationWillBecomeActiveNotification,a,nil)}),new objj_method(sel_getUid("_didBecomeActive"),function(a){with(a)!objj_msgSend(a,"keyWindow")&&_previousKeyWindow&&objj_msgSend(objj_msgSend(a,"windows"),"indexOfObjectIdenticalTo:",_previousKeyWindow)!==CPNotFound&&objj_msgSend(_previousKeyWindow,"makeKeyWindow"),!objj_msgSend(a,
"mainWindow")&&_previousMainWindow&&objj_msgSend(objj_msgSend(a,"windows"),"indexOfObjectIdenticalTo:",_previousMainWindow)!==CPNotFound&&objj_msgSend(_previousMainWindow,"makeMainWindow"),objj_msgSend(a,"keyWindow")?objj_msgSend(objj_msgSend(a,"keyWindow"),"orderFront:",a):objj_msgSend(a,"mainWindow")?objj_msgSend(objj_msgSend(a,"mainWindow"),"makeKeyAndOrderFront:",a):objj_msgSend(objj_msgSend(a,"mainMenu")._menuWindow,"makeKeyWindow"),_previousMainWindow=_previousKeyWindow=nil,objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:userInfo:",CPApplicationDidBecomeActiveNotification,a,nil)}),new objj_method(sel_getUid("_willResignActive"),function(a){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPApplicationWillResignActiveNotification,a,nil)}),new objj_method(sel_getUid("_didResignActive"),function(a){with(a)a._activeMenu&&objj_msgSend(a._activeMenu,"cancelTracking"),objj_msgSend(a,"keyWindow")&&(_previousKeyWindow=
objj_msgSend(a,"keyWindow"),objj_msgSend(_previousKeyWindow,"resignKeyWindow")),objj_msgSend(a,"mainWindow")&&(_previousMainWindow=objj_msgSend(a,"mainWindow"),objj_msgSend(_previousMainWindow,"resignMainWindow")),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPApplicationDidResignActiveNotification,a,nil)})]);class_addMethods(d,[new objj_method(sel_getUid("sharedApplication"),function(a){with(a)return CPApp||(CPApp=objj_msgSend(objj_msgSend(CPApplication,
"alloc"),"init")),CPApp}),new objj_method(sel_getUid("defaultThemeName"),function(a){with(a)return objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"objectForInfoDictionaryKey:","CPDefaultTheme")||"Aristo"})]);_CPRunModalLoop=function(a){objj_msgSend(CPApp,"setCallback:forNextEventMatchingMask:untilDate:inMode:dequeue:",_CPRunModalLoop,CPAnyEventMask,nil,0,NO);var b=objj_msgSend(a,"window");(b==CPApp._currentSession._window||objj_msgSend(b,"worksWhenModal"))&&objj_msgSend(b,"sendEvent:",a)};CPApplicationMain=
function(a,b){window.parent!==window&&typeof window.parent._childAppIsStarting==="function"&&window.parent._childAppIsStarting(window);var e=objj_msgSend(CPBundle,"mainBundle");(e=objj_msgSend(e,"principalClass"))||(e=objj_msgSend(CPApplication,"class"));objj_msgSend(e,"sharedApplication");objj_msgSend(a,"containsObject:","debug")&&CPLogRegister(CPLogPopup);CPApp._args=a;CPApp._namedArgs=b;objj_msgSend(_CPAppBootstrapper,"performActions")};var a=nil;f=objj_allocateClassPair(CPObject,"_CPAppBootstrapper");
d=f.isa;objj_registerClassPair(f);class_addMethods(d,[new objj_method(sel_getUid("actions"),function(a){with(a)return[sel_getUid("bootstrapPlatform"),sel_getUid("loadDefaultTheme"),sel_getUid("loadMainCibFile")]}),new objj_method(sel_getUid("performActions"),function(c){with(c){for(a||(a=objj_msgSend(c,"actions"));a.length;){var b=a.shift();if(objj_msgSend(c,b))return}objj_msgSend(CPApp,"run")}}),new objj_method(sel_getUid("bootstrapPlatform"),function(a){with(a)return objj_msgSend(CPPlatform,"bootstrap")}),
new objj_method(sel_getUid("loadDefaultTheme"),function(a){with(a){var b=objj_msgSend(CPApplication,"defaultThemeName"),e=nil;e=b==="Aristo"?objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPApplication,"class")),"pathForResource:",b+".blend"):objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"pathForResource:",b+".blend");b=objj_msgSend(objj_msgSend(CPThemeBlend,"alloc"),"initWithContentsOfURL:",e);objj_msgSend(b,"loadWithDelegate:",a);return YES}}),new objj_method(sel_getUid("blendDidFinishLoading:"),
function(a,b,e){with(a)objj_msgSend(objj_msgSend(CPApplication,"sharedApplication"),"setThemeBlend:",e),objj_msgSend(CPTheme,"setDefaultTheme:",objj_msgSend(CPTheme,"themeNamed:",objj_msgSend(CPApplication,"defaultThemeName"))),objj_msgSend(a,"performActions")}),new objj_method(sel_getUid("loadMainCibFile"),function(a){with(a){var b=objj_msgSend(CPBundle,"mainBundle"),e=objj_msgSend(b,"objectForInfoDictionaryKey:","CPMainCibFile")||objj_msgSend(b,"objectForInfoDictionaryKey:","Main cib file base name");
if(e)return objj_msgSend(b,"loadCibFile:externalNameTable:loadDelegate:",e,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",CPApp,CPCibOwner),a),YES;else objj_msgSend(a,"loadCiblessBrowserMainMenu");return NO}}),new objj_method(sel_getUid("loadCiblessBrowserMainMenu"),function(a){with(a){a=objj_msgSend(objj_msgSend(CPMenu,"alloc"),"initWithTitle:","MainMenu");objj_msgSend(a,"setAutoenablesItems:",NO);var b=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPApplication,"class")),e=objj_msgSend(objj_msgSend(CPMenuItem,
"alloc"),"initWithTitle:action:keyEquivalent:","New",sel_getUid("newDocument:"),"n");objj_msgSend(e,"setImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPApplication/New.png"),CGSizeMake(16,16)));objj_msgSend(e,"setAlternateImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPApplication/NewHighlighted.png"),CGSizeMake(16,16)));objj_msgSend(a,"addItem:",e);e=objj_msgSend(objj_msgSend(CPMenuItem,
"alloc"),"initWithTitle:action:keyEquivalent:","Open",sel_getUid("openDocument:"),"o");objj_msgSend(e,"setImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPApplication/Open.png"),CGSizeMake(16,16)));objj_msgSend(e,"setAlternateImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPApplication/OpenHighlighted.png"),CGSizeMake(16,16)));objj_msgSend(a,"addItem:",e);e=objj_msgSend(objj_msgSend(CPMenu,
"alloc"),"initWithTitle:","Save");var g=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Save",sel_getUid("saveDocument:"),nil);objj_msgSend(g,"setImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPApplication/Save.png"),CGSizeMake(16,16)));objj_msgSend(g,"setAlternateImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPApplication/SaveHighlighted.png"),
CGSizeMake(16,16)));objj_msgSend(e,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Save",sel_getUid("saveDocument:"),"s"));objj_msgSend(e,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Save As",sel_getUid("saveDocumentAs:"),nil));objj_msgSend(g,"setSubmenu:",e);objj_msgSend(a,"addItem:",g);b=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Edit",nil,nil);e=objj_msgSend(objj_msgSend(CPMenu,
"alloc"),"initWithTitle:","Edit");g=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Undo",sel_getUid("undo:"),CPUndoKeyEquivalent);var d=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Redo",sel_getUid("redo:"),CPRedoKeyEquivalent);objj_msgSend(g,"setKeyEquivalentModifierMask:",CPUndoKeyEquivalentModifierMask);objj_msgSend(d,"setKeyEquivalentModifierMask:",CPRedoKeyEquivalentModifierMask);objj_msgSend(e,"addItem:",g);objj_msgSend(e,
"addItem:",d);objj_msgSend(e,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Cut",sel_getUid("cut:"),"x"));objj_msgSend(e,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Copy",sel_getUid("copy:"),"c"));objj_msgSend(e,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Paste",sel_getUid("paste:"),"v"));objj_msgSend(b,"setSubmenu:",e);objj_msgSend(b,"setHidden:",
YES);objj_msgSend(a,"addItem:",b);objj_msgSend(a,"addItem:",objj_msgSend(CPMenuItem,"separatorItem"));objj_msgSend(CPApp,"setMainMenu:",a)}}),new objj_method(sel_getUid("cibDidFinishLoading:"),function(a){with(a)objj_msgSend(a,"performActions")}),new objj_method(sel_getUid("cibDidFailToLoad:"),function(a){with(a)throw Error("Could not load main cib file (Did you forget to nib2cib it?).");}),new objj_method(sel_getUid("reset"),function(c){with(c)a=nil})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CGContext.j",baseURL),function(j,h){h("CGAffineTransform.j",YES);h("CPCompatibility.j",YES);h("CGGeometry.j",YES);h("CGPath.j",YES);kCGLineCapButt=0;kCGLineCapRound=1;kCGLineCapSquare=2;kCGLineJoinMiter=0;kCGLineJoinRound=1;kCGLineJoinBevel=2;kCGPathFill=0;kCGPathEOFill=1;kCGPathStroke=2;kCGPathFillStroke=3;kCGPathEOFillStroke=4;kCGBlendModeNormal=0;kCGBlendModeMultiply=1;kCGBlendModeScreen=2;kCGBlendModeOverlay=3;kCGBlendModeDarken=
4;kCGBlendModeLighten=5;kCGBlendModeColorDodge=6;kCGBlendModeColorBurn=7;kCGBlendModeSoftLight=8;kCGBlendModeHardLight=9;kCGBlendModeDifference=10;kCGBlendModeExclusion=11;kCGBlendModeHue=12;kCGBlendModeSaturation=13;kCGBlendModeColor=14;kCGBlendModeLuminosity=15;kCGBlendModeClear=16;kCGBlendModeCopy=17;kCGBlendModeSourceIn=18;kCGBlendModeSourceOut=19;kCGBlendModeSourceAtop=20;kCGBlendModeDestinationOver=21;kCGBlendModeDestinationIn=22;kCGBlendModeDestinationOut=23;kCGBlendModeDestinationAtop=24;
kCGBlendModeXOR=25;kCGBlendModePlusDarker=26;kCGBlendModePlusLighter=27;CGContextRelease=function(){};CGContextRetain=function(a){return a};CPFeatureIsCompatible(CPHTMLCanvasFeature)||(CGGStateCreate=function(){return{alpha:1,strokeStyle:"#000",fillStyle:"#ccc",lineWidth:1,lineJoin:kCGLineJoinMiter,lineCap:kCGLineCapButt,miterLimit:10,globalAlpha:1,blendMode:kCGBlendModeNormal,shadowOffset:{width:0,height:0},shadowBlur:0,shadowColor:NULL,CTM:{a:1,b:0,c:0,d:1,tx:0,ty:0}}},CGGStateCreateCopy=function(a){return{alpha:a.alpha,
strokeStyle:a.strokeStyle,fillStyle:a.fillStyle,lineWidth:a.lineWidth,lineJoin:a.lineJoin,lineCap:a.lineCap,miterLimit:a.miterLimit,globalAlpha:a.globalAlpha,blendMode:a.blendMode,shadowOffset:{width:a.shadowOffset.width,height:a.shadowOffset.height},shadowBlur:a.shadowBlur,shadowColor:a.shadowColor,CTM:{a:a.CTM.a,b:a.CTM.b,c:a.CTM.c,d:a.CTM.d,tx:a.CTM.tx,ty:a.CTM.ty}}},CGBitmapGraphicsContextCreate=function(){return{DOMElement:document.createElement("div"),path:NULL,gState:CGGStateCreate(),gStateStack:[]}},
CGContextSaveGState=function(a){a.gStateStack.push(CGGStateCreateCopy(a.gState))},CGContextRestoreGState=function(a){a.gState=a.gStateStack.pop()},CGContextSetLineCap=function(a,b){a.gState.lineCap=b},CGContextSetLineJoin=function(a,b){a.gState.lineJoin=b},CGContextSetLineWidth=function(a,b){a.gState.lineWidth=b},CGContextSetMiterLimit=function(a,b){a.gState.miterLimit=b},CGContextSetBlendMode=function(a,b){a.gState.blendMode=b},CGContextAddArc=function(a,b,c,e,g,d,n){CGPathAddArc(a.path,a.gState.CTM,
b,c,e,g,d,n)},CGContextAddArcToPoint=function(a,b,c,e,g,d){CGPathAddArcToPoint(a.path,a.gState.CTM,b,c,e,g,d)},CGContextAddCurveToPoint=function(a,b,c,e,g,d,n){CGPathAddCurveToPoint(a.path,a.gState.CTM,b,c,e,g,d,n)},CGContextAddLines=function(a,b,c){CGPathAddLines(a.path,a.gState.CTM,b,c)},CGContextAddLineToPoint=function(a,b,c){CGPathAddLineToPoint(a.path,a.gState.CTM,b,c)},CGContextAddPath=function(a,b){if(a&&!CGPathIsEmpty(b)){if(!a.path)a.path=CGPathCreateMutable();CGPathAddPath(a.path,a.gState.CTM,
b)}},CGContextAddQuadCurveToPoint=function(a,b,c,e,g){CGPathAddQuadCurveToPoint(a.path,a.gState.CTM,b,c,e,g)},CGContextAddRect=function(a,b){CGPathAddRect(a.path,a.gState.CTM,b)},CGContextAddRects=function(a,b,c){CGPathAddRects(a.path,a.gState.CTM,b,c)},CGContextBeginPath=function(a){a.path=CGPathCreateMutable()},CGContextClosePath=function(a){CGPathCloseSubpath(a.path)},CGContextMoveToPoint=function(a,b,c){if(!a.path)a.path=CGPathCreateMutable();CGPathMoveToPoint(a.path,a.gState.CTM,b,c)},CGContextFillRect=
function(a,b){CGContextFillRects(a,[b],1)},CGContextFillRects=function(a,b,c){if(c===void 0)c=b.length;CGContextBeginPath(a);CGContextAddRects(a,b,c);CGContextClosePath(a);CGContextDrawPath(a,kCGPathFill)},CGContextStrokeRect=function(a,b){CGContextBeginPath(a);CGContextAddRect(a,b);CGContextClosePath(a);CGContextDrawPath(a,kCGPathStroke)},CGContextStrokeRectWithWidth=function(a,b,c){CGContextSaveGState(a);CGContextSetLineWidth(a,c);CGContextStrokeRect(a,b);CGContextRestoreGState(a)},CGContextConcatCTM=
function(a,b){var c=a.gState.CTM,e=c.tx*b.a+c.ty*b.c+b.tx;c.ty=c.tx*b.b+c.ty*b.d+b.ty;c.tx=e;e=c.a*b.a+c.b*b.c;var g=c.a*b.b+c.b*b.d,d=c.c*b.a+c.d*b.c;c.d=c.c*b.b+c.d*b.d;c.a=e;c.b=g;c.c=d},CGContextGetCTM=function(a){return a.gState.CTM},CGContextRotateCTM=function(a,b){var c=a.gState;c.CTM=CGAffineTransformRotate(c.CTM,b)},CGContextScaleCTM=function(a,b,c){a=a.gState;a.CTM={a:a.CTM.a*b,b:a.CTM.b*b,c:a.CTM.c*c,d:a.CTM.d*c,tx:a.CTM.tx,ty:a.CTM.ty}},CGContextTranslateCTM=function(a,b,c){a=a.gState;
a.CTM={a:a.CTM.a,b:a.CTM.b,c:a.CTM.c,d:a.CTM.d,tx:a.CTM.tx+a.CTM.a*b+a.CTM.c*c,ty:a.CTM.ty+a.CTM.b*b+a.CTM.d*c}},CGContextSetShadow=function(a,b,c){a=a.gState;a.shadowOffset={width:b.width,height:b.height};a.shadowBlur=c;a.shadowColor=objj_msgSend(CPColor,"shadowColor")},CGContextSetShadowWithColor=function(a,b,c,e){a=a.gState;a.shadowOffset={width:b.width,height:b.height};a.shadowBlur=c;a.shadowColor=e},CGContextSetAlpha=function(a,b){a.gState.alpha=MAX(MIN(b,1),0)});CGContextEOFillPath=function(a){CGContextDrawPath(a,
kCGPathEOFill)};CGContextFillPath=function(a){CGContextDrawPath(a,kCGPathFill);CGContextClosePath(a)};CGContextAddEllipseInRect=function(a,b){CGContextBeginPath(a);CGContextAddPath(a,CGPathWithEllipseInRect(b));CGContextClosePath(a)};CGContextFillEllipseInRect=function(a,b){CGContextBeginPath(a);CGContextAddEllipseInRect(a,b);CGContextClosePath(a);CGContextFillPath(a)};CGContextStrokeEllipseInRect=function(a,b){CGContextBeginPath(a);CGContextAddEllipseInRect(a,b);CGContextClosePath(a);CGContextStrokePath(a)};
CGContextStrokePath=function(a){CGContextDrawPath(a,kCGPathStroke);CGContextClosePath(a)};CGContextStrokeLineSegments=function(a,b,c){var e=0;if(c===NULL)c=b.length;for(CGContextBeginPath(a);e<c;e+=2)CGContextMoveToPoint(a,b[e].x,b[e].y),CGContextAddLineToPoint(a,b[e+1].x,b[e+1].y);CGContextStrokePath(a)};CGContextSetFillColor=function(a,b){if(b)a.gState.fillStyle=objj_msgSend(b,"cssString")};CGContextSetStrokeColor=function(a,b){if(b)a.gState.strokeStyle=objj_msgSend(b,"cssString")};CGContextFillRoundedRectangleInRect=
function(a,b,c,e,g,d,n){CGContextBeginPath(a);CGContextAddPath(a,CGPathWithRoundedRectangleInRect(b,c,c,e,g,d,n));CGContextClosePath(a);CGContextFillPath(a)};CGContextStrokeRoundedRectangleInRect=function(a,b,c,e,g,d,n){CGContextBeginPath(a);CGContextAddPath(a,CGPathWithRoundedRectangleInRect(b,c,c,e,g,d,n));CGContextClosePath(a);CGContextStrokePath(a)};if(CPFeatureIsCompatible(CPHTMLCanvasFeature)){var f=["butt","round","square"],d=["miter","round","bevel"],a=["source-over","source-over","source-over",
"source-over","darker","lighter","source-over","source-over","source-over","source-over","source-over","source-over","source-over","source-over","source-over","source-over","source-over","copy","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","xor","source-over","source-over"];CGContextSaveGState=function(a){a.save()};CGContextRestoreGState=function(a){a.restore()};CGContextSetLineCap=function(a,b){a.lineCap=f[b]};CGContextSetLineJoin=
function(a,b){a.lineJoin=d[b]};CGContextSetLineWidth=function(a,b){a.lineWidth=b};CGContextSetMiterLimit=function(a,b){a.miterLimit=b};CGContextSetBlendMode=function(b,c){b.globalCompositeOperation=a[c]};CGContextAddArc=function(a,b,c,e,g,d,n){a.arc(b,c,e,g,d,!n)};CGContextAddArcToPoint=function(a,b,c,e,g,d){a.arcTo(b,c,e,g,d)};CGContextAddCurveToPoint=function(a,b,c,e,g,d,n){a.bezierCurveTo(b,c,e,g,d,n)};CGContextAddLineToPoint=function(a,b,c){a.lineTo(b,c)};CGContextAddPath=function(a,b){if(a&&
!CGPathIsEmpty(b))for(var c=b.elements,e=0,g=b.count;e<g;++e){var d=c[e];switch(d.type){case kCGPathElementMoveToPoint:a.moveTo(d.x,d.y);break;case kCGPathElementAddLineToPoint:a.lineTo(d.x,d.y);break;case kCGPathElementAddQuadCurveToPoint:a.quadraticCurveTo(d.cpx,d.cpy,d.x,d.y);break;case kCGPathElementAddCurveToPoint:a.bezierCurveTo(d.cp1x,d.cp1y,d.cp2x,d.cp2y,d.x,d.y);break;case kCGPathElementCloseSubpath:a.closePath();break;case kCGPathElementAddArc:a.arc(d.x,d.y,d.radius,d.startAngle,d.endAngle,
d.clockwise)}}};CGContextAddRect=function(a,b){a.rect(b.origin.x,b.origin.y,b.size.width,b.size.height)};CGContextAddRects=function(a,b,c){var e=0;if(c===NULL)c=b.length;for(;e<c;++e){var g=b[e];a.rect(g.origin.x,g.origin.y,g.size.width,g.size.height)}};CGContextBeginPath=function(a){a.beginPath()};CGContextClosePath=function(a){a.closePath()};CGContextMoveToPoint=function(a,b,c){a.moveTo(b,c)};CGContextClearRect=function(a,b){a.clearRect(b.origin.x,b.origin.y,b.size.width,b.size.height)};CGContextDrawPath=
function(a,b){b==kCGPathFill||b==kCGPathFillStroke?a.fill():(b==kCGPathEOFill||b==kCGPathEOFillStroke)&&alert("not implemented!!!");(b==kCGPathStroke||b==kCGPathFillStroke||b==kCGPathEOFillStroke)&&a.stroke()};CGContextFillRect=function(a,b){a.fillRect(b.origin.x,b.origin.y,b.size.width,b.size.height)};CGContextFillRects=function(a,b,c){var e=0;if(c===NULL)c=b.length;for(;e<c;++e){var g=b[e];a.fillRect(g.origin.x,g.origin.y,g.size.width,g.size.height)}};CGContextStrokeRect=function(a,b){a.strokeRect(b.origin.x,
b.origin.y,b.size.width,b.size.height)};CGContextClip=function(a){a.clip()};CGContextClipToRect=function(a,b){a.beginPath();a.rect(b.origin.x,b.origin.y,b.size.width,b.size.height);a.closePath();a.clip()};CGContextClipToRects=function(a,b,c){if(c===NULL)c=b.length;a.beginPath();CGContextAddRects(a,b,c);a.clip()};CGContextSetAlpha=function(a,b){a.globalAlpha=b};CGContextSetFillColor=function(a,b){if(objj_msgSend(b,"patternImage")){var c=objj_msgSend(b,"patternImage"),e=objj_msgSend(c,"size");e=e?new Image(e.width,
e.height):new Image;e.src=objj_msgSend(c,"filename");c=a.createPattern(e,"repeat");a.fillStyle=c}else a.fillStyle=objj_msgSend(b,"cssString")};CGContextSetStrokeColor=function(a,b){a.strokeStyle=objj_msgSend(b,"cssString")};CGContextSetShadow=function(a,b,c){a.shadowOffsetX=b.width;a.shadowOffsetY=b.height;a.shadowBlur=c};CGContextSetShadowWithColor=function(a,b,c,e){a.shadowOffsetX=b.width;a.shadowOffsetY=b.height;a.shadowBlur=c;a.shadowColor=objj_msgSend(e,"cssString")};CGContextRotateCTM=function(a,
b){a.rotate(b)};CGContextScaleCTM=function(a,b,c){a.scale(b,c)};CGContextTranslateCTM=function(a,b,c){a.translate(b,c)};eigen=function(){alert("IMPLEMENT ME!")};CGContextConcatCTM=CPFeatureIsCompatible(CPJavaScriptCanvasTransformFeature)?function(a,b){a.transform(b.a,b.b,b.c,b.d,b.tx,b.ty)}:function(a,b){var c=b.a,e=b.b,g=b.c,d=b.d,n=b.tx,f=b.ty,h=1,m=1,o=0,j=0;if(e==0&&g==0)h=c,m=d;else if(c*e==-g*d){h=c*d<0||e*g>0?-1:1;j=(ATAN2(e,d)+ATAN2(-h*g,h*c))/2;m=COS(j);var q=SIN(j);m==0?(h=-g/q,m=e/q):q==
0?(h=c/m,m=d/m):(abs_cos=ABS(m),abs_sin=ABS(q),h=(abs_cos*c/m+abs_sin*-g/q)/(abs_cos+abs_sin),m=(abs_cos*d/m+abs_sin*e/q)/(abs_cos+abs_sin))}else if(c*g==-e*d)h=c*d<0||e*g>0?-1:1,o=(Math.atan2(h*e,h*c)+Math.atan2(-g,d))/2,m=COS(o),q=SIN(o),m==0?(h=e/q,m=-g/q):q==0?(h=c/m,m=d/m):(abs_cos=ABS(m),abs_sin=ABS(q),h=(abs_cos*c/m+abs_sin*e/q)/(abs_cos+abs_sin),m=(abs_cos*d/m+abs_sin*-g/q)/(abs_cos+abs_sin));else{e=CGAffineTransformMake(c,g,e,d,0,0);c=eigen(CGAffineTransformConcat(b,e));e=eigen(CGAffineTransformConcat(e,
b));o=CGAffineTransformMake(c.vector_1.x,c.vector_2.x,c.vector_1.y,c.vector_2.y,0,0);d=CGAffineTransformMake(e.vector_1.x,e.vector_1.y,e.vector_2.x,e.vector_2.y,0,0);var w=CGAffineTransformConcat(CGAffineTransformConcat(CGAffineTransformInvert(o),b),CGAffineTransformInvert(d));c=d.a;e=d.b;g=d.c;d=d.d;h=c*d<0||e*g>0?-1:1;j=(ATAN2(e,d)+ATAN2(-h*g,h*c))/2;m=COS(j);q=SIN(j);m==0?(h=-g/q,m=e/q):q==0?(h=c/m,m=d/m):(abs_cos=ABS(m),abs_sin=ABS(q),h=(abs_cos*c/m+abs_sin*-g/q)/(abs_cos+abs_sin),m=(abs_cos*
d/m+abs_sin*e/q)/(abs_cos+abs_sin));w.a*=h;w.d*=m;c=o.a;e=o.b;g=o.c;d=o.d;h=c*d<0||e*g>0?-1:1;o=(Math.atan2(h*e,h*c)+Math.atan2(-g,d))/2;m=COS(o);q=SIN(o);m==0?(h=e/q,m=-g/q):q==0?(h=c/m,m=d/m):(abs_cos=ABS(m),abs_sin=ABS(q),h=(abs_cos*c/m+abs_sin*e/q)/(abs_cos+abs_sin),m=(abs_cos*d/m+abs_sin*-g/q)/(abs_cos+abs_sin));h*=w.a;m*=w.d}(n!=0||f!=0)&&CGContextTranslateCTM(a,n,f);o!=0&&CGContextRotateCTM(a,o);(h!=1||m!=1)&&CGContextScaleCTM(a,h,m);j!=0&&CGContextRotateCTM(a,j)};CGContextDrawImage=function(a,
b,c){a.drawImage(c._image,b.origin.x,b.origin.y,b.size.width,b.size.height)};to_string=function(a){return"rgba("+ROUND(a.components[0]*255)+", "+ROUND(a.components[1]*255)+", "+ROUND(255*a.components[2])+", "+a.components[3]+")"};CGContextDrawLinearGradient=function(a,b,c,e){var g=b.colors,d=g.length;for(c=a.createLinearGradient(c.x,c.y,e.x,e.y);d--;)c.addColorStop(b.locations[d],to_string(g[d]));a.fillStyle=c;a.fill()};CGBitmapGraphicsContextCreate=function(){var a=document.createElement("canvas"),
b=a.getContext("2d");b.DOMElement=a;return b}}else if(CPFeatureIsCompatible(CPVMLFeature)){var c=["f","t"],b=["flat","round","square"],e=["miter","round","bevel"],g=[" m "," l ","qb"," c "," x ",[" at "," wa "]],n=CGBitmapGraphicsContextCreate;CGBitmapGraphicsContextCreate=function(){document.namespaces.add("cg_vml_","urn:schemas-microsoft-com:vml");document.createStyleSheet().cssText="cg_vml_\\:*{behavior:url(#default#VML)}";CGBitmapGraphicsContextCreate=n;return n()};CGContextSetFillColor=function(a,
b){a.gState.fillStyle=objj_msgSend(b,"patternImage")?"!"+objj_msgSend(objj_msgSend(b,"patternImage"),"filename"):objj_msgSend(b,"cssString")};CGContextClearRect=function(a){a.buffer!=nil?a.buffer="":a.DOMElement.innerHTML="";a.path=NULL};CGContextDrawImage=function(a,b,c){var e="";if(c.buffer!=nil)e=c.buffer;else{e=a.gState.CTM;var g=CGPointApplyAffineTransform(b.origin,e),d=['<cg_vml_:group coordsize="1,1" coordorigin="0,0" style="width:1;height:1;position:absolute'],n=CGRectApplyAffineTransform(b,
e);d.push(";padding:0 ",ROUND(n.origin.x+n.size.width),"px ",ROUND(n.origin.y+n.size.height),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(","M11='",e.a,"',M12='",e.c,"',M21='",e.b,"',M22='",e.d,"',","Dx='",ROUND(g.x),"', Dy='",ROUND(g.y),"', sizingmethod='clip');");d.push('"><cg_vml_:image src="',c._image.src,'" style="width:',b.size.width,"px;height:",b.size.height,'px;"/></g_vml_:group>');e=d.join("")}a.buffer!=nil?a.buffer+=e:a.DOMElement.insertAdjacentHTML("BeforeEnd",e)};CGContextDrawPath=
function(a,d){if(a&&!CGPathIsEmpty(a.path)){var n=a.path.elements,f=0,h=a.path.count,p=a.gState,j=d==kCGPathFill||d==kCGPathFillStroke?1:0,u=d==kCGPathStroke||d==kCGPathFillStroke?1:0,z=p.alpha,m=["<cg_vml_:shape"];p.fillStyle.charAt(0)!=="!"&&m.push(' fillcolor="',p.fillStyle,'"');for(m.push(' filled="',c[j],'" style="position:absolute;width:',10,";height:",10,';" coordorigin="0 0" coordsize="',100," ",100,'" stroked="',c[u],'" strokeweight="',p.lineWidth,'" strokecolor="',p.strokeStyle,'" path="');f<
h;++f){var o=n[f],A=o.type;switch(A){case kCGPathElementMoveToPoint:case kCGPathElementAddLineToPoint:m.push(g[A],o.x===0?0:ROUND(10*o.x-5),",",o.y===0?0:ROUND(10*o.y-5));break;case kCGPathElementAddQuadCurveToPoint:m.push(g[A],o.cpx===0?0:ROUND(10*o.cpx-5),",",o.cpy===0?0:ROUND(10*o.cpy-5),",",o.x===0?0:ROUND(10*o.x-5),",",o.y===0?0:ROUND(10*o.y-5));break;case kCGPathElementAddCurveToPoint:m.push(g[A],o.cp1x===0?0:ROUND(10*o.cp1x-5),",",o.cp1y===0?0:ROUND(10*o.cp1y-5),",",o.cp2x===0?0:ROUND(10*o.cp2x-
5),",",o.cp2y===0?0:ROUND(10*o.cp2y-5),",",o.x===0?0:ROUND(10*o.x-5),",",o.y===0?0:ROUND(10*o.y-5));break;case kCGPathElementCloseSubpath:m.push(g[A]);break;case kCGPathElementAddArc:var q=o.x,w=o.y,x=o.radius,C=o.clockwise?1:0,B=o.endAngle;o=o.startAngle;var v={x:q+x*COS(o),y:w+x*SIN(o)};if(o==B&&!C){m.push(g[kCGPathElementMoveToPoint],v.x===0?0:ROUND(10*v.x-5),",",v.y===0?0:ROUND(10*v.y-5));continue}var y={x:q+x*COS(B),y:w+x*SIN(B)};C&&o!=B&&v.x==y.x&&v.y==y.y&&(v.x>=q?v.y<w?v.x+=0.125:v.y+=0.125:
y.y<=w?y.x+=0.125:y.y+=0.125);m.push(g[A][C],q-x===0?0:ROUND(10*(q-x)-5),",",w-x===0?0:ROUND(10*(w-x)-5)," ",q+x===0?0:ROUND(10*(q+x)-5),",",w+x===0?0:ROUND(10*(w+x)-5)," ",v.x===0?0:ROUND(10*v.x-5),",",v.y===0?0:ROUND(10*v.y-5)," ",y.x===0?0:ROUND(10*y.x-5),",",y.y===0?0:ROUND(10*y.y-5))}}m.push('">');p.gradient?m.push(p.gradient):j&&(p.fillStyle.charAt(0)==="!"?m.push('<cg_vml_:fill type="tile" src="',p.fillStyle.substring(1),'" opacity="',z,'" />'):m.push('<cg_vml_:fill color="',p.fillStyle,'" opacity="',
z,'" />'));u&&m.push('<cg_vml_:stroke opacity="',z,'" joinstyle="',e[p.lineJoin],'" miterlimit="',p.miterLimit,'" endcap="',b[p.lineCap],'" weight="',p.lineWidth,"",'px" color="',p.strokeStyle,'" />');if(n=p.shadowColor)p=p.shadowOffset,m.push('<cg_vml_:shadow on="t" offset="',p.width,"pt ",p.height,'pt" opacity="',objj_msgSend(n,"alphaComponent"),'" color=black />');m.push("</cg_vml_:shape>");a.buffer!=nil?a.buffer+=m.join(""):a.DOMElement.insertAdjacentHTML("BeforeEnd",m.join(""))}};to_string=function(a){return"rgb("+
ROUND(a.components[0]*255)+", "+ROUND(a.components[1]*255)+", "+ROUND(255*a.components[2])+")"};CGContextDrawLinearGradient=function(a,b){if(a&&b){var c=nil;if(b.vml_gradient){var e=objj_msgSend(objj_msgSend(b.vml_gradient,"stops"),"sortedArrayUsingSelector:",sel_getUid("comparePosition:")),g=objj_msgSend(e,"count");c=['<cg_vml_:fill type="gradient" method="linear sigma" '];c.push('angle="'+(objj_msgSend(b.vml_gradient,"angle")+90)+'" ');c.push('colors="');for(var d=0;d<g;d++)c.push((objj_msgSend(e[d],
"position")*100).toFixed(0)+"% "),c.push(objj_msgSend(objj_msgSend(objj_msgSend(e[d],"color"),"colorForSlideBase:",nil),"cssString")),d<g-1&&c.push(",")}else{e=b.colors;g=e.length;c=['<cg_vml_:fill type="gradient" '];c.push('colors="');for(d=0;d<g;d++)c.push((b.locations[d]*100).toFixed(0)+"% "+to_string(e[d])+(d<g-1?",":""))}c.push('" />');a.gState.gradient=c.join("")}}}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPArrayController.j",baseURL),function(j,h){h("Foundation/CPIndexSet.j",NO);h("CPObjectController.j",YES);h("CPKeyValueBinding.j",YES);var f=objj_allocateClassPair(CPObjectController,"CPArrayController"),d=f.isa;class_addIvars(f,[new objj_ivar("_avoidsEmptySelection"),new objj_ivar("_clearsFilterPredicateOnInsertion"),new objj_ivar("_filterRestrictsInsertion"),new objj_ivar("_preservesSelection"),new objj_ivar("_selectsInsertedObjects"),
new objj_ivar("_alwaysUsesMultipleValuesMarker"),new objj_ivar("_automaticallyRearrangesObjects"),new objj_ivar("_selectionIndexes"),new objj_ivar("_sortDescriptors"),new objj_ivar("_filterPredicate"),new objj_ivar("_arrangedObjects"),new objj_ivar("_disableSetContent")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("init"),function(a){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPArrayController").super_class},"init"))_clearsFilterPredicateOnInsertion=
_avoidsEmptySelection=_selectsInsertedObjects=_preservesSelection=YES,_automaticallyRearrangesObjects=_alwaysUsesMultipleValuesMarker=NO,_filterRestrictsInsertion=YES,objj_msgSend(a,"_init");return a}}),new objj_method(sel_getUid("_init"),function(a){with(a)_sortDescriptors=objj_msgSend(CPArray,"array"),_filterPredicate=nil,_selectionIndexes=objj_msgSend(CPIndexSet,"indexSet"),objj_msgSend(a,"__setArrangedObjects:",objj_msgSend(CPArray,"array"))}),new objj_method(sel_getUid("prepareContent"),function(a){with(a)objj_msgSend(a,
"_setContentArray:",[objj_msgSend(a,"newObject")])}),new objj_method(sel_getUid("preservesSelection"),function(a){with(a)return _preservesSelection}),new objj_method(sel_getUid("setPreservesSelection:"),function(a,c,b){with(a)_preservesSelection=b}),new objj_method(sel_getUid("selectsInsertedObjects"),function(a){with(a)return _selectsInsertedObjects}),new objj_method(sel_getUid("setSelectsInsertedObjects:"),function(a,c,b){with(a)_selectsInsertedObjects=b}),new objj_method(sel_getUid("avoidsEmptySelection"),
function(a){with(a)return _avoidsEmptySelection}),new objj_method(sel_getUid("setAvoidsEmptySelection:"),function(a,c,b){with(a)_avoidsEmptySelection=b}),new objj_method(sel_getUid("clearsFilterPredicateOnInsertion"),function(a){with(a)return _clearsFilterPredicateOnInsertion}),new objj_method(sel_getUid("setClearsFilterPredicateOnInsertion:"),function(a,c,b){with(a)_clearsFilterPredicateOnInsertion=b}),new objj_method(sel_getUid("alwaysUsesMultipleValuesMarker"),function(a){with(a)return _alwaysUsesMultipleValuesMarker}),
new objj_method(sel_getUid("setAlwaysUsesMultipleValuesMarker:"),function(a,c,b){with(a)_alwaysUsesMultipleValuesMarker=b}),new objj_method(sel_getUid("automaticallyRearrangesObjects"),function(a){with(a)return _automaticallyRearrangesObjects}),new objj_method(sel_getUid("setAutomaticallyRearrangesObjects:"),function(a,c,b){with(a)_automaticallyRearrangesObjects=b}),new objj_method(sel_getUid("setContent:"),function(a,c,b){with(a){if(_disableSetContent)return;b===nil&&(b=[]);objj_msgSend(b,"isKindOfClass:",
objj_msgSend(CPArray,"class"))||(b=[b]);var e=c=nil;objj_msgSend(a,"preservesSelection")?c=objj_msgSend(a,"selectedObjects"):e=objj_msgSend(a,"selectionIndexes");_clearsFilterPredicateOnInsertion&&objj_msgSend(a,"willChangeValueForKey:","filterPredicate");_contentObject=b;_clearsFilterPredicateOnInsertion&&_filterPredicate!=nil?objj_msgSend(a,"__setFilterPredicate:",nil):objj_msgSend(a,"_rearrangeObjects");objj_msgSend(a,"preservesSelection")?objj_msgSend(a,"__setSelectedObjects:",c):objj_msgSend(a,
"__setSelectionIndexes:",e);_clearsFilterPredicateOnInsertion&&objj_msgSend(a,"didChangeValueForKey:","filterPredicate")}}),new objj_method(sel_getUid("_setContentArray:"),function(a,c,b){with(a)objj_msgSend(a,"setContent:",b)}),new objj_method(sel_getUid("_setContentSet:"),function(a,c,b){with(a)objj_msgSend(a,"setContent:",objj_msgSend(b,"allObjects"))}),new objj_method(sel_getUid("contentArray"),function(a){with(a)return objj_msgSend(a,"content")}),new objj_method(sel_getUid("contentSet"),function(a){with(a)return objj_msgSend(CPSet,
"setWithArray:",objj_msgSend(a,"content"))}),new objj_method(sel_getUid("arrangeObjects:"),function(a,c,b){with(a){c=objj_msgSend(a,"filterPredicate");a=objj_msgSend(a,"sortDescriptors");if(c&&objj_msgSend(a,"count")>0)return b=objj_msgSend(b,"filteredArrayUsingPredicate:",c),objj_msgSend(b,"sortUsingDescriptors:",a),b;else if(c)return objj_msgSend(b,"filteredArrayUsingPredicate:",c);else if(objj_msgSend(a,"count")>0)return objj_msgSend(b,"sortedArrayUsingDescriptors:",a);return objj_msgSend(b,"copy")}}),
new objj_method(sel_getUid("rearrangeObjects"),function(a){with(a)objj_msgSend(a,"willChangeValueForKey:","arrangedObjects"),objj_msgSend(a,"_rearrangeObjects"),objj_msgSend(a,"didChangeValueForKey:","arrangedObjects")}),new objj_method(sel_getUid("_rearrangeObjects"),function(a){with(a){var c=nil,b=nil;objj_msgSend(a,"preservesSelection")?c=objj_msgSend(a,"selectedObjects"):b=objj_msgSend(a,"selectionIndexes");objj_msgSend(a,"__setArrangedObjects:",objj_msgSend(a,"arrangeObjects:",objj_msgSend(a,
"contentArray")));objj_msgSend(a,"preservesSelection")?objj_msgSend(a,"__setSelectedObjects:",c):objj_msgSend(a,"__setSelectionIndexes:",b)}}),new objj_method(sel_getUid("__setArrangedObjects:"),function(a,c,b){with(a){if(_arrangedObjects===b)return;_arrangedObjects=objj_msgSend(objj_msgSend(_CPObservableArray,"alloc"),"initWithArray:",b)}}),new objj_method(sel_getUid("arrangedObjects"),function(a){with(a)return _arrangedObjects}),new objj_method(sel_getUid("sortDescriptors"),function(a){with(a)return _sortDescriptors}),
new objj_method(sel_getUid("setSortDescriptors:"),function(a,c,b){with(a){if(_sortDescriptors===b)return;_sortDescriptors=objj_msgSend(b,"copy");objj_msgSend(a,"_rearrangeObjects")}}),new objj_method(sel_getUid("filterPredicate"),function(a){with(a)return _filterPredicate}),new objj_method(sel_getUid("setFilterPredicate:"),function(a,c,b){with(a)objj_msgSend(a,"__setFilterPredicate:",b)}),new objj_method(sel_getUid("__setFilterPredicate:"),function(a,c,b){with(a){if(_filterPredicate===b)return;_filterPredicate=
b;objj_msgSend(a,"_rearrangeObjects")}}),new objj_method(sel_getUid("alwaysUsesMultipleValuesMarker"),function(a){with(a)return _alwaysUsesMultipleValuesMarker}),new objj_method(sel_getUid("selectionIndex"),function(a){with(a)return objj_msgSend(_selectionIndexes,"firstIndex")}),new objj_method(sel_getUid("setSelectionIndex:"),function(a,c,b){with(a)return objj_msgSend(a,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSetWithIndex:",b))}),new objj_method(sel_getUid("selectionIndexes"),function(a){with(a)return _selectionIndexes}),
new objj_method(sel_getUid("setSelectionIndexes:"),function(a,c,b){with(a)objj_msgSend(a,"_selectionWillChange"),objj_msgSend(a,"__setSelectionIndexes:",b),objj_msgSend(a,"_selectionDidChange")}),new objj_method(sel_getUid("__setSelectionIndex:"),function(a,c,b){with(a)objj_msgSend(a,"__setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSetWithIndex:",b))}),new objj_method(sel_getUid("__setSelectionIndexes:"),function(a,c,b){with(a){b||(b=objj_msgSend(CPIndexSet,"indexSet"));objj_msgSend(b,"count")?
(c=objj_msgSend(objj_msgSend(a,"arrangedObjects"),"count"),objj_msgSend(b,"removeIndexesInRange:",CPMakeRange(c,objj_msgSend(b,"lastIndex")+1)),!objj_msgSend(b,"count")&&_avoidsEmptySelection&&c&&(b=objj_msgSend(CPIndexSet,"indexSetWithIndex:",c-1))):_avoidsEmptySelection&&objj_msgSend(objj_msgSend(a,"arrangedObjects"),"count")&&(b=objj_msgSend(CPIndexSet,"indexSetWithIndex:",0));if(objj_msgSend(_selectionIndexes,"isEqualToIndexSet:",b))return NO;_selectionIndexes=objj_msgSend(b,"copy");b=objj_msgSend(objj_msgSend(a,
"class"),"_binderClassForBinding:","selectionIndexes");objj_msgSend(objj_msgSend(b,"getBinding:forObject:","selectionIndexes",a),"reverseSetValueFor:","selectionIndexes");return YES}}),new objj_method(sel_getUid("selectedObjects"),function(a){with(a)return a=objj_msgSend(objj_msgSend(a,"arrangedObjects"),"objectsAtIndexes:",objj_msgSend(a,"selectionIndexes")),objj_msgSend(_CPObservableArray,"arrayWithArray:",a||[])}),new objj_method(sel_getUid("setSelectedObjects:"),function(a,c,b){with(a)objj_msgSend(a,
"willChangeValueForKey:","selectionIndexes"),objj_msgSend(a,"_selectionWillChange"),objj_msgSend(a,"__setSelectedObjects:",b),objj_msgSend(a,"didChangeValueForKey:","selectionIndexes"),objj_msgSend(a,"_selectionDidChange")}),new objj_method(sel_getUid("__setSelectedObjects:"),function(a,c,b){with(a){c=objj_msgSend(CPIndexSet,"indexSet");for(var e=objj_msgSend(b,"count"),g=objj_msgSend(a,"arrangedObjects"),d=0;d<e;d++){var f=objj_msgSend(g,"indexOfObject:",objj_msgSend(b,"objectAtIndex:",d));f!==CPNotFound&&
objj_msgSend(c,"addIndex:",f)}objj_msgSend(a,"__setSelectionIndexes:",c);return YES}}),new objj_method(sel_getUid("canSelectPrevious"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"selectionIndexes"),"firstIndex")>0}),new objj_method(sel_getUid("selectPrevious:"),function(a){with(a){var c=objj_msgSend(objj_msgSend(a,"selectionIndexes"),"firstIndex")-1;c>=0&&objj_msgSend(a,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSetWithIndex:",c))}}),new objj_method(sel_getUid("canSelectNext"),
function(a){with(a)return objj_msgSend(objj_msgSend(a,"selectionIndexes"),"firstIndex")<objj_msgSend(objj_msgSend(a,"arrangedObjects"),"count")-1}),new objj_method(sel_getUid("selectNext:"),function(a){with(a){var c=objj_msgSend(objj_msgSend(a,"selectionIndexes"),"firstIndex")+1;c<objj_msgSend(objj_msgSend(a,"arrangedObjects"),"count")&&objj_msgSend(a,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSetWithIndex:",c))}}),new objj_method(sel_getUid("addObject:"),function(a,c,b){with(a){if(!objj_msgSend(a,
"canAdd"))return;_clearsFilterPredicateOnInsertion&&objj_msgSend(a,"willChangeValueForKey:","filterPredicate");objj_msgSend(a,"willChangeValueForKey:","content");_disableSetContent=YES;objj_msgSend(_contentObject,"addObject:",b);_disableSetContent=NO;_clearsFilterPredicateOnInsertion&&objj_msgSend(a,"__setFilterPredicate:",nil);_filterPredicate===nil||objj_msgSend(_filterPredicate,"evaluateWithObject:",b)?(c=objj_msgSend(_arrangedObjects,"insertObject:inArraySortedByDescriptors:",b,_sortDescriptors),
_selectsInsertedObjects?objj_msgSend(a,"__setSelectionIndex:",c):objj_msgSend(_selectionIndexes,"shiftIndexesStartingAtIndex:by:",c,1)):objj_msgSend(a,"_rearrangeObjects");objj_msgSend(a,"didChangeValueForKey:","content");_clearsFilterPredicateOnInsertion&&objj_msgSend(a,"didChangeValueForKey:","filterPredicate")}}),new objj_method(sel_getUid("insertObject:atArrangedObjectIndex:"),function(a,c,b,e){with(a){if(!objj_msgSend(a,"canAdd"))return;_clearsFilterPredicateOnInsertion&&objj_msgSend(a,"willChangeValueForKey:",
"filterPredicate");objj_msgSend(a,"willChangeValueForKey:","content");_disableSetContent=YES;objj_msgSend(_contentObject,"insertObject:atIndex:",b,e);_disableSetContent=NO;_clearsFilterPredicateOnInsertion&&objj_msgSend(a,"__setFilterPredicate:",nil);objj_msgSend(objj_msgSend(a,"arrangedObjects"),"insertObject:atIndex:",b,e);objj_msgSend(a,"selectsInsertedObjects")?objj_msgSend(a,"__setSelectionIndex:",e):objj_msgSend(objj_msgSend(a,"selectionIndexes"),"shiftIndexesStartingAtIndex:by:",e,1);objj_msgSend(a,
"avoidsEmptySelection")&&objj_msgSend(objj_msgSend(a,"selectionIndexes"),"count")<=0&&objj_msgSend(_contentObject,"count")>0&&objj_msgSend(a,"__setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSetWithIndex:",0));objj_msgSend(a,"didChangeValueForKey:","content");_clearsFilterPredicateOnInsertion&&objj_msgSend(a,"didChangeValueForKey:","filterPredicate")}}),new objj_method(sel_getUid("removeObject:"),function(a,c,b){with(a){objj_msgSend(a,"willChangeValueForKey:","content");_disableSetContent=YES;
objj_msgSend(_contentObject,"removeObject:",b);_disableSetContent=NO;if(_filterPredicate===nil||objj_msgSend(_filterPredicate,"evaluateWithObject:",b))c=objj_msgSend(_arrangedObjects,"indexOfObject:",b),objj_msgSend(_arrangedObjects,"removeObjectAtIndex:",c),objj_msgSend(_selectionIndexes,"shiftIndexesStartingAtIndex:by:",c,-1);objj_msgSend(a,"didChangeValueForKey:","content")}}),new objj_method(sel_getUid("add:"),function(a,c,b){with(a){if(!objj_msgSend(a,"canAdd"))return;objj_msgSend(a,"insert:",
b)}}),new objj_method(sel_getUid("insert:"),function(a){with(a){if(!objj_msgSend(a,"canInsert"))return;var c=objj_msgSend(a,"automaticallyPreparesContent")?objj_msgSend(a,"newObject"):objj_msgSend(a,"_defaultNewObject");objj_msgSend(a,"addObject:",c)}}),new objj_method(sel_getUid("remove:"),function(a){with(a)objj_msgSend(a,"removeObjects:",objj_msgSend(objj_msgSend(a,"arrangedObjects"),"objectsAtIndexes:",objj_msgSend(a,"selectionIndexes")))}),new objj_method(sel_getUid("removeObjectsAtArrangedObjectIndexes:"),
function(a,c,b){with(a)objj_msgSend(a,"_removeObjects:",objj_msgSend(objj_msgSend(a,"arrangedObjects"),"objectsAtIndexes:",b))}),new objj_method(sel_getUid("addObjects:"),function(a,c,b){with(a){if(!objj_msgSend(a,"canAdd"))return;c=objj_msgSend(a,"contentArray");for(var e=objj_msgSend(b,"count"),g=0;g<e;g++)objj_msgSend(c,"addObject:",objj_msgSend(b,"objectAtIndex:",g));objj_msgSend(a,"setContent:",c)}}),new objj_method(sel_getUid("removeObjects:"),function(a,c,b){with(a)objj_msgSend(a,"_removeObjects:",
b)}),new objj_method(sel_getUid("_removeObjects:"),function(a,c,b){with(a){objj_msgSend(a,"willChangeValueForKey:","content");_disableSetContent=YES;objj_msgSend(_contentObject,"removeObjectsInArray:",b);_disableSetContent=NO;var e=objj_msgSend(a,"arrangedObjects");c=objj_msgSend(e,"indexOfObject:",objj_msgSend(b,"objectAtIndex:",0));objj_msgSend(e,"removeObjectsInArray:",b);b=objj_msgSend(e,"count");e=objj_msgSend(CPIndexSet,"indexSet");if(objj_msgSend(a,"preservesSelection")||objj_msgSend(a,"avoidsEmptySelection"))e=
objj_msgSend(CPIndexSet,"indexSetWithIndex:",c),b<=0?e=objj_msgSend(CPIndexSet,"indexSet"):c>=b&&(e=objj_msgSend(CPIndexSet,"indexSetWithIndex:",b-1));_selectionIndexes=e;objj_msgSend(a,"didChangeValueForKey:","content")}}),new objj_method(sel_getUid("canInsert"),function(a){with(a)return objj_msgSend(a,"isEditable")})]);class_addMethods(d,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!==objj_msgSend(CPArrayController,"class"))return;objj_msgSend(a,"exposeBinding:","contentArray");
objj_msgSend(a,"exposeBinding:","contentSet")}}),new objj_method(sel_getUid("keyPathsForValuesAffectingContentArray"),function(a){with(a)return objj_msgSend(CPSet,"setWithObjects:","content")}),new objj_method(sel_getUid("keyPathsForValuesAffectingArrangedObjects"),function(a){with(a)return objj_msgSend(CPSet,"setWithObjects:","content","filterPredicate","sortDescriptors")}),new objj_method(sel_getUid("keyPathsForValuesAffectingSelection"),function(a){with(a)return objj_msgSend(CPSet,"setWithObjects:",
"selectionIndexes")}),new objj_method(sel_getUid("keyPathsForValuesAffectingSelectionIndex"),function(a){with(a)return objj_msgSend(CPSet,"setWithObjects:","selectionIndexes")}),new objj_method(sel_getUid("keyPathsForValuesAffectingSelectionIndexes"),function(a){with(a)return objj_msgSend(CPSet,"setWithObjects:","arrangedObjects")}),new objj_method(sel_getUid("keyPathsForValuesAffectingSelectedObjects"),function(a){with(a)return objj_msgSend(CPSet,"setWithObjects:","selectionIndexes")}),new objj_method(sel_getUid("keyPathsForValuesAffectingCanRemove"),
function(a){with(a)return objj_msgSend(CPSet,"setWithObjects:","selectionIndexes")}),new objj_method(sel_getUid("keyPathsForValuesAffectingCanSelectNext"),function(a){with(a)return objj_msgSend(CPSet,"setWithObjects:","selectionIndexes")}),new objj_method(sel_getUid("keyPathsForValuesAffectingCanSelectPrevious"),function(a){with(a)return objj_msgSend(CPSet,"setWithObjects:","selectionIndexes")})]);f=objj_getClass("CPArrayController");if(!f)throw new SyntaxError('*** Could not find definition for class "CPArrayController"');
d=f.isa;class_addMethods(d,[new objj_method(sel_getUid("_binderClassForBinding:"),function(a,c,b){with(a){if(b=="contentArray")return objj_msgSend(_CPArrayControllerContentBinder,"class");return objj_msgSendSuper({receiver:a,super_class:objj_getMetaClass("CPArrayController").super_class},"_binderClassForBinding:",b)}})]);f=objj_allocateClassPair(CPBinder,"_CPArrayControllerContentBinder");d=f.isa;objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("setValueFor:"),function(a,c,
b){with(a){var e=objj_msgSend(_info,"objectForKey:",CPObservedObjectKey),g=objj_msgSend(_info,"objectForKey:",CPObservedKeyPathKey);c=objj_msgSend(_info,"objectForKey:",CPOptionsKey);e=objj_msgSend(e,"mutableArrayValueForKeyPath:",g);e=objj_msgSend(a,"transformValue:withOptions:",e,c);objj_msgSend(_source,"setValue:forKey:",e,b)}})]);f=objj_getClass("CPArrayController");if(!f)throw new SyntaxError('*** Could not find definition for class "CPArrayController"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),
function(a,c,b){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPArrayController").super_class},"initWithCoder:",b))_avoidsEmptySelection=objj_msgSend(b,"decodeBoolForKey:","CPArrayControllerAvoidsEmptySelection"),_clearsFilterPredicateOnInsertion=objj_msgSend(b,"decodeBoolForKey:","CPArrayControllerClearsFilterPredicateOnInsertion"),_filterRestrictsInsertion=objj_msgSend(b,"decodeBoolForKey:","CPArrayControllerFilterRestrictsInsertion"),_preservesSelection=objj_msgSend(b,"decodeBoolForKey:",
"CPArrayControllerPreservesSelection"),_selectsInsertedObjects=objj_msgSend(b,"decodeBoolForKey:","CPArrayControllerSelectsInsertedObjects"),_alwaysUsesMultipleValuesMarker=objj_msgSend(b,"decodeBoolForKey:","CPArrayControllerAlwaysUsesMultipleValuesMarker"),_automaticallyRearrangesObjects=objj_msgSend(b,"decodeBoolForKey:","CPArrayControllerAutomaticallyRearrangesObjects"),_sortDescriptors=objj_msgSend(CPArray,"array"),!objj_msgSend(a,"content")&&objj_msgSend(a,"automaticallyPreparesContent")?objj_msgSend(a,
"prepareContent"):objj_msgSend(a,"content")||objj_msgSend(a,"_setContentArray:",[]);return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,c,b){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPArrayController").super_class},"encodeWithCoder:",b),objj_msgSend(b,"encodeBool:forKey:",_avoidsEmptySelection,"CPArrayControllerAvoidsEmptySelection"),objj_msgSend(b,"encodeBool:forKey:",_clearsFilterPredicateOnInsertion,"CPArrayControllerClearsFilterPredicateOnInsertion"),objj_msgSend(b,
"encodeBool:forKey:",_filterRestrictsInsertion,"CPArrayControllerFilterRestrictsInsertion"),objj_msgSend(b,"encodeBool:forKey:",_preservesSelection,"CPArrayControllerPreservesSelection"),objj_msgSend(b,"encodeBool:forKey:",_selectsInsertedObjects,"CPArrayControllerSelectsInsertedObjects"),objj_msgSend(b,"encodeBool:forKey:",_alwaysUsesMultipleValuesMarker,"CPArrayControllerAlwaysUsesMultipleValuesMarker"),objj_msgSend(b,"encodeBool:forKey:",_automaticallyRearrangesObjects,"CPArrayControllerAutomaticallyRearrangesObjects")}),
new objj_method(sel_getUid("awakeFromCib"),function(a){with(a)objj_msgSend(a,"_selectionWillChange"),objj_msgSend(a,"_selectionDidChange")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPDocument.j",baseURL),function(j,h){h("Foundation/CPString.j",NO);h("Foundation/CPArray.j",NO);h("CPApplication.j",YES);h("CPResponder.j",YES);h("CPSavePanel.j",YES);h("CPViewController.j",YES);h("CPWindowController.j",YES);CPSaveOperation=0;CPSaveAsOperation=1;CPSaveToOperation=2;CPAutosaveOperation=3;CPChangeDone=0;CPChangeUndone=1;CPChangeCleared=2;CPChangeReadOtherContents=3;CPChangeAutosaved=4;CPDocumentWillSaveNotification=
"CPDocumentWillSaveNotification";CPDocumentDidSaveNotification="CPDocumentDidSaveNotification";CPDocumentDidFailToSaveNotification="CPDocumentDidFailToSaveNotification";var f=0,d=objj_allocateClassPair(CPResponder,"CPDocument");class_addIvars(d,[new objj_ivar("_window"),new objj_ivar("_view"),new objj_ivar("_viewControllersForWindowControllers"),new objj_ivar("_fileURL"),new objj_ivar("_fileType"),new objj_ivar("_windowControllers"),new objj_ivar("_untitledDocumentIndex"),new objj_ivar("_hasUndoManager"),
new objj_ivar("_undoManager"),new objj_ivar("_changeCount"),new objj_ivar("_readConnection"),new objj_ivar("_writeRequest"),new objj_ivar("_canCloseAlert")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("init"),function(a){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPDocument").super_class},"init"))_windowControllers=[],_viewControllersForWindowControllers=objj_msgSend(CPDictionary,"dictionary"),_hasUndoManager=YES,_changeCount=0,objj_msgSend(a,
"setNextResponder:",CPApp);return a}}),new objj_method(sel_getUid("initWithType:error:"),function(a,c,b){with(a)return(a=objj_msgSend(a,"init"))&&objj_msgSend(a,"setFileType:",b),a}),new objj_method(sel_getUid("initWithContentsOfURL:ofType:delegate:didReadSelector:contextInfo:"),function(a,c,b,e,g,d,f){with(a){if(a=objj_msgSend(a,"init"))objj_msgSend(a,"setFileURL:",b),objj_msgSend(a,"setFileType:",e),objj_msgSend(a,"readFromURL:ofType:delegate:didReadSelector:contextInfo:",b,e,g,d,f);return a}}),
new objj_method(sel_getUid("initForURL:withContentsOfURL:ofType:delegate:didReadSelector:contextInfo:"),function(a,c,b,e,g,d,f,h){with(a){if(a=objj_msgSend(a,"init"))objj_msgSend(a,"setFileURL:",b),objj_msgSend(a,"setFileType:",g),objj_msgSend(a,"readFromURL:ofType:delegate:didReadSelector:contextInfo:",e,g,d,f,h);return a}}),new objj_method(sel_getUid("dataOfType:error:"),function(a){with(a)objj_msgSend(CPException,"raise:reason:",CPUnsupportedMethodException,"dataOfType:error: must be overridden by the document subclass.")}),
new objj_method(sel_getUid("readFromData:ofType:error:"),function(a){with(a)objj_msgSend(CPException,"raise:reason:",CPUnsupportedMethodException,"readFromData:ofType: must be overridden by the document subclass.")}),new objj_method(sel_getUid("viewControllerWillLoadCib:"),function(a){with(a);}),new objj_method(sel_getUid("viewControllerDidLoadCib:"),function(a){with(a);}),new objj_method(sel_getUid("firstEligibleExistingWindowController"),function(a){with(a)return nil}),new objj_method(sel_getUid("makeWindowControllers"),
function(a){with(a)objj_msgSend(a,"makeViewAndWindowControllers")}),new objj_method(sel_getUid("makeViewAndWindowControllers"),function(a){with(a){var c=objj_msgSend(a,"viewCibName"),b=nil,e=nil;objj_msgSend(c,"length")&&(b=objj_msgSend(objj_msgSend(CPViewController,"alloc"),"initWithCibName:bundle:owner:",c,nil,a));b&&(e=objj_msgSend(a,"firstEligibleExistingWindowController"));if(!e)if(c=objj_msgSend(a,"windowCibName"),objj_msgSend(c,"length"))e=objj_msgSend(objj_msgSend(CPWindowController,"alloc"),
"initWithWindowCibName:owner:",c,a);else if(b)e=objj_msgSend(b,"view"),e=objj_msgSend(e,"frame"),e.origin=CGPointMake(50,50),e=objj_msgSend(objj_msgSend(CPWindow,"alloc"),"initWithContentRect:styleMask:",e,CPTitledWindowMask|CPClosableWindowMask|CPMiniaturizableWindowMask|CPResizableWindowMask),e=objj_msgSend(objj_msgSend(CPWindowController,"alloc"),"initWithWindow:",e);e&&b&&objj_msgSend(e,"setSupportsMultipleDocuments:",YES);e&&objj_msgSend(a,"addWindowController:",e);b&&objj_msgSend(a,"addViewController:forWindowController:",
b,e)}}),new objj_method(sel_getUid("windowControllers"),function(a){with(a)return _windowControllers}),new objj_method(sel_getUid("addWindowController:"),function(a,c,b){with(a)objj_msgSend(_windowControllers,"addObject:",b),objj_msgSend(b,"document")!==a&&objj_msgSend(b,"setDocument:",a)}),new objj_method(sel_getUid("removeWindowController:"),function(a,c,b){with(a)b&&objj_msgSend(_windowControllers,"removeObject:",b),objj_msgSend(b,"document")===a&&objj_msgSend(b,"setDocument:",nil)}),new objj_method(sel_getUid("view"),
function(a){with(a)return _view}),new objj_method(sel_getUid("viewControllers"),function(a){with(a)return objj_msgSend(_viewControllersForWindowControllers,"allValues")}),new objj_method(sel_getUid("addViewController:forWindowController:"),function(a,c,b,e){with(a)objj_msgSend(_viewControllersForWindowControllers,"setObject:forKey:",b,objj_msgSend(e,"UID")),objj_msgSend(e,"document")===a&&objj_msgSend(e,"setViewController:",b)}),new objj_method(sel_getUid("removeViewController:"),function(a,c,b){with(a)objj_msgSend(_viewControllersForWindowControllers,
"removeObject:",b)}),new objj_method(sel_getUid("viewControllerForWindowController:"),function(a,c,b){with(a)return objj_msgSend(_viewControllersForWindowControllers,"objectForKey:",objj_msgSend(b,"UID"))}),new objj_method(sel_getUid("showWindows"),function(a){with(a)objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocument:"),a),objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("showWindow:"),a)}),new objj_method(sel_getUid("displayName"),
function(a){with(a){if(_fileURL)return objj_msgSend(_fileURL,"lastPathComponent");_untitledDocumentIndex||(_untitledDocumentIndex=++f);if(_untitledDocumentIndex==1)return"Untitled";return"Untitled "+_untitledDocumentIndex}}),new objj_method(sel_getUid("viewCibName"),function(a){with(a)return nil}),new objj_method(sel_getUid("windowCibName"),function(a){with(a)return nil}),new objj_method(sel_getUid("windowControllerDidLoadCib:"),function(a){with(a);}),new objj_method(sel_getUid("windowControllerWillLoadCib:"),
function(a){with(a);}),new objj_method(sel_getUid("readFromURL:ofType:delegate:didReadSelector:contextInfo:"),function(a,c,b,e,g,d,f){with(a)objj_msgSend(_readConnection,"cancel"),_readConnection=objj_msgSend(CPURLConnection,"connectionWithRequest:delegate:",objj_msgSend(CPURLRequest,"requestWithURL:",b),a),_readConnection.session={fileType:e,delegate:g,didReadSelector:d,contextInfo:f}}),new objj_method(sel_getUid("fileURL"),function(a){with(a)return _fileURL}),new objj_method(sel_getUid("setFileURL:"),
function(a,c,b){with(a){if(_fileURL===b)return;_fileURL=b;objj_msgSend(_windowControllers,"makeObjectsPerformSelector:",sel_getUid("synchronizeWindowTitleWithDocumentName"))}}),new objj_method(sel_getUid("saveToURL:ofType:forSaveOperation:delegate:didSaveSelector:contextInfo:"),function(a,c,b,e,g,d,f,h){with(a)e=objj_msgSend(a,"dataOfType:error:",objj_msgSend(a,"fileType"),nil),c=_changeCount,_writeRequest=objj_msgSend(CPURLRequest,"requestWithURL:",b),objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(_writeRequest,
"setHTTPMethod:","POST"):objj_msgSend(_writeRequest,"setHTTPMethod:","PUT"),objj_msgSend(_writeRequest,"setHTTPBody:",objj_msgSend(e,"rawString")),objj_msgSend(_writeRequest,"setValue:forHTTPHeaderField:","close","Connection"),g===CPSaveOperation&&objj_msgSend(_writeRequest,"setValue:forHTTPHeaderField:","true","x-cappuccino-overwrite"),g!==CPSaveToOperation&&objj_msgSend(a,"updateChangeCount:",CPChangeCleared),a=objj_msgSend(CPURLConnection,"connectionWithRequest:delegate:",_writeRequest,a),a.session=
{absoluteURL:b,saveOperation:g,changeCount:c,delegate:d,didSaveSelector:f,contextInfo:h,connection:a}}),new objj_method(sel_getUid("connection:didReceiveResponse:"),function(a,c,b,e){with(a){if(!objj_msgSend(e,"isKindOfClass:",objj_msgSend(CPHTTPURLResponse,"class")))return;c=objj_msgSend(e,"statusCode");if(c===200)return;e=b.session;b==_readConnection?(objj_msgSend(b,"cancel"),alert("There was an error retrieving the document."),objj_msgSend(e.delegate,e.didReadSelector,a,NO,e.contextInfo)):c==409&&
(objj_msgSend(b,"cancel"),confirm("There already exists a file with that name, would you like to overwrite it?")?(objj_msgSend(_writeRequest,"setValue:forHTTPHeaderField:","true","x-cappuccino-overwrite"),objj_msgSend(b,"start")):(e.saveOperation!=CPSaveToOperation&&(_changeCount+=e.changeCount,objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocumentEdited:"),objj_msgSend(a,"isDocumentEdited"))),_writeRequest=nil,objj_msgSend(e.delegate,e.didSaveSelector,a,
NO,e.contextInfo),objj_msgSend(a,"_sendDocumentSavedNotification:",NO)))}}),new objj_method(sel_getUid("connection:didReceiveData:"),function(a,c,b,e){with(a)c=b.session,b==_readConnection?(objj_msgSend(a,"readFromData:ofType:error:",objj_msgSend(CPData,"dataWithRawString:",e),c.fileType,nil),objj_msgSend(c.delegate,c.didReadSelector,a,YES,c.contextInfo)):(c.saveOperation!=CPSaveToOperation&&objj_msgSend(a,"setFileURL:",c.absoluteURL),_writeRequest=nil,objj_msgSend(c.delegate,c.didSaveSelector,a,
YES,c.contextInfo),objj_msgSend(a,"_sendDocumentSavedNotification:",YES))}),new objj_method(sel_getUid("connection:didFailWithError:"),function(a,c,b){with(a)c=b.session,_readConnection==b?objj_msgSend(c.delegate,c.didReadSelector,a,NO,c.contextInfo):(c.saveOperation!=CPSaveToOperation&&(_changeCount+=c.changeCount,objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocumentEdited:"),objj_msgSend(a,"isDocumentEdited"))),_writeRequest=nil,alert("There was an error saving the document."),
objj_msgSend(c.delegate,c.didSaveSelector,a,NO,c.contextInfo),objj_msgSend(a,"_sendDocumentSavedNotification:",NO))}),new objj_method(sel_getUid("connectionDidFinishLoading:"),function(a,c,b){with(a)_readConnection==b&&(_readConnection=nil)}),new objj_method(sel_getUid("isDocumentEdited"),function(a){with(a)return _changeCount!=0}),new objj_method(sel_getUid("updateChangeCount:"),function(a,c,b){with(a)b==CPChangeDone?++_changeCount:b==CPChangeUndone?--_changeCount:b==CPChangeCleared&&(_changeCount=
0),objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocumentEdited:"),objj_msgSend(a,"isDocumentEdited"))}),new objj_method(sel_getUid("setFileType:"),function(a,c,b){with(a)_fileType=b}),new objj_method(sel_getUid("fileType"),function(a){with(a)return _fileType}),new objj_method(sel_getUid("hasUndoManager"),function(a){with(a)return _hasUndoManager}),new objj_method(sel_getUid("setHasUndoManager:"),function(a,c,b){with(a){if(_hasUndoManager==b)return;(_hasUndoManager=
b)||objj_msgSend(a,"setUndoManager:",nil)}}),new objj_method(sel_getUid("_undoManagerWillCloseGroup:"),function(a,c,b){with(a){c=objj_msgSend(b,"object");if(objj_msgSend(c,"isUndoing")||objj_msgSend(c,"isRedoing"))return;objj_msgSend(a,"updateChangeCount:",CPChangeDone)}}),new objj_method(sel_getUid("_undoManagerDidUndoChange:"),function(a){with(a)objj_msgSend(a,"updateChangeCount:",CPChangeUndone)}),new objj_method(sel_getUid("_undoManagerDidRedoChange:"),function(a){with(a)objj_msgSend(a,"updateChangeCount:",
CPChangeDone)}),new objj_method(sel_getUid("setUndoManager:"),function(a,c,b){with(a)if(c=objj_msgSend(CPNotificationCenter,"defaultCenter"),_undoManager&&(objj_msgSend(c,"removeObserver:name:object:",a,CPUndoManagerDidUndoChangeNotification,_undoManager),objj_msgSend(c,"removeObserver:name:object:",a,CPUndoManagerDidRedoChangeNotification,_undoManager),objj_msgSend(c,"removeObserver:name:object:",a,CPUndoManagerWillCloseUndoGroupNotification,_undoManager)),_undoManager=b)objj_msgSend(c,"addObserver:selector:name:object:",
a,sel_getUid("_undoManagerDidUndoChange:"),CPUndoManagerDidUndoChangeNotification,_undoManager),objj_msgSend(c,"addObserver:selector:name:object:",a,sel_getUid("_undoManagerDidRedoChange:"),CPUndoManagerDidRedoChangeNotification,_undoManager),objj_msgSend(c,"addObserver:selector:name:object:",a,sel_getUid("_undoManagerWillCloseGroup:"),CPUndoManagerWillCloseUndoGroupNotification,_undoManager)}),new objj_method(sel_getUid("undoManager"),function(a){with(a)return _hasUndoManager&&!_undoManager&&objj_msgSend(a,
"setUndoManager:",objj_msgSend(objj_msgSend(CPUndoManager,"alloc"),"init")),_undoManager}),new objj_method(sel_getUid("windowWillReturnUndoManager:"),function(a){with(a)return objj_msgSend(a,"undoManager")}),new objj_method(sel_getUid("saveDocument:"),function(a){with(a)objj_msgSend(a,"saveDocumentWithDelegate:didSaveSelector:contextInfo:",nil,nil,nil)}),new objj_method(sel_getUid("saveDocumentWithDelegate:didSaveSelector:contextInfo:"),function(a,c,b,e,g){with(a)_fileURL?(objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPDocumentWillSaveNotification,a),objj_msgSend(a,"saveToURL:ofType:forSaveOperation:delegate:didSaveSelector:contextInfo:",_fileURL,objj_msgSend(a,"fileType"),CPSaveOperation,b,e,g)):objj_msgSend(a,"_saveDocumentAsWithDelegate:didSaveSelector:contextInfo:",b,e,g)}),new objj_method(sel_getUid("saveDocumentAs:"),function(a){with(a)objj_msgSend(a,"_saveDocumentAsWithDelegate:didSaveSelector:contextInfo:",nil,nil,nil)}),new objj_method(sel_getUid("_saveDocumentAsWithDelegate:didSaveSelector:contextInfo:"),
function(a,c,b,e,g){with(a){c=objj_msgSend(CPSavePanel,"savePanel");if(!objj_msgSend(c,"runModal"))return;c=objj_msgSend(c,"URL");objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPDocumentWillSaveNotification,a);objj_msgSend(a,"saveToURL:ofType:forSaveOperation:delegate:didSaveSelector:contextInfo:",c,objj_msgSend(a,"fileType"),CPSaveAsOperation,b,e,g)}}),new objj_method(sel_getUid("_sendDocumentSavedNotification:"),function(a,c,b){with(a)b?objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPDocumentDidSaveNotification,a):objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPDocumentDidFailToSaveNotification,a)})]);d=objj_getClass("CPDocument");if(!d)throw new SyntaxError('*** Could not find definition for class "CPDocument"');class_addMethods(d,[new objj_method(sel_getUid("close"),function(a){with(a)objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("removeDocumentAndCloseIfNecessary:"),
a),objj_msgSend(objj_msgSend(CPDocumentController,"sharedDocumentController"),"removeDocument:",a)}),new objj_method(sel_getUid("shouldCloseWindowController:delegate:shouldCloseSelector:contextInfo:"),function(a,c,b,e,g,d){with(a)objj_msgSend(b,"shouldCloseDocument")||objj_msgSend(_windowControllers,"count")<2&&objj_msgSend(_windowControllers,"indexOfObject:",b)!==CPNotFound?objj_msgSend(a,"canCloseDocumentWithDelegate:shouldCloseSelector:contextInfo:",a,sel_getUid("_document:shouldClose:context:"),
{delegate:e,selector:g,context:d}):objj_msgSend(e,"respondsToSelector:",g)&&objj_msgSend(e,g,a,YES,d)}),new objj_method(sel_getUid("_document:shouldClose:context:"),function(a,c,b,e,g){with(a)b===a&&e&&objj_msgSend(a,"close"),objj_msgSend(g.delegate,g.selector,b,e,g.context)}),new objj_method(sel_getUid("canCloseDocumentWithDelegate:shouldCloseSelector:contextInfo:"),function(a,c,b,e,g){with(a){if(!objj_msgSend(a,"isDocumentEdited"))return objj_msgSend(b,"respondsToSelector:",e)&&objj_msgSend(b,e,
a,YES,g);_canCloseAlert=objj_msgSend(objj_msgSend(CPAlert,"alloc"),"init");objj_msgSend(_canCloseAlert,"setDelegate:",a);objj_msgSend(_canCloseAlert,"setAlertStyle:",CPWarningAlertStyle);objj_msgSend(_canCloseAlert,"setTitle:","Unsaved Document");objj_msgSend(_canCloseAlert,"setMessageText:","Do you want to save the changes you've made to the document \""+(objj_msgSend(a,"displayName")||objj_msgSend(a,"fileName"))+'"?');objj_msgSend(_canCloseAlert,"addButtonWithTitle:","Save");objj_msgSend(_canCloseAlert,
"addButtonWithTitle:","Cancel");objj_msgSend(_canCloseAlert,"addButtonWithTitle:","Don't Save");_canCloseAlert._context={delegate:b,selector:e,context:g};objj_msgSend(_canCloseAlert,"runModal")}}),new objj_method(sel_getUid("alertDidEnd:returnCode:"),function(a,c,b,e){with(a){if(b!==_canCloseAlert)return;c=b._context.delegate;var g=b._context.selector;b=b._context.context;e===0?objj_msgSend(a,"saveDocumentWithDelegate:didSaveSelector:contextInfo:",c,g,b):objj_msgSend(c,g,a,e===2,b);_canCloseAlert=
nil}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPMenuItem.j",baseURL),function(j,h){h("Foundation/CPCoder.j",NO);h("Foundation/CPObject.j",NO);h("Foundation/CPString.j",NO);h("CPImage.j",YES);h("CPMenu.j",YES);h("CPView.j",YES);h("_CPMenuItemView.j",YES);var f=objj_allocateClassPair(CPObject,"CPMenuItem"),d=f.isa;class_addIvars(f,[new objj_ivar("_isSeparator"),new objj_ivar("_title"),new objj_ivar("_font"),new objj_ivar("_target"),new objj_ivar("_action"),new objj_ivar("_isEnabled"),new objj_ivar("_isHidden"),
new objj_ivar("_tag"),new objj_ivar("_state"),new objj_ivar("_image"),new objj_ivar("_alternateImage"),new objj_ivar("_onStateImage"),new objj_ivar("_offStateImage"),new objj_ivar("_mixedStateImage"),new objj_ivar("_submenu"),new objj_ivar("_menu"),new objj_ivar("_keyEquivalent"),new objj_ivar("_keyEquivalentModifierMask"),new objj_ivar("_mnemonicLocation"),new objj_ivar("_isAlternate"),new objj_ivar("_indentationLevel"),new objj_ivar("_toolTip"),new objj_ivar("_representedObject"),new objj_ivar("_view"),
new objj_ivar("_changeCount"),new objj_ivar("_menuItemView")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,"initWithTitle:action:keyEquivalent:","",nil,nil)}),new objj_method(sel_getUid("initWithTitle:action:keyEquivalent:"),function(a,c,b,e,g){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPMenuItem").super_class},"init"))_changeCount=0,_isSeparator=NO,_title=b,_action=e,_isEnabled=YES,_isHidden=
NO,_tag=0,_state=CPOffState,_keyEquivalent=g||"",_keyEquivalentModifierMask=CPPlatformActionKeyMask,_indentationLevel=0,_mnemonicLocation=CPNotFound;return a}}),new objj_method(sel_getUid("setEnabled:"),function(a,c,b){with(a){if(objj_msgSend(_menu,"autoenablesItems"))return;objj_msgSend(a,"_setEnabled:",b)}}),new objj_method(sel_getUid("_setEnabled:"),function(a,c,b){with(a){if(_isEnabled===b)return;_isEnabled=!!b;objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,"itemChanged:",a)}}),new objj_method(sel_getUid("isEnabled"),
function(a){with(a)return _isEnabled}),new objj_method(sel_getUid("setHidden:"),function(a,c,b){with(a){if(_isHidden==b)return;_isHidden=b;objj_msgSend(_menu,"itemChanged:",a)}}),new objj_method(sel_getUid("isHidden"),function(a){with(a)return _isHidden}),new objj_method(sel_getUid("isHiddenOrHasHiddenAncestor"),function(a){with(a){if(_isHidden)return YES;a=objj_msgSend(_menu,"supermenu");if(objj_msgSend(objj_msgSend(a,"itemAtIndex:",objj_msgSend(a,"indexOfItemWithSubmenu:",_menu)),"isHiddenOrHasHiddenAncestor"))return YES;
return NO}}),new objj_method(sel_getUid("setTarget:"),function(a,c,b){with(a)_target=b}),new objj_method(sel_getUid("target"),function(a){with(a)return _target}),new objj_method(sel_getUid("setAction:"),function(a,c,b){with(a)_action=b}),new objj_method(sel_getUid("action"),function(a){with(a)return _action}),new objj_method(sel_getUid("setTitle:"),function(a,c,b){with(a){_mnemonicLocation=CPNotFound;if(_title==b)return;_title=b;objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,"itemChanged:",
a)}}),new objj_method(sel_getUid("title"),function(a){with(a)return _title}),new objj_method(sel_getUid("setTextColor:"),function(a){with(a);}),new objj_method(sel_getUid("setFont:"),function(a,c,b){with(a){if(_font==b)return;_font=b;objj_msgSend(_menu,"itemChanged:",a);objj_msgSend(_menuItemView,"setDirty")}}),new objj_method(sel_getUid("font"),function(a){with(a)return _font}),new objj_method(sel_getUid("setTag:"),function(a,c,b){with(a)_tag=b}),new objj_method(sel_getUid("tag"),function(a){with(a)return _tag}),
new objj_method(sel_getUid("setState:"),function(a,c,b){with(a){if(_state==b)return;_state=b;objj_msgSend(_menu,"itemChanged:",a);objj_msgSend(_menuItemView,"setDirty")}}),new objj_method(sel_getUid("state"),function(a){with(a)return _state}),new objj_method(sel_getUid("setImage:"),function(a,c,b){with(a){if(_image==b)return;_image=b;objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,"itemChanged:",a)}}),new objj_method(sel_getUid("image"),function(a){with(a)return _image}),new objj_method(sel_getUid("setAlternateImage:"),
function(a,c,b){with(a)_alternateImage=b}),new objj_method(sel_getUid("alternateImage"),function(a){with(a)return _alternateImage}),new objj_method(sel_getUid("setOnStateImage:"),function(a,c,b){with(a){if(_onStateImage==b)return;_onStateImage=b;objj_msgSend(_menu,"itemChanged:",a)}}),new objj_method(sel_getUid("onStateImage"),function(a){with(a)return _onStateImage}),new objj_method(sel_getUid("setOffStateImage:"),function(a,c,b){with(a){if(_offStateImage==b)return;_offStateImage=b;objj_msgSend(_menu,
"itemChanged:",a)}}),new objj_method(sel_getUid("offStateImage"),function(a){with(a)return _offStateImage}),new objj_method(sel_getUid("setMixedStateImage:"),function(a,c,b){with(a){if(_mixedStateImage==b)return;_mixedStateImage=b;objj_msgSend(_menu,"itemChanged:",a)}}),new objj_method(sel_getUid("mixedStateImage"),function(a){with(a)return _mixedStateImage}),new objj_method(sel_getUid("setSubmenu:"),function(a,c,b){with(a){if(_submenu===b)return;objj_msgSend(_submenu,"supermenu")&&objj_msgSend(CPException,
"raise:reason:",CPInvalidArgumentException,"Can't add submenu \""+objj_msgSend(b,"title")+'" to item "'+objj_msgSend(a,"title")+'", because it is already submenu of "'+objj_msgSend(objj_msgSend(b,"supermenu"),"title")+'"');(_submenu=b)?(objj_msgSend(_submenu,"setSupermenu:",_menu),objj_msgSend(a,"setTarget:",_menu),objj_msgSend(a,"setAction:",sel_getUid("submenuAction:"))):(objj_msgSend(a,"setTarget:",nil),objj_msgSend(a,"setAction:",NULL));objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,
"itemChanged:",a)}}),new objj_method(sel_getUid("submenu"),function(a){with(a)return _submenu}),new objj_method(sel_getUid("hasSubmenu"),function(a){with(a)return _submenu?YES:NO}),new objj_method(sel_getUid("isSeparatorItem"),function(a){with(a)return _isSeparator}),new objj_method(sel_getUid("setMenu:"),function(a,c,b){with(a)_menu=b}),new objj_method(sel_getUid("menu"),function(a){with(a)return _menu}),new objj_method(sel_getUid("setKeyEquivalent:"),function(a,c,b){with(a)_keyEquivalent=b||""}),
new objj_method(sel_getUid("keyEquivalent"),function(a){with(a)return _keyEquivalent}),new objj_method(sel_getUid("setKeyEquivalentModifierMask:"),function(a,c,b){with(a)_keyEquivalentModifierMask=b}),new objj_method(sel_getUid("keyEquivalentModifierMask"),function(a){with(a)return _keyEquivalentModifierMask}),new objj_method(sel_getUid("keyEquivalentStringRepresentation"),function(a){with(a){if(!objj_msgSend(_keyEquivalent,"length"))return"";a=_keyEquivalent.toUpperCase();var c=_keyEquivalentModifierMask&
CPShiftKeyMask||a===_keyEquivalent&&_keyEquivalent.toLowerCase()!==_keyEquivalent.toUpperCase();if(CPBrowserIsOperatingSystem(CPMacOperatingSystem))_keyEquivalentModifierMask&CPCommandKeyMask&&(a=""+a),c&&(a=""+a),_keyEquivalentModifierMask&CPAlternateKeyMask&&(a=""+a),_keyEquivalentModifierMask&CPControlKeyMask&&(a="^"+a);else if(c&&(a="Shift-"+a),_keyEquivalentModifierMask&CPAlternateKeyMask&&(a="Alt-"+a),_keyEquivalentModifierMask&CPControlKeyMask||_keyEquivalentModifierMask&CPCommandKeyMask)a=
"Ctrl-"+a;return a}}),new objj_method(sel_getUid("setMnemonicLocation:"),function(a,c,b){with(a)_mnemonicLocation=b}),new objj_method(sel_getUid("mnemonicLocation"),function(a){with(a)return _mnemonicLocation}),new objj_method(sel_getUid("setTitleWithMnemonicLocation:"),function(a,c,b){with(a)c=objj_msgSend(b,"rangeOfString:","&").location,c==CPNotFound?objj_msgSend(a,"setTitle:",b):(objj_msgSend(a,"setTitle:",objj_msgSend(b,"substringToIndex:",c)+objj_msgSend(b,"substringFromIndex:",c+1)),objj_msgSend(a,
"setMnemonicLocation:",c))}),new objj_method(sel_getUid("mnemonic"),function(a){with(a)return _mnemonicLocation==CPNotFound?"":objj_msgSend(_title,"characterAtIndex:",_mnemonicLocation)}),new objj_method(sel_getUid("setAlternate:"),function(a,c,b){with(a)_isAlternate=b}),new objj_method(sel_getUid("isAlternate"),function(a){with(a)return _isAlternate}),new objj_method(sel_getUid("setIndentationLevel:"),function(a,c,b){with(a)b<0&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,
"setIndentationLevel: argument must be greater than or equal to 0."),_indentationLevel=MIN(15,b)}),new objj_method(sel_getUid("indentationLevel"),function(a){with(a)return _indentationLevel}),new objj_method(sel_getUid("setToolTip:"),function(a,c,b){with(a)_toolTip=b}),new objj_method(sel_getUid("toolTip"),function(a){with(a)return _toolTip}),new objj_method(sel_getUid("setRepresentedObject:"),function(a,c,b){with(a)_representedObject=b}),new objj_method(sel_getUid("representedObject"),function(a){with(a)return _representedObject}),
new objj_method(sel_getUid("setView:"),function(a,c,b){with(a){if(_view===b)return;_view=b;objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,"itemChanged:",a)}}),new objj_method(sel_getUid("view"),function(a){with(a)return _view}),new objj_method(sel_getUid("isHighlighted"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"menu"),"highlightedItem")==a}),new objj_method(sel_getUid("copy"),function(a){with(a)return a=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"init"),a._isSeparator=
_isSeparator,objj_msgSend(a,"setTitle:",_title),objj_msgSend(a,"setFont:",_font),objj_msgSend(a,"setTarget:",_target),objj_msgSend(a,"setAction:",_action),objj_msgSend(a,"setEnabled:",_isEnabled),objj_msgSend(a,"setHidden:",_isHidden),objj_msgSend(a,"setTag:",_tag),objj_msgSend(a,"setState:",_state),objj_msgSend(a,"setImage:",_image),objj_msgSend(a,"setAlternateImage:",_alternateImage),objj_msgSend(a,"setOnStateImage:",_onStateImage),objj_msgSend(a,"setOffStateImage:",_offStateImage),objj_msgSend(a,
"setMixedStateImage:",_mixedStateImage),objj_msgSend(a,"setKeyEquivalent:",_keyEquivalent),objj_msgSend(a,"setKeyEquivalentModifierMask:",_keyEquivalentModifierMask),objj_msgSend(a,"setMnemonicLocation:",_mnemonicLocation),objj_msgSend(a,"setAlternate:",_isAlternate),objj_msgSend(a,"setIndentationLevel:",_indentationLevel),objj_msgSend(a,"setToolTip:",_toolTip),objj_msgSend(a,"setRepresentedObject:",_representedObject),a}),new objj_method(sel_getUid("mutableCopy"),function(a){with(a)return objj_msgSend(a,
"copy")}),new objj_method(sel_getUid("_menuItemView"),function(a){with(a)return _menuItemView||(_menuItemView=objj_msgSend(objj_msgSend(_CPMenuItemView,"alloc"),"initWithFrame:forMenuItem:",CGRectMakeZero(),a)),_menuItemView}),new objj_method(sel_getUid("_isSelectable"),function(a){with(a)return!objj_msgSend(a,"submenu")||objj_msgSend(a,"action")!==sel_getUid("submenuAction:")||objj_msgSend(a,"target")!==objj_msgSend(a,"menu")}),new objj_method(sel_getUid("_isMenuBarButton"),function(a){with(a)return!objj_msgSend(a,
"submenu")&&objj_msgSend(a,"menu")===objj_msgSend(CPApp,"mainMenu")}),new objj_method(sel_getUid("description"),function(a){with(a)return objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPMenuItem").super_class},"description")+" target: "+objj_msgSend(a,"target")+" action: "+CPStringFromSelector(objj_msgSend(a,"action"))})]);class_addMethods(d,[new objj_method(sel_getUid("separatorItem"),function(a){with(a)return a=objj_msgSend(objj_msgSend(a,"alloc"),"initWithTitle:action:keyEquivalent:",
"",nil,nil),a._isSeparator=YES,a})]);f=objj_getClass("CPMenuItem");if(!f)throw new SyntaxError('*** Could not find definition for class "CPMenuItem"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(a,c,b){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPMenuItem").super_class},"init"))_changeCount=0,_isSeparator=objj_msgSend(b,"containsValueForKey:","CPMenuItemIsSeparatorKey")&&objj_msgSend(b,"decodeBoolForKey:","CPMenuItemIsSeparatorKey"),
_title=objj_msgSend(b,"decodeObjectForKey:","CPMenuItemTitleKey"),_target=objj_msgSend(b,"decodeObjectForKey:","CPMenuItemTargetKey"),_action=objj_msgSend(b,"decodeObjectForKey:","CPMenuItemActionKey"),_isEnabled=objj_msgSend(b,"containsValueForKey:","CPMenuItemIsEnabledKey")?objj_msgSend(b,"decodeObjectForKey:","CPMenuItemIsEnabledKey"):YES,_isHidden=objj_msgSend(b,"containsValueForKey:","CPMenuItemIsHiddenKey")?objj_msgSend(b,"decodeObjectForKey:","CPMenuItemIsHiddenKey"):NO,_tag=objj_msgSend(b,
"containsValueForKey:","CPMenuItemTagKey")?objj_msgSend(b,"decodeObjectForKey:","CPMenuItemTagKey"):0,_state=objj_msgSend(b,"containsValueForKey:","CPMenuItemStateKey")?objj_msgSend(b,"decodeObjectForKey:","CPMenuItemStateKey"):CPOffState,_image=objj_msgSend(b,"containsValueForKey:","CPMenuItemImageKey")?objj_msgSend(b,"decodeObjectForKey:","CPMenuItemImageKey"):nil,_alternateImage=objj_msgSend(b,"containsValueForKey:","CPMenuItemAlternateImageKey")?objj_msgSend(b,"decodeObjectForKey:","CPMenuItemAlternateImageKey"):
nil,_menu=objj_msgSend(b,"containsValueForKey:","CPMenuItemMenuKey")?objj_msgSend(b,"decodeObjectForKey:","CPMenuItemMenuKey"):nil,objj_msgSend(a,"setSubmenu:",objj_msgSend(b,"containsValueForKey:","CPMenuItemSubmenuKey")?objj_msgSend(b,"decodeObjectForKey:","CPMenuItemSubmenuKey"):nil),_keyEquivalent=objj_msgSend(b,"decodeObjectForKey:","CPMenuItemKeyEquivalentKey")||"",_keyEquivalentModifierMask=objj_msgSend(b,"decodeObjectForKey:","CPMenuItemKeyEquivalentModifierMaskKey")||0,objj_msgSend(a,"setIndentationLevel:",
objj_msgSend(b,"decodeIntForKey:","CPMenuItemIndentationLevelKey")||0),_representedObject=objj_msgSend(b,"containsValueForKey:","CPMenuItemRepresentedObjectKey")?objj_msgSend(b,"decodeObjectForKey:","CPMenuItemRepresentedObjectKey"):nil,_view=objj_msgSend(b,"containsValueForKey:","CPMenuItemViewKey")?objj_msgSend(b,"decodeObjectForKey:","CPMenuItemViewKey"):nil;return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,c,b){with(a)_isSeparator&&objj_msgSend(b,"encodeBool:forKey:",_isSeparator,
"CPMenuItemIsSeparatorKey"),objj_msgSend(b,"encodeObject:forKey:",_title,"CPMenuItemTitleKey"),objj_msgSend(b,"encodeObject:forKey:",_target,"CPMenuItemTargetKey"),objj_msgSend(b,"encodeObject:forKey:",_action,"CPMenuItemActionKey"),_isEnabled!==YES&&objj_msgSend(b,"encodeObject:forKey:",_isEnabled,"CPMenuItemIsEnabledKey"),_isHidden!==NO&&objj_msgSend(b,"encodeObject:forKey:",_isHidden,"CPMenuItemIsHiddenKey"),_tag!==0&&objj_msgSend(b,"encodeObject:forKey:",_tag,"CPMenuItemTagKey"),_state!==CPOffState&&
objj_msgSend(b,"encodeObject:forKey:",_state,"CPMenuItemStateKey"),_image!==nil&&objj_msgSend(b,"encodeObject:forKey:",_image,"CPMenuItemImageKey"),_alternateImage!==nil&&objj_msgSend(b,"encodeObject:forKey:",_alternateImage,"CPMenuItemAlternateImageKey"),_submenu!==nil&&objj_msgSend(b,"encodeObject:forKey:",_submenu,"CPMenuItemSubmenuKey"),_menu!==nil&&objj_msgSend(b,"encodeObject:forKey:",_menu,"CPMenuItemMenuKey"),_keyEquivalent&&_keyEquivalent.length&&objj_msgSend(b,"encodeObject:forKey:",_keyEquivalent,
"CPMenuItemKeyEquivalentKey"),_keyEquivalentModifierMask&&objj_msgSend(b,"encodeObject:forKey:",_keyEquivalentModifierMask,"CPMenuItemKeyEquivalentModifierMaskKey"),_indentationLevel>0&&objj_msgSend(b,"encodeInt:forKey:",_indentationLevel,"CPMenuItemIndentationLevelKey"),_representedObject!==nil&&objj_msgSend(b,"encodeObject:forKey:",_representedObject,"CPMenuItemRepresentedObjectKey"),_view!==nil&&objj_msgSend(b,"encodeObject:forKey:",_view,"CPMenuItemViewKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPImageAndTextView.j",baseURL),function(j,h){h("Foundation/CPString.j",NO);h("CPColor.j",YES);h("CPFont.j",YES);h("CPImage.j",YES);h("CPView.j",YES);h("CPControl.j",YES);var f=objj_allocateClassPair(CPView,"_CPImageAndTextView");class_addIvars(f,[new objj_ivar("_alignment"),new objj_ivar("_verticalAlignment"),new objj_ivar("_lineBreakMode"),new objj_ivar("_textColor"),new objj_ivar("_font"),new objj_ivar("_textShadowColor"),new objj_ivar("_textShadowOffset"),
new objj_ivar("_imagePosition"),new objj_ivar("_imageScaling"),new objj_ivar("_imageOffset"),new objj_ivar("_shouldDimImage"),new objj_ivar("_image"),new objj_ivar("_text"),new objj_ivar("_textSize"),new objj_ivar("_flags"),new objj_ivar("_DOMImageElement"),new objj_ivar("_DOMTextElement"),new objj_ivar("_DOMTextShadowElement")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithFrame:control:"),function(d,a,c,b){with(d){if(d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("_CPImageAndTextView").super_class},
"initWithFrame:",c))_textShadowOffset={width:0,height:0},objj_msgSend(d,"setVerticalAlignment:",CPTopVerticalTextAlignment),b?(objj_msgSend(d,"setLineBreakMode:",objj_msgSend(b,"lineBreakMode")),objj_msgSend(d,"setTextColor:",objj_msgSend(b,"textColor")),objj_msgSend(d,"setAlignment:",objj_msgSend(b,"alignment")),objj_msgSend(d,"setVerticalAlignment:",objj_msgSend(b,"verticalAlignment")),objj_msgSend(d,"setFont:",objj_msgSend(b,"font")),objj_msgSend(d,"setImagePosition:",objj_msgSend(b,"imagePosition")),
objj_msgSend(d,"setImageScaling:",objj_msgSend(b,"imageScaling")),objj_msgSend(d,"setImageOffset:",objj_msgSend(b,"imageOffset"))):(objj_msgSend(d,"setLineBreakMode:",CPLineBreakByClipping),objj_msgSend(d,"setAlignment:",CPCenterTextAlignment),objj_msgSend(d,"setFont:",objj_msgSend(CPFont,"systemFontOfSize:",12)),objj_msgSend(d,"setImagePosition:",CPNoImage),objj_msgSend(d,"setImageScaling:",CPScaleNone)),_textSize=nil;return d}}),new objj_method(sel_getUid("initWithFrame:"),function(d,a,c){with(d)return objj_msgSend(d,
"initWithFrame:control:",c,nil)}),new objj_method(sel_getUid("setAlignment:"),function(d,a,c){with(d){if(_alignment===c)return;_alignment=c;switch(_alignment){case CPLeftTextAlignment:_DOMElement.style.textAlign="left";break;case CPRightTextAlignment:_DOMElement.style.textAlign="right";break;case CPCenterTextAlignment:_DOMElement.style.textAlign="center";break;case CPJustifiedTextAlignment:_DOMElement.style.textAlign="justify";break;case CPNaturalTextAlignment:_DOMElement.style.textAlign=""}}}),new objj_method(sel_getUid("alignment"),
function(d){with(d)return _alignment}),new objj_method(sel_getUid("setVerticalAlignment:"),function(d,a,c){with(d){if(_verticalAlignment===c)return;_verticalAlignment=c;_flags|=16;objj_msgSend(d,"setNeedsLayout")}}),new objj_method(sel_getUid("verticalAlignment"),function(d){with(d)return _verticalAlignment}),new objj_method(sel_getUid("setLineBreakMode:"),function(d,a,c){with(d){if(_lineBreakMode===c)return;_lineBreakMode=c;_flags|=32;objj_msgSend(d,"setNeedsLayout")}}),new objj_method(sel_getUid("lineBreakMode"),
function(d){with(d)return _lineBreakMode}),new objj_method(sel_getUid("setImagePosition:"),function(d,a,c){with(d){if(_imagePosition==c)return;_imagePosition==CPNoImage&&(_flags|=2);_imagePosition=c;_flags|=512;objj_msgSend(d,"setNeedsLayout")}}),new objj_method(sel_getUid("imagePosition"),function(d){with(d)return _imagePosition}),new objj_method(sel_getUid("setImageScaling:"),function(d,a,c){with(d){if(_imageScaling==c)return;_imageScaling=c;_flags|=1024;objj_msgSend(d,"setNeedsLayout")}}),new objj_method(sel_getUid("imageScaling"),
function(d){with(d)return _imageScaling}),new objj_method(sel_getUid("setDimsImage:"),function(d,a,c){with(d)c=!!c,_shouldDimImage!==c&&(_shouldDimImage=c,objj_msgSend(d,"setNeedsLayout"))}),new objj_method(sel_getUid("setTextColor:"),function(d,a,c){with(d){if(_textColor===c)return;_textColor=c;_DOMElement.style.color=objj_msgSend(_textColor,"cssString")}}),new objj_method(sel_getUid("textColor"),function(d){with(d)return _textColor}),new objj_method(sel_getUid("setFont:"),function(d,a,c){with(d){if(_font===
c)return;_font=c;_flags|=128;_textSize=nil;objj_msgSend(d,"setNeedsLayout")}}),new objj_method(sel_getUid("font"),function(d){with(d)return _font}),new objj_method(sel_getUid("setTextShadowColor:"),function(d,a,c){with(d){if(_textShadowColor===c)return;_textShadowColor=c;_flags|=256;objj_msgSend(d,"setNeedsLayout")}}),new objj_method(sel_getUid("textShadowColor"),function(d){with(d)return _textShadowColor}),new objj_method(sel_getUid("setTextShadowOffset:"),function(d,a,c){with(d){if(_textShadowOffset.width==
c.width&&_textShadowOffset.height==c.height)return;_textShadowOffset={width:c.width,height:c.height};objj_msgSend(d,"setNeedsLayout")}}),new objj_method(sel_getUid("textShadowOffset"),function(d){with(d)return _textShadowOffset}),new objj_method(sel_getUid("setImage:"),function(d,a,c){with(d){if(_image==c)return;objj_msgSend(_image,"delegate")===d&&objj_msgSend(_image,"setDelegate:",nil);_image=c;_flags|=2;objj_msgSend(_image,"loadStatus")!==CPImageLoadStatusCompleted&&objj_msgSend(_image,"setDelegate:",
d);objj_msgSend(d,"setNeedsLayout")}}),new objj_method(sel_getUid("setImageOffset:"),function(d,a,c){with(d){if(_imageOffset===c)return;_imageOffset=c;objj_msgSend(d,"setNeedsLayout")}}),new objj_method(sel_getUid("imageOffset"),function(d){with(d)return _imageOffset}),new objj_method(sel_getUid("imageDidLoad:"),function(d,a,c){with(d)c===_image&&(_flags|=2,objj_msgSend(d,"setNeedsLayout"))}),new objj_method(sel_getUid("image"),function(d){with(d)return _image}),new objj_method(sel_getUid("setText:"),
function(d,a,c){with(d){if(_text===c)return;_text=c;_flags|=4;_textSize=nil;objj_msgSend(d,"setNeedsLayout")}}),new objj_method(sel_getUid("text"),function(d){with(d)return _text}),new objj_method(sel_getUid("layoutSubviews"),function(d){with(d){var a=_imagePosition!==CPImageOnly&&objj_msgSend(_text,"length")>0,c=!!_DOMTextElement;if(a!==c)c?(_DOMElement.removeChild(_DOMTextElement),_DOMTextElement=nil,c=NO):(_DOMTextElement=document.createElement("div"),a=_DOMTextElement.style,a.position="absolute",
a.whiteSpace="pre",a.zIndex=200,a.overflow="hidden",_DOMElement.appendChild(_DOMTextElement),c=YES,_flags|=164);a=c?_DOMTextElement.style:nil;var b=!!_DOMTextShadowElement;if((c&&!!_textShadowColor)!==b)b?(_DOMElement.removeChild(_DOMTextShadowElement),_DOMTextShadowElement=nil,b=NO):(_DOMTextShadowElement=document.createElement("div"),b=_DOMTextShadowElement.style,b.font=objj_msgSend(_font?_font:objj_msgSend(CPFont,"systemFontOfSize:",12),"cssString"),b.position="absolute",b.whiteSpace=a.whiteSpace,
b.wordWrap=a.wordWrap,b.color=objj_msgSend(_textShadowColor,"cssString"),b.zIndex=150,b.textOverflow=a.textOverflow,document.attachEvent?b.overflow=a.overflow:(b.overflowX=a.overflowX,b.overflowY=a.overflowY),_DOMElement.appendChild(_DOMTextShadowElement),b=YES,_flags|=4);b=b?_DOMTextShadowElement.style:nil;if(c){if(_flags&4)if(CPFeatureIsCompatible(CPJavaScriptInnerTextFeature)){if(_DOMTextElement.innerText=_text,_DOMTextShadowElement)_DOMTextShadowElement.innerText=_text}else if(CPFeatureIsCompatible(CPJavaScriptTextContentFeature)&&
(_DOMTextElement.textContent=_text,_DOMTextShadowElement))_DOMTextShadowElement.textContent=_text;if(_flags&128){var e=objj_msgSend(_font?_font:objj_msgSend(CPFont,"systemFontOfSize:",12),"cssString");a.font=e;if(b)b.font=e}if(_flags&32){switch(_lineBreakMode){case CPLineBreakByClipping:a.overflow="hidden";a.textOverflow="clip";a.whiteSpace="pre";a.wordWrap="normal";break;case CPLineBreakByTruncatingHead:case CPLineBreakByTruncatingMiddle:case CPLineBreakByTruncatingTail:a.textOverflow="ellipsis";
a.whiteSpace="nowrap";a.overflow="hidden";a.wordWrap="normal";break;case CPLineBreakByCharWrapping:case CPLineBreakByWordWrapping:a.wordWrap="break-word";try{a.whiteSpace="pre",a.whiteSpace="-o-pre-wrap",a.whiteSpace="-pre-wrap",a.whiteSpace="-moz-pre-wrap",a.whiteSpace="pre-wrap"}catch(g){a.whiteSpace="pre"}a.overflow="hidden";a.textOverflow="clip"}if(b)document.attachEvent?b.overflow=a.overflow:(b.overflowX=a.overflowX,b.overflowY=a.overflowY),b.wordWrap=a.wordWrap,b.whiteSpace=a.whiteSpace,b.textOverflow=
a.textOverflow}}var n=!!_DOMImageElement;if((_image!==nil&&_imagePosition!==CPNoImage)!==n)if(n)_DOMElement.removeChild(_DOMImageElement),_DOMImageElement=nil,n=NO;else{_DOMImageElement=document.createElement("img");objj_msgSend(CPPlatform,"supportsDragAndDrop")&&(_DOMImageElement.setAttribute("draggable","true"),_DOMImageElement.style["-khtml-user-drag"]="element");var f=_DOMImageElement.style;f.top="0px";f.left="0px";f.position="absolute";f.zIndex=100;_DOMElement.appendChild(_DOMImageElement);n=
YES}e=objj_msgSend(d,"bounds").size;d={origin:{x:0,y:0},size:{width:e.width,height:e.height}};if(n){if(!f)f=_DOMImageElement.style;if(_flags&2)_DOMImageElement.src=objj_msgSend(_image,"filename");n=e.width/2;var h=e.height/2,k=objj_msgSend(_image,"size"),s=k.width;k=k.height;if(_imageScaling===CPScaleToFit)s=e.width,k=e.height;else if(_imageScaling===CPScaleProportionally){var j=MIN(MIN(e.width,s)/s,MIN(e.height,k)/k);s*=j;k*=j}CPFeatureIsCompatible(CPOpacityRequiresFilterFeature)?f.filter="alpha(opacity="+
_shouldDimImage?35:"100)":f.opacity=_shouldDimImage?0.35:1;_DOMImageElement.width=s;_DOMImageElement.height=k;f.width=MAX(s,0)+"px";f.height=MAX(k,0)+"px";if(_imagePosition===CPImageBelow)f.left=FLOOR(n-s/2)+"px",f.top=FLOOR(e.height-k)+"px",d.size.height=e.height-k-_imageOffset;else if(_imagePosition===CPImageAbove)f.left=FLOOR(n-s/2)+"px",f.top="0px",d.origin.y+=k+_imageOffset,d.size.height=e.height-k-_imageOffset;else if(_imagePosition===CPImageLeft)f.top=FLOOR(h-k/2)+"px",f.left="0px",d.origin.x=
s+_imageOffset,d.size.width-=s+_imageOffset;else if(_imagePosition===CPImageRight)f.top=FLOOR(h-k/2)+"px",f.left=FLOOR(e.width-s)+"px",d.size.width-=s+_imageOffset;else if(_imagePosition===CPImageOnly||_imagePosition==CPImageOverlaps)f.top=FLOOR(h-k/2)+"px",f.left=FLOOR(n-s/2)+"px"}if(c){c=d.origin.x;f=d.origin.y;e=d.size.width;d=d.size.height;if(_verticalAlignment!==CPTopVerticalTextAlignment)_textSize||(_textSize=_lineBreakMode===CPLineBreakByCharWrapping||_lineBreakMode===CPLineBreakByWordWrapping?
objj_msgSend(_text,"sizeWithFont:inWidth:",_font,e):objj_msgSend(_text,"sizeWithFont:",_font)),_verticalAlignment===CPCenterVerticalTextAlignment?f+=(d-_textSize.height)/2:f=f+d-_textSize.height,d=_textSize.height;a.top=ROUND(f)+"px";a.left=ROUND(c)+"px";a.width=MAX(ROUND(e),0)+"px";a.height=MAX(ROUND(d),0)+"px";if(b){if(_flags&256)b.color=objj_msgSend(_textShadowColor,"cssString");b.top=ROUND(f+_textShadowOffset.height)+"px";b.left=ROUND(c+_textShadowOffset.width)+"px";b.width=MAX(ROUND(e),0)+"px";
b.height=MAX(ROUND(d),0)+"px"}}_flags=0}}),new objj_method(sel_getUid("sizeToFit"),function(d){with(d){var a=CGSizeMakeZero();if(_imagePosition!==CPNoImage&&_image){var c=objj_msgSend(_image,"size");a.width+=c.width;a.height+=c.height}if(_imagePosition!==CPImageOnly&&objj_msgSend(_text,"length")>0)if(_textSize||(_textSize=objj_msgSend(_text,"sizeWithFont:",_font?_font:objj_msgSend(CPFont,"systemFontOfSize:",12))),!_image||_imagePosition===CPImageOverlaps)a.width=MAX(a.width,_textSize.width),a.height=
MAX(a.height,_textSize.height);else if(_imagePosition===CPImageLeft||_imagePosition===CPImageRight)a.width+=_textSize.width+_imageOffset,a.height=MAX(a.height,_textSize.height);else if(_imagePosition===CPImageAbove||_imagePosition===CPImageBelow)a.width=MAX(a.width,_textSize.width),a.height+=_textSize.height+_imageOffset;objj_msgSend(d,"setFrameSize:",a)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPIndexSet.j",baseURL),function(j,h){h("CPArray.j",YES);h("CPObject.j",YES);h("CPRange.j",YES);var f=objj_allocateClassPair(CPObject,"CPIndexSet"),d=f.isa;class_addIvars(f,[new objj_ivar("_count"),new objj_ivar("_ranges")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,"initWithIndexesInRange:",{location:0,length:0})}),new objj_method(sel_getUid("initWithIndex:"),
function(a,c,g){with(a)return objj_msgSend(a,"initWithIndexesInRange:",{location:g,length:1})}),new objj_method(sel_getUid("initWithIndexesInRange:"),function(a,c,g){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPIndexSet").super_class},"init"))_count=MAX(0,g.length),_ranges=_count>0?[g]:[];return a}}),new objj_method(sel_getUid("initWithIndexSet:"),function(a,c,g){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPIndexSet").super_class},"init")){_count=
objj_msgSend(g,"count");_ranges=[];c=g._ranges;for(g=c.length;g--;)_ranges[g]={location:c[g].location,length:c[g].length}}return a}}),new objj_method(sel_getUid("isEqual:"),function(a,c,g){with(a){if(a===g)return YES;if(!g||!objj_msgSend(g,"isKindOfClass:",objj_msgSend(CPIndexSet,"class")))return NO;return objj_msgSend(a,"isEqualToIndexSet:",g)}}),new objj_method(sel_getUid("isEqualToIndexSet:"),function(a,c,g){with(a){if(!g)return NO;if(a===g)return YES;a=_ranges.length;c=g._ranges;if(a!==c.length||
_count!==g._count)return NO;for(;a--;)if(!CPEqualRanges(_ranges[a],c[a]))return NO;return YES}}),new objj_method(sel_getUid("isEqual:"),function(a,c,g){with(a)return a===g||objj_msgSend(g,"isKindOfClass:",objj_msgSend(a,"class"))&&objj_msgSend(a,"isEqualToIndexSet:",g)}),new objj_method(sel_getUid("containsIndex:"),function(b,c,g){with(b)return a(_ranges,g)!==CPNotFound}),new objj_method(sel_getUid("containsIndexesInRange:"),function(b,c,g){with(b){if(g.length<=0)return NO;if(_count<g.length)return NO;
b=a(_ranges,g.location);if(b===CPNotFound)return NO;return CPIntersectionRange(_ranges[b],g).length===g.length}}),new objj_method(sel_getUid("containsIndexes:"),function(a,c,g){with(a){c=g._count;if(c<=0)return YES;if(_count<c)return NO;g=g._ranges;for(c=g.length;c--;)if(!objj_msgSend(a,"containsIndexesInRange:",g[c]))return NO;return YES}}),new objj_method(sel_getUid("intersectsIndexesInRange:"),function(a,e,g){with(a){if(_count<=0)return NO;a=c(_ranges,g.location);if(FLOOR(a)===a)return YES;g=c(_ranges,
g.location+g.length-1);if(FLOOR(g)===g)return YES;return a!==g}}),new objj_method(sel_getUid("count"),function(a){with(a)return _count}),new objj_method(sel_getUid("firstIndex"),function(a){with(a){if(_count>0)return _ranges[0].location;return CPNotFound}}),new objj_method(sel_getUid("lastIndex"),function(a){with(a){if(_count>0)return _ranges[_ranges.length-1].location+_ranges[_ranges.length-1].length-1;return CPNotFound}}),new objj_method(sel_getUid("indexGreaterThanIndex:"),function(a,e,g){with(a){++g;
a=c(_ranges,g);if(a===CPNotFound)return CPNotFound;a=CEIL(a);if(a>=_ranges.length)return CPNotFound;a=_ranges[a];if(CPLocationInRange(g,a))return g;return a.location}}),new objj_method(sel_getUid("indexLessThanIndex:"),function(a,e,g){with(a){--g;a=c(_ranges,g);if(a===CPNotFound)return CPNotFound;a=FLOOR(a);if(a<0)return CPNotFound;a=_ranges[a];if(CPLocationInRange(g,a))return g;return a.location+a.length-1}}),new objj_method(sel_getUid("indexGreaterThanOrEqualToIndex:"),function(a,c,g){with(a)return objj_msgSend(a,
"indexGreaterThanIndex:",g-1)}),new objj_method(sel_getUid("indexLessThanOrEqualToIndex:"),function(a,c,g){with(a)return objj_msgSend(a,"indexLessThanIndex:",g+1)}),new objj_method(sel_getUid("getIndexes:maxCount:inIndexRange:"),function(a,e,g,d,f){with(a){if(!_count||d===0||f&&!f.length){if(f)f.length=0;return 0}e=0;if(f){var h=f.location;a=f.location+f.length-1;var k=CEIL(c(_ranges,h)),s=FLOOR(c(_ranges,a))}else h=objj_msgSend(a,"firstIndex"),a=objj_msgSend(a,"lastIndex"),k=0,s=_ranges.length-1;
for(;k<=s;){var j=_ranges[k],p=MAX(h,j.location);for(j=MIN(a+1,j.location+j.length);p<j;++p)if(g[e++]=p,e===d){if(f)f.location=p+1,f.length=a+1-p-1;return d}++k}if(f)f.location=CPNotFound,f.length=0;return e}}),new objj_method(sel_getUid("description"),function(a){with(a){a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPIndexSet").super_class},"description");if(_count){var c=0,g=_ranges.length;a+="[number of indexes: "+_count+" (in "+g;for(a+=g===1?" range), indexes: (":" ranges), indexes: (";c<
g;++c){var d=_ranges[c];a+=d.location;d.length>1&&(a+="-"+(CPMaxRange(d)-1));c+1<g&&(a+=" ")}a+=")]"}else a+="(no indexes)";return a}})]);class_addMethods(d,[new objj_method(sel_getUid("indexSet"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"init")}),new objj_method(sel_getUid("indexSetWithIndex:"),function(a,c,g){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithIndex:",g)}),new objj_method(sel_getUid("indexSetWithIndexesInRange:"),function(a,c,g){with(a)return objj_msgSend(objj_msgSend(a,
"alloc"),"initWithIndexesInRange:",g)})]);f=objj_getClass("CPIndexSet");if(!f)throw new SyntaxError('*** Could not find definition for class "CPIndexSet"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("addIndex:"),function(a,c,g){with(a)objj_msgSend(a,"addIndexesInRange:",{location:g,length:1})}),new objj_method(sel_getUid("addIndexes:"),function(a,c,g){with(a){c=g._ranges;for(g=c.length;g--;)objj_msgSend(a,"addIndexesInRange:",c[g])}}),new objj_method(sel_getUid("addIndexesInRange:"),function(a,
e,g){with(a){if(g.length<=0)return;if(_count<=0){_count=g.length;_ranges=[g];return}e=_ranges.length;var d=c(_ranges,g.location-1);a=CEIL(d);a===d&&a<e&&(g=CPUnionRange(g,_ranges[a]));e=c(_ranges,CPMaxRange(g));d=FLOOR(e);d===e&&d>=0&&(g=CPUnionRange(g,_ranges[d]));e=d-a+1;if(e===_ranges.length)_ranges=[g],_count=g.length;else if(e===1)a<_ranges.length&&(_count-=_ranges[a].length),_count+=g.length,_ranges[a]=g;else{if(e>0){d=a;for(var f=a+e-1;d<=f;++d)_count-=_ranges[d].length;objj_msgSend(_ranges,
"removeObjectsInRange:",{location:a,length:e})}objj_msgSend(_ranges,"insertObject:atIndex:",g,a);_count+=g.length}}}),new objj_method(sel_getUid("removeIndex:"),function(a,c,g){with(a)objj_msgSend(a,"removeIndexesInRange:",{location:g,length:1})}),new objj_method(sel_getUid("removeIndexes:"),function(a,c,g){with(a){c=g._ranges;for(g=c.length;g--;)objj_msgSend(a,"removeIndexesInRange:",c[g])}}),new objj_method(sel_getUid("removeAllIndexes"),function(a){with(a)_ranges=[],_count=0}),new objj_method(sel_getUid("removeIndexesInRange:"),
function(a,e,g){with(a){if(g.length<=0)return;if(_count<=0)return;e=_ranges.length;var d=c(_ranges,g.location);a=CEIL(d);if(d===a&&a<e&&(d=_ranges[a],g.location!==d.location)){var f=CPMaxRange(g),h=CPMaxRange(d);d.length=g.location-d.location;if(f<h){_count-=g.length;objj_msgSend(_ranges,"insertObject:atIndex:",{location:f,length:h-f},a+1);return}else _count-=h-g.location,a+=1}d=c(_ranges,CPMaxRange(g)-1);e=FLOOR(d);if(d===e&&e>=0&&(f=CPMaxRange(g),d=_ranges[e],h=CPMaxRange(d),f!==h))_count-=f-d.location,
e-=1,d.location=f,d.length=h-f;g=e-a+1;if(g>0){e=a;for(d=a+g-1;e<=d;++e)_count-=_ranges[e].length;objj_msgSend(_ranges,"removeObjectsInRange:",{location:a,length:g})}}}),new objj_method(sel_getUid("shiftIndexesStartingAtIndex:by:"),function(a,c,d,f){with(a){if(!_count||f==0)return;c=_ranges.length-1;for(var h=CPMakeRange(CPNotFound,0);c>=0;--c){var i=_ranges[c],k=CPMaxRange(i);if(d>=k)break;if(d>i.location){h=CPMakeRange(d+f,k-d);i.length=d-i.location;if(f>0)objj_msgSend(_ranges,"insertObject:atIndex:",
h,c+1);else if(h.location<0)h.length=CPMaxRange(h),h.location=0;break}if((i.location+=f)<0)_count-=i.length-CPMaxRange(i),i.length=CPMaxRange(i),i.location=0}if(f<0){d=c+1;f=_ranges.length;for(i=[];d<f;++d)objj_msgSend(i,"addObject:",_ranges[d]),_count-=_ranges[d].length;if((d=c+1)<f){objj_msgSend(_ranges,"removeObjectsInRange:",CPMakeRange(d,f-d));d=0;for(f=i.length;d<f;++d)objj_msgSend(a,"addIndexesInRange:",i[d])}h.location!=CPNotFound&&objj_msgSend(a,"addIndexesInRange:",h)}}})]);f=objj_getClass("CPIndexSet");
if(!f)throw new SyntaxError('*** Could not find definition for class "CPIndexSet"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(a,c,d){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPIndexSet").super_class},"init")){_count=objj_msgSend(d,"decodeIntForKey:","CPIndexSetCountKey");_ranges=[];c=objj_msgSend(d,"decodeObjectForKey:","CPIndexSetRangeStringsKey");d=0;for(var f=c.length;d<f;++d)_ranges.push(CPRangeFromString(c[d]))}return a}}),
new objj_method(sel_getUid("encodeWithCoder:"),function(a,c,d){with(a){objj_msgSend(d,"encodeInt:forKey:",_count,"CPIndexSetCountKey");a=0;c=_ranges.length;for(var f=[];a<c;++a)f[a]=CPStringFromRange(_ranges[a]);objj_msgSend(d,"encodeObject:forKey:",f,"CPIndexSetRangeStringsKey")}})]);f=objj_getClass("CPIndexSet");if(!f)throw new SyntaxError('*** Could not find definition for class "CPIndexSet"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("copy"),function(a){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,
"class"),"alloc"),"initWithIndexSet:",a)}),new objj_method(sel_getUid("mutableCopy"),function(a){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,"class"),"alloc"),"initWithIndexSet:",a)})]);f=objj_allocateClassPair(CPIndexSet,"CPMutableIndexSet");d=f.isa;objj_registerClassPair(f);var a=function(a,c){for(var d=0,f=a.length-1;d<=f;){var h=FLOOR(d+(f-d)/2),i=a[h];if(c<i.location)f=h-1;else if(c>=CPMaxRange(i))d=h+1;else return h}return CPNotFound},c=function(a,c){var d=a.length;if(d<=0)return CPNotFound;
for(var f=0,h=d*2;f<=h;){var i=FLOOR(f+(h-f)/2),k=i/2,j=FLOOR(k);if(k===j)if(j-1>=0&&c<CPMaxRange(a[j-1]))h=i-1;else if(j<d&&c>=a[j].location)f=i+1;else return j-0.5;else if(k=a[j],c<k.location)h=i-1;else if(c>=CPMaxRange(k))f=i+1;else return j}return CPNotFound}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPArray+KVO.j",baseURL),function(j,h){h("CPArray.j",YES);h("CPNull.j",YES);var f=objj_getClass("CPObject");if(!f)throw new SyntaxError('*** Could not find definition for class "CPObject"');var d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("mutableArrayValueForKey:"),function(a,b,e){with(a)return objj_msgSend(objj_msgSend(_CPKVCArray,"alloc"),"initWithKey:forProxyObject:",e,a)}),new objj_method(sel_getUid("mutableArrayValueForKeyPath:"),
function(a,b,e){with(a){var d=e.indexOf(".");if(d<0)return objj_msgSend(a,"mutableArrayValueForKey:",e);b=e.substring(0,d);e=e.substring(d+1);return objj_msgSend(objj_msgSend(a,"valueForKeyPath:",b),"mutableArrayValueForKeyPath:",e)}})]);f=objj_allocateClassPair(CPMutableArray,"_CPKVCArray");d=f.isa;class_addIvars(f,[new objj_ivar("_proxyObject"),new objj_ivar("_key"),new objj_ivar("_insertSEL"),new objj_ivar("_insert"),new objj_ivar("_removeSEL"),new objj_ivar("_remove"),new objj_ivar("_replaceSEL"),
new objj_ivar("_replace"),new objj_ivar("_insertManySEL"),new objj_ivar("_insertMany"),new objj_ivar("_removeManySEL"),new objj_ivar("_removeMany"),new objj_ivar("_replaceManySEL"),new objj_ivar("_replaceMany"),new objj_ivar("_objectAtIndexSEL"),new objj_ivar("_objectAtIndex"),new objj_ivar("_objectsAtIndexesSEL"),new objj_ivar("_objectsAtIndexes"),new objj_ivar("_countSEL"),new objj_ivar("_count"),new objj_ivar("_accessSEL"),new objj_ivar("_access"),new objj_ivar("_setSEL"),new objj_ivar("_set")]);
objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithKey:forProxyObject:"),function(a,b,e,d){with(a)return a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPKVCArray").super_class},"init"),_key=e,_proxyObject=d,b=_key.charAt(0).toUpperCase()+_key.substring(1),_insertSEL=sel_getName("insertObject:in"+b+"AtIndex:"),objj_msgSend(_proxyObject,"respondsToSelector:",_insertSEL)&&(_insert=objj_msgSend(_proxyObject,"methodForSelector:",_insertSEL)),_removeSEL=sel_getName("removeObjectFrom"+
b+"AtIndex:"),objj_msgSend(_proxyObject,"respondsToSelector:",_removeSEL)&&(_remove=objj_msgSend(_proxyObject,"methodForSelector:",_removeSEL)),_replaceSEL=sel_getName("replaceObjectIn"+b+"AtIndex:withObject:"),objj_msgSend(_proxyObject,"respondsToSelector:",_replaceSEL)&&(_replace=objj_msgSend(_proxyObject,"methodForSelector:",_replaceSEL)),_insertManySEL=sel_getName("insert"+b+":atIndexes:"),objj_msgSend(_proxyObject,"respondsToSelector:",_insertManySEL)&&(_insertMany=objj_msgSend(_proxyObject,
"methodForSelector:",_insertManySEL)),_removeManySEL=sel_getName("remove"+b+"AtIndexes:"),objj_msgSend(_proxyObject,"respondsToSelector:",_removeManySEL)&&(_remove=objj_msgSend(_proxyObject,"methodForSelector:",_removeManySEL)),_replaceManySEL=sel_getName("replace"+b+"AtIndexes:with"+b+":"),objj_msgSend(_proxyObject,"respondsToSelector:",_replaceManySEL)&&(_replace=objj_msgSend(_proxyObject,"methodForSelector:",_replaceManySEL)),_objectAtIndexSEL=sel_getName("objectIn"+b+"AtIndex:"),objj_msgSend(_proxyObject,
"respondsToSelector:",_objectAtIndexSEL)&&(_objectAtIndex=objj_msgSend(_proxyObject,"methodForSelector:",_objectAtIndexSEL)),_objectsAtIndexesSEL=sel_getName(_key+"AtIndexes:"),objj_msgSend(_proxyObject,"respondsToSelector:",_objectsAtIndexesSEL)&&(_objectsAtIndexes=objj_msgSend(_proxyObject,"methodForSelector:",_objectsAtIndexesSEL)),_countSEL=sel_getName("countOf"+b),objj_msgSend(_proxyObject,"respondsToSelector:",_countSEL)&&(_count=objj_msgSend(_proxyObject,"methodForSelector:",_countSEL)),_accessSEL=
sel_getName(_key),objj_msgSend(_proxyObject,"respondsToSelector:",_accessSEL)&&(_access=objj_msgSend(_proxyObject,"methodForSelector:",_accessSEL)),_setSEL=sel_getName("set"+b+":"),objj_msgSend(_proxyObject,"respondsToSelector:",_setSEL)&&(_set=objj_msgSend(_proxyObject,"methodForSelector:",_setSEL)),a}),new objj_method(sel_getUid("copy"),function(a){with(a){for(var b=0,e=[],d=objj_msgSend(a,"count");b<d;b++)objj_msgSend(e,"addObject:",objj_msgSend(a,"objectAtIndex:",b));return e}}),new objj_method(sel_getUid("_representedObject"),
function(a){with(a){if(_access)return _access(_proxyObject,_accessSEL);return objj_msgSend(_proxyObject,"valueForKey:",_key)}}),new objj_method(sel_getUid("_setRepresentedObject:"),function(a,b,e){with(a){if(_set)return _set(_proxyObject,_setSEL,e);objj_msgSend(_proxyObject,"setValue:forKey:",e,_key)}}),new objj_method(sel_getUid("count"),function(a){with(a){if(_count)return _count(_proxyObject,_countSEL);return objj_msgSend(objj_msgSend(a,"_representedObject"),"count")}}),new objj_method(sel_getUid("indexOfObject:inRange:"),
function(a,b,e,d){with(a){b=d.location;d=d.length;for(var f=!!e.isa;b<d;++b){var h=objj_msgSend(a,"objectAtIndex:",b);if(e===h||f&&h.isa&&objj_msgSend(e,"isEqual:",h))return b}return CPNotFound}}),new objj_method(sel_getUid("indexOfObject:"),function(a,b,e){with(a)return objj_msgSend(a,"indexOfObject:inRange:",e,CPMakeRange(0,objj_msgSend(a,"count")))}),new objj_method(sel_getUid("indexOfObjectIdenticalTo:inRange:"),function(a,b,e,d){with(a){b=d.location;for(d=d.length;b<d;++b)if(e===objj_msgSend(a,
"objectAtIndex:",b))return b;return CPNotFound}}),new objj_method(sel_getUid("indexOfObjectIdenticalTo:"),function(a,b,e){with(a)return objj_msgSend(a,"indexOfObjectIdenticalTo:inRange:",e,CPMakeRange(0,objj_msgSend(a,"count")))}),new objj_method(sel_getUid("objectAtIndex:"),function(a,b,e){with(a){if(_objectAtIndex)return _objectAtIndex(_proxyObject,_objectAtIndexSEL,e);return objj_msgSend(objj_msgSend(a,"_representedObject"),"objectAtIndex:",e)}}),new objj_method(sel_getUid("addObject:"),function(a,
b,e){with(a)objj_msgSend(a,"insertObject:atIndex:",e,objj_msgSend(a,"count"))}),new objj_method(sel_getUid("addObjectsFromArray:"),function(a,b,e){with(a)b=objj_msgSend(e,"count"),objj_msgSend(a,"insertObjects:atIndexes:",e,objj_msgSend(CPIndexSet,"indexSetWithIndexesInRange:",CPMakeRange(objj_msgSend(a,"count"),b)))}),new objj_method(sel_getUid("insertObject:atIndex:"),function(a,b,e,d){with(a)objj_msgSend(a,"insertObjects:atIndexes:",[e],objj_msgSend(CPIndexSet,"indexSetWithIndex:",d))}),new objj_method(sel_getUid("insertObjects:atIndexes:"),
function(a,b,e,d){with(a)if(_insertMany)_insertMany(_proxyObject,_insertManySEL,e,d);else if(_insert){a=[];objj_msgSend(d,"getIndexes:maxCount:inIndexRange:",a,-1,nil);for(d=0;d<objj_msgSend(a,"count");d++){b=objj_msgSend(a,"objectAtIndex:",d);var f=objj_msgSend(e,"objectAtIndex:",d);_insert(_proxyObject,_insertSEL,f,b)}}else b=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),objj_msgSend(b,"insertObjects:atIndexes:",e,d),objj_msgSend(a,"_setRepresentedObject:",b)}),new objj_method(sel_getUid("removeObject:"),
function(a,b,e){with(a)objj_msgSend(a,"removeObject:inRange:",e,CPMakeRange(0,objj_msgSend(a,"count")))}),new objj_method(sel_getUid("removeLastObject"),function(a){with(a){if(_remove)return _remove(_proxyObject,_removeSEL,objj_msgSend(a,"count")-1);var b=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy");objj_msgSend(b,"removeLastObject");objj_msgSend(a,"_setRepresentedObject:",b)}}),new objj_method(sel_getUid("removeObjectAtIndex:"),function(a,b,e){with(a){if(_remove)return _remove(_proxyObject,
_removeSEL,e);b=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy");objj_msgSend(b,"removeObjectAtIndex:",e);objj_msgSend(a,"_setRepresentedObject:",b)}}),new objj_method(sel_getUid("replaceObjectAtIndex:withObject:"),function(a,b,e,d){with(a){if(_replace)return _replace(_proxyObject,_replaceSEL,e,d);b=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy");objj_msgSend(b,"replaceObjectAtIndex:withObject:",e,d);objj_msgSend(a,"_setRepresentedObject:",b)}})]);class_addMethods(d,[new objj_method(sel_getUid("alloc"),
function(a){with(a){var b=[];b.isa=a;a=class_copyIvarList(a);for(var e=a.length;e--;)b[ivar_getName(a[e])]=nil;return b}})]);f=objj_getClass("CPArray");if(!f)throw new SyntaxError('*** Could not find definition for class "CPArray"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("valueForKey:"),function(a,b,e){with(a)if(e.indexOf("@")===0){e.indexOf(".")!==-1&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"called valueForKey: on an array with a complex key ("+e+"). use valueForKeyPath:");
if(e=="@count")return length;return nil}else{b=[];a=objj_msgSend(a,"objectEnumerator");for(var d;(d=objj_msgSend(a,"nextObject"))!==nil;){d=objj_msgSend(d,"valueForKey:",e);if(d===nil||d===void 0)d=objj_msgSend(CPNull,"null");b.push(d)}return b}}),new objj_method(sel_getUid("valueForKeyPath:"),function(c,b,e){with(c)if(e.indexOf("@")===0){var d=e.indexOf("."),f,h;d!==-1?(f=e.substring(1,d),h=e.substring(d+1)):f=e.substring(1);if(a[f])return a[f](c,b,h);return nil}else{b=[];for(c=objj_msgSend(c,"objectEnumerator");(d=
objj_msgSend(c,"nextObject"))!==nil;){d=objj_msgSend(d,"valueForKeyPath:",e);if(d===nil||d===void 0)d=objj_msgSend(CPNull,"null");b.push(d)}return b}}),new objj_method(sel_getUid("setValue:forKey:"),function(a,b,e,d){with(a)for(a=objj_msgSend(a,"objectEnumerator");b=objj_msgSend(a,"nextObject");)objj_msgSend(b,"setValue:forKey:",e,d)}),new objj_method(sel_getUid("setValue:forKeyPath:"),function(a,b,e,d){with(a)for(a=objj_msgSend(a,"objectEnumerator");b=objj_msgSend(a,"nextObject");)objj_msgSend(b,
"setValue:forKeyPath:",e,d)})]);var a=[];a.avg=function(a,b,e){a=objj_msgSend(a,"valueForKeyPath:",e);e=b=objj_msgSend(a,"count");var d=0;if(!b)return 0;for(;e--;)d+=objj_msgSend(a[e],"doubleValue");return d/b};a.max=function(a,b,e){a=objj_msgSend(a,"valueForKeyPath:",e);b=objj_msgSend(a,"count")-1;for(e=objj_msgSend(a,"lastObject");b--;){var d=a[b];objj_msgSend(e,"compare:",d)<0&&(e=d)}return e};a.min=function(a,b,e){a=objj_msgSend(a,"valueForKeyPath:",e);b=objj_msgSend(a,"count")-1;for(e=objj_msgSend(a,
"lastObject");b--;){var d=a[b];objj_msgSend(e,"compare:",d)>0&&(e=d)}return e};a.count=function(a){return objj_msgSend(a,"count")};a.sum=function(a,b,e){a=objj_msgSend(a,"valueForKeyPath:",e);b=objj_msgSend(a,"count");for(e=0;b--;)e+=objj_msgSend(a[b],"doubleValue");return e};f=objj_getClass("CPArray");if(!f)throw new SyntaxError('*** Could not find definition for class "CPArray"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("addObserver:toObjectsAtIndexes:forKeyPath:options:context:"),
function(a,b,e,d,f,h,i){with(a)for(b=objj_msgSend(d,"firstIndex");b>=0;)objj_msgSend(a[b],"addObserver:forKeyPath:options:context:",e,f,h,i),b=objj_msgSend(d,"indexGreaterThanIndex:",b)}),new objj_method(sel_getUid("removeObserver:fromObjectsAtIndexes:forKeyPath:"),function(a,b,e,d,f){with(a)for(b=objj_msgSend(d,"firstIndex");b>=0;)objj_msgSend(a[b],"removeObserver:forKeyPath:",e,f),b=objj_msgSend(d,"indexGreaterThanIndex:",b)}),new objj_method(sel_getUid("addObserver:forKeyPath:options:context:"),
function(a,b,e,d,f,h){with(a)objj_msgSend(isa,"instanceMethodForSelector:",b)===objj_msgSend(CPArray,"instanceMethodForSelector:",b)?objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Unsupported method on CPArray"):objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPArray").super_class},"addObserver:forKeyPath:options:context:",e,d,f,h)}),new objj_method(sel_getUid("removeObserver:forKeyPath:"),function(a,b,e,d){with(a)objj_msgSend(isa,"instanceMethodForSelector:",b)===objj_msgSend(CPArray,
"instanceMethodForSelector:",b)?objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Unsupported method on CPArray"):objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPArray").super_class},"removeObserver:forKeyPath:",e,d)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPSliderColorPicker.j",baseURL),function(j,h){h("CPView.j",YES);h("CPColorPicker.j",YES);var f=objj_allocateClassPair(CPColorPicker,"CPSliderColorPicker");class_addIvars(f,[new objj_ivar("_contentView"),new objj_ivar("_redSlider"),new objj_ivar("_greenSlider"),new objj_ivar("_blueSlider"),new objj_ivar("_hueSlider"),new objj_ivar("_saturationSlider"),new objj_ivar("_brightnessSlider"),new objj_ivar("_rgbLabel"),new objj_ivar("_hsbLabel"),
new objj_ivar("_redLabel"),new objj_ivar("_greenLabel"),new objj_ivar("_blueLabel"),new objj_ivar("_hueLabel"),new objj_ivar("_saturationLabel"),new objj_ivar("_brightnessLabel"),new objj_ivar("_hexLabel"),new objj_ivar("_hexValue"),new objj_ivar("_hexValue"),new objj_ivar("_redValue"),new objj_ivar("_greenValue"),new objj_ivar("_blueValue"),new objj_ivar("_hueValue"),new objj_ivar("_saturationValue"),new objj_ivar("_brightnessValue")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithPickerMask:colorPanel:"),
function(d,a,c,b){with(d)return objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPSliderColorPicker").super_class},"initWithPickerMask:colorPanel:",c,b)}),new objj_method(sel_getUid("initView"),function(d){with(d)aFrame=CGRectMake(0,0,CPColorPickerViewWidth,CPColorPickerViewHeight),_contentView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",aFrame),objj_msgSend(_contentView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),_rgbLabel=objj_msgSend(objj_msgSend(CPTextField,
"alloc"),"initWithFrame:",CGRectMake(0,10,100,20)),objj_msgSend(_rgbLabel,"setStringValue:","Red, Green, Blue"),objj_msgSend(_rgbLabel,"setTextColor:",objj_msgSend(CPColor,"blackColor")),_redLabel=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(0,37,15,20)),objj_msgSend(_redLabel,"setStringValue:","R"),objj_msgSend(_redLabel,"setTextColor:",objj_msgSend(CPColor,"blackColor")),_redSlider=objj_msgSend(objj_msgSend(CPSlider,"alloc"),"initWithFrame:",CGRectMake(15,35,aFrame.size.width-
70,20)),objj_msgSend(_redSlider,"setMaxValue:",1),objj_msgSend(_redSlider,"setMinValue:",0),objj_msgSend(_redSlider,"setTarget:",d),objj_msgSend(_redSlider,"setAction:",sel_getUid("sliderChanged:")),objj_msgSend(_redSlider,"setAutoresizingMask:",CPViewWidthSizable),_redValue=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(aFrame.size.width-45,30,45,28)),objj_msgSend(_redValue,"setAutoresizingMask:",CPViewMinXMargin),objj_msgSend(_redValue,"setEditable:",YES),objj_msgSend(_redValue,
"setBezeled:",YES),objj_msgSend(_redValue,"setDelegate:",d),objj_msgSend(_contentView,"addSubview:",_redValue),_greenLabel=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(0,63,15,20)),objj_msgSend(_greenLabel,"setStringValue:","G"),objj_msgSend(_greenLabel,"setTextColor:",objj_msgSend(CPColor,"blackColor")),_greenSlider=objj_msgSend(objj_msgSend(CPSlider,"alloc"),"initWithFrame:",CGRectMake(15,61,aFrame.size.width-70,20)),objj_msgSend(_greenSlider,"setMaxValue:",1),objj_msgSend(_greenSlider,
"setMinValue:",0),objj_msgSend(_greenSlider,"setTarget:",d),objj_msgSend(_greenSlider,"setAction:",sel_getUid("sliderChanged:")),objj_msgSend(_greenSlider,"setAutoresizingMask:",CPViewWidthSizable),_greenValue=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(aFrame.size.width-45,56,45,28)),objj_msgSend(_greenValue,"setAutoresizingMask:",CPViewMinXMargin),objj_msgSend(_greenValue,"setEditable:",YES),objj_msgSend(_greenValue,"setBezeled:",YES),objj_msgSend(_greenValue,"setDelegate:",
d),objj_msgSend(_contentView,"addSubview:",_greenValue),_blueLabel=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(0,90,15,20)),objj_msgSend(_blueLabel,"setStringValue:","B"),objj_msgSend(_blueLabel,"setTextColor:",objj_msgSend(CPColor,"blackColor")),_blueSlider=objj_msgSend(objj_msgSend(CPSlider,"alloc"),"initWithFrame:",CGRectMake(15,87,aFrame.size.width-70,20)),objj_msgSend(_blueSlider,"setMaxValue:",1),objj_msgSend(_blueSlider,"setMinValue:",0),objj_msgSend(_blueSlider,
"setTarget:",d),objj_msgSend(_blueSlider,"setAction:",sel_getUid("sliderChanged:")),objj_msgSend(_blueSlider,"setAutoresizingMask:",CPViewWidthSizable),_blueValue=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(aFrame.size.width-45,82,45,28)),objj_msgSend(_blueValue,"setAutoresizingMask:",CPViewMinXMargin),objj_msgSend(_blueValue,"setEditable:",YES),objj_msgSend(_blueValue,"setBezeled:",YES),objj_msgSend(_blueValue,"setDelegate:",d),objj_msgSend(_contentView,"addSubview:",
_blueValue),_hsbLabel=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(0,120,190,20)),objj_msgSend(_hsbLabel,"setStringValue:","Hue, Saturation, Brightness"),objj_msgSend(_hsbLabel,"setTextColor:",objj_msgSend(CPColor,"blackColor")),_hueLabel=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(0,145,15,20)),objj_msgSend(_hueLabel,"setStringValue:","H"),objj_msgSend(_hueLabel,"setTextColor:",objj_msgSend(CPColor,"blackColor")),_hueSlider=objj_msgSend(objj_msgSend(CPSlider,
"alloc"),"initWithFrame:",CGRectMake(15,143,aFrame.size.width-70,20)),objj_msgSend(_hueSlider,"setMaxValue:",359),objj_msgSend(_hueSlider,"setMinValue:",0),objj_msgSend(_hueSlider,"setTarget:",d),objj_msgSend(_hueSlider,"setAction:",sel_getUid("sliderChanged:")),objj_msgSend(_hueSlider,"setAutoresizingMask:",CPViewWidthSizable),_hueValue=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(aFrame.size.width-45,138,45,28)),objj_msgSend(_hueValue,"setAutoresizingMask:",CPViewMinXMargin),
objj_msgSend(_hueValue,"setEditable:",YES),objj_msgSend(_hueValue,"setBezeled:",YES),objj_msgSend(_hueValue,"setDelegate:",d),objj_msgSend(_contentView,"addSubview:",_hueValue),_saturationLabel=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(0,170,15,20)),objj_msgSend(_saturationLabel,"setStringValue:","S"),objj_msgSend(_saturationLabel,"setTextColor:",objj_msgSend(CPColor,"blackColor")),_saturationSlider=objj_msgSend(objj_msgSend(CPSlider,"alloc"),"initWithFrame:",CGRectMake(15,
168,aFrame.size.width-70,20)),objj_msgSend(_saturationSlider,"setMaxValue:",100),objj_msgSend(_saturationSlider,"setMinValue:",0),objj_msgSend(_saturationSlider,"setTarget:",d),objj_msgSend(_saturationSlider,"setAction:",sel_getUid("sliderChanged:")),objj_msgSend(_saturationSlider,"setAutoresizingMask:",CPViewWidthSizable),_saturationValue=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(aFrame.size.width-45,164,45,28)),objj_msgSend(_saturationValue,"setAutoresizingMask:",
CPViewMinXMargin),objj_msgSend(_saturationValue,"setEditable:",YES),objj_msgSend(_saturationValue,"setBezeled:",YES),objj_msgSend(_saturationValue,"setDelegate:",d),objj_msgSend(_contentView,"addSubview:",_saturationValue),_brightnessLabel=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(0,196,15,20)),objj_msgSend(_brightnessLabel,"setStringValue:","B"),objj_msgSend(_brightnessLabel,"setTextColor:",objj_msgSend(CPColor,"blackColor")),_brightnessSlider=objj_msgSend(objj_msgSend(CPSlider,
"alloc"),"initWithFrame:",CGRectMake(15,194,aFrame.size.width-70,20)),objj_msgSend(_brightnessSlider,"setMaxValue:",100),objj_msgSend(_brightnessSlider,"setMinValue:",0),objj_msgSend(_brightnessSlider,"setTarget:",d),objj_msgSend(_brightnessSlider,"setAction:",sel_getUid("sliderChanged:")),objj_msgSend(_brightnessSlider,"setAutoresizingMask:",CPViewWidthSizable),_brightnessValue=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(aFrame.size.width-45,190,45,28)),objj_msgSend(_brightnessValue,
"setAutoresizingMask:",CPViewMinXMargin),objj_msgSend(_brightnessValue,"setEditable:",YES),objj_msgSend(_brightnessValue,"setBezeled:",YES),objj_msgSend(_brightnessValue,"setDelegate:",d),objj_msgSend(_contentView,"addSubview:",_brightnessValue),_hexLabel=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(0,230,30,20)),objj_msgSend(_hexLabel,"setStringValue:","Hex"),objj_msgSend(_hexLabel,"setTextColor:",objj_msgSend(CPColor,"blackColor")),_hexValue=objj_msgSend(objj_msgSend(CPTextField,
"alloc"),"initWithFrame:",CGRectMake(32,225,80,28)),objj_msgSend(_hexValue,"setEditable:",YES),objj_msgSend(_hexValue,"setBezeled:",YES),objj_msgSend(_hexValue,"setDelegate:",d),objj_msgSend(_contentView,"addSubview:",_hexValue),objj_msgSend(_contentView,"addSubview:",_rgbLabel),objj_msgSend(_contentView,"addSubview:",_redLabel),objj_msgSend(_contentView,"addSubview:",_greenLabel),objj_msgSend(_contentView,"addSubview:",_blueLabel),objj_msgSend(_contentView,"addSubview:",_redSlider),objj_msgSend(_contentView,
"addSubview:",_greenSlider),objj_msgSend(_contentView,"addSubview:",_blueSlider),objj_msgSend(_contentView,"addSubview:",_hsbLabel),objj_msgSend(_contentView,"addSubview:",_hueLabel),objj_msgSend(_contentView,"addSubview:",_saturationLabel),objj_msgSend(_contentView,"addSubview:",_brightnessLabel),objj_msgSend(_contentView,"addSubview:",_hueSlider),objj_msgSend(_contentView,"addSubview:",_saturationSlider),objj_msgSend(_contentView,"addSubview:",_brightnessSlider),objj_msgSend(_contentView,"addSubview:",
_hexLabel)}),new objj_method(sel_getUid("provideNewView:"),function(d,a,c){with(d)return c&&objj_msgSend(d,"initView"),_contentView}),new objj_method(sel_getUid("currentMode"),function(d){with(d)return CPSliderColorPickerMode}),new objj_method(sel_getUid("supportsMode:"),function(d,a,c){with(d)return c==CPSliderColorPickerMode?YES:NO}),new objj_method(sel_getUid("sliderChanged:"),function(d,a,c){with(d){var b;a=objj_msgSend(d,"colorPanel");var e=objj_msgSend(a,"opacity");switch(c){case _hueSlider:case _saturationSlider:case _brightnessSlider:b=
objj_msgSend(CPColor,"colorWithHue:saturation:brightness:alpha:",objj_msgSend(_hueSlider,"floatValue"),objj_msgSend(_saturationSlider,"floatValue"),objj_msgSend(_brightnessSlider,"floatValue"),e);objj_msgSend(d,"updateRGBSliders:",b);break;case _redSlider:case _greenSlider:case _blueSlider:b=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",objj_msgSend(_redSlider,"floatValue"),objj_msgSend(_greenSlider,"floatValue"),objj_msgSend(_blueSlider,"floatValue"),e),objj_msgSend(d,"updateHSBSliders:",
b)}objj_msgSend(d,"updateLabels");objj_msgSend(d,"updateHex:",b);objj_msgSend(a,"setColor:",b)}}),new objj_method(sel_getUid("setColor:"),function(d,a,c){with(d)objj_msgSend(d,"updateRGBSliders:",c),objj_msgSend(d,"updateHSBSliders:",c),objj_msgSend(d,"updateHex:",c),objj_msgSend(d,"updateLabels")}),new objj_method(sel_getUid("updateHSBSliders:"),function(d,a,c){with(d)d=objj_msgSend(c,"hsbComponents"),objj_msgSend(_hueSlider,"setFloatValue:",d[0]),objj_msgSend(_saturationSlider,"setFloatValue:",
d[1]),objj_msgSend(_brightnessSlider,"setFloatValue:",d[2])}),new objj_method(sel_getUid("updateHex:"),function(d,a,c){with(d)objj_msgSend(_hexValue,"setStringValue:",objj_msgSend(c,"hexString"))}),new objj_method(sel_getUid("updateRGBSliders:"),function(d,a,c){with(d)d=objj_msgSend(c,"components"),objj_msgSend(_redSlider,"setFloatValue:",d[0]),objj_msgSend(_greenSlider,"setFloatValue:",d[1]),objj_msgSend(_blueSlider,"setFloatValue:",d[2])}),new objj_method(sel_getUid("updateLabels"),function(d){with(d)objj_msgSend(_hueValue,
"setStringValue:",ROUND(objj_msgSend(_hueSlider,"floatValue"))),objj_msgSend(_saturationValue,"setStringValue:",ROUND(objj_msgSend(_saturationSlider,"floatValue"))),objj_msgSend(_brightnessValue,"setStringValue:",ROUND(objj_msgSend(_brightnessSlider,"floatValue"))),objj_msgSend(_redValue,"setStringValue:",ROUND(objj_msgSend(_redSlider,"floatValue")*255)),objj_msgSend(_greenValue,"setStringValue:",ROUND(objj_msgSend(_greenSlider,"floatValue")*255)),objj_msgSend(_blueValue,"setStringValue:",ROUND(objj_msgSend(_blueSlider,
"floatValue")*255))}),new objj_method(sel_getUid("provideNewButtonImage"),function(d){with(d)return objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",CPColorPicker),"pathForResource:","slider_button.png"),CGSizeMake(32,32))}),new objj_method(sel_getUid("provideNewAlternateButtonImage"),function(d){with(d)return objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",
CPColorPicker),"pathForResource:","slider_button_h.png"),CGSizeMake(32,32))}),new objj_method(sel_getUid("controlTextDidEndEditing:"),function(d,a,c){with(d)if(a=objj_msgSend(c,"object"),c=objj_msgSend(objj_msgSend(a,"stringValue"),"stringByTrimmingWhitespace"),a===_hexValue){if(a=objj_msgSend(CPColor,"colorWithHexString:",c))objj_msgSend(d,"setColor:",a),objj_msgSend(objj_msgSend(d,"colorPanel"),"setColor:",a)}else switch(a){case _redValue:objj_msgSend(_redSlider,"setFloatValue:",MAX(MIN(ROUND(c),
255)/255,0));objj_msgSend(d,"sliderChanged:",_redSlider);break;case _greenValue:objj_msgSend(_greenSlider,"setFloatValue:",MAX(MIN(ROUND(c),255)/255,0));objj_msgSend(d,"sliderChanged:",_greenSlider);break;case _blueValue:objj_msgSend(_blueSlider,"setFloatValue:",MAX(MIN(ROUND(c),255)/255,0));objj_msgSend(d,"sliderChanged:",_blueSlider);break;case _hueValue:objj_msgSend(_hueSlider,"setFloatValue:",MAX(MIN(ROUND(c),360),0));objj_msgSend(d,"sliderChanged:",_hueSlider);break;case _saturationValue:objj_msgSend(_saturationSlider,
"setFloatValue:",MAX(MIN(ROUND(c),100),0));objj_msgSend(d,"sliderChanged:",_saturationSlider);break;case _brightnessValue:objj_msgSend(_brightnessSlider,"setFloatValue:",MAX(MIN(ROUND(c),100),0)),objj_msgSend(d,"sliderChanged:",_brightnessSlider)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPEvent.j",baseURL),function(j,h){h("Foundation/CPObject.j",NO);h("CPText.j",YES);CPLeftMouseDown=1;CPLeftMouseUp=2;CPRightMouseDown=3;CPRightMouseUp=4;CPMouseMoved=5;CPLeftMouseDragged=6;CPRightMouseDragged=7;CPMouseEntered=8;CPMouseExited=9;CPKeyDown=10;CPKeyUp=11;CPFlagsChanged=12;CPAppKitDefined=13;CPSystemDefined=14;CPApplicationDefined=15;CPPeriodic=16;CPCursorUpdate=17;CPScrollWheel=22;CPOtherMouseDown=25;CPOtherMouseUp=
26;CPOtherMouseDragged=27;CPTouchStart=28;CPTouchMove=29;CPTouchEnd=30;CPTouchCancel=31;CPAlphaShiftKeyMask=65536;CPShiftKeyMask=131072;CPControlKeyMask=262144;CPAlternateKeyMask=524288;CPCommandKeyMask=1048576;CPNumericPadKeyMask=2097152;CPHelpKeyMask=4194304;CPFunctionKeyMask=8388608;CPDeviceIndependentModifierFlagsMask=4294901760;CPLeftMouseDownMask=1<<CPLeftMouseDown;CPLeftMouseUpMask=1<<CPLeftMouseUp;CPRightMouseDownMask=1<<CPRightMouseDown;CPRightMouseUpMask=1<<CPRightMouseUp;CPOtherMouseDownMask=
1<<CPOtherMouseDown;CPOtherMouseUpMask=1<<CPOtherMouseUp;CPMouseMovedMask=1<<CPMouseMoved;CPLeftMouseDraggedMask=1<<CPLeftMouseDragged;CPRightMouseDraggedMask=1<<CPRightMouseDragged;CPOtherMouseDragged=1<<CPOtherMouseDragged;CPMouseEnteredMask=1<<CPMouseEntered;CPMouseExitedMask=1<<CPMouseExited;CPCursorUpdateMask=1<<CPCursorUpdate;CPKeyDownMask=1<<CPKeyDown;CPKeyUpMask=1<<CPKeyUp;CPFlagsChangedMask=1<<CPFlagsChanged;CPAppKitDefinedMask=1<<CPAppKitDefined;CPSystemDefinedMask=1<<CPSystemDefined;CPApplicationDefinedMask=
1<<CPApplicationDefined;CPPeriodicMask=1<<CPPeriodic;CPScrollWheelMask=1<<CPScrollWheel;CPAnyEventMask=4294967295;CPUpArrowFunctionKey="";CPDownArrowFunctionKey="";CPLeftArrowFunctionKey="";CPRightArrowFunctionKey="";CPF1FunctionKey="";CPF2FunctionKey="";CPF3FunctionKey="";CPF4FunctionKey="";CPF5FunctionKey="";CPF6FunctionKey="";CPF7FunctionKey="";CPF8FunctionKey="";CPF9FunctionKey="";CPF10FunctionKey="";CPF11FunctionKey="";CPF12FunctionKey="";CPF13FunctionKey="";CPF14FunctionKey=
"";CPF15FunctionKey="";CPF16FunctionKey="";CPF17FunctionKey="";CPF18FunctionKey="";CPF19FunctionKey="";CPF20FunctionKey="";CPF21FunctionKey="";CPF22FunctionKey="";CPF23FunctionKey="";CPF24FunctionKey="";CPF25FunctionKey="";CPF26FunctionKey="";CPF27FunctionKey="";CPF28FunctionKey="";CPF29FunctionKey="";CPF30FunctionKey="";CPF31FunctionKey="";CPF32FunctionKey="";CPF33FunctionKey="";CPF34FunctionKey="";CPF35FunctionKey="";CPInsertFunctionKey="";CPDeleteFunctionKey="";CPHomeFunctionKey=
"";CPBeginFunctionKey="";CPEndFunctionKey="";CPPageUpFunctionKey="";CPPageDownFunctionKey="";CPPrintScreenFunctionKey="";CPScrollLockFunctionKey="";CPPauseFunctionKey="";CPSysReqFunctionKey="";CPBreakFunctionKey="";CPResetFunctionKey="";CPStopFunctionKey="";CPMenuFunctionKey="";CPUserFunctionKey="";CPSystemFunctionKey="";CPPrintFunctionKey="";CPClearLineFunctionKey="";CPClearDisplayFunctionKey="";CPInsertLineFunctionKey="";CPDeleteLineFunctionKey="";CPInsertCharFunctionKey="";
CPDeleteCharFunctionKey="";CPPrevFunctionKey="";CPNextFunctionKey="";CPSelectFunctionKey="";CPExecuteFunctionKey="";CPUndoFunctionKey="";CPRedoFunctionKey="";CPFindFunctionKey="";CPHelpFunctionKey="";CPModeSwitchFunctionKey="";CPEscapeFunctionKey="";CPSpaceFunctionKey=" ";CPDOMEventDoubleClick="dblclick";CPDOMEventMouseDown="mousedown";CPDOMEventMouseUp="mouseup";CPDOMEventMouseMoved="mousemove";CPDOMEventMouseDragged="mousedrag";CPDOMEventKeyUp="keyup";CPDOMEventKeyDown="keydown";CPDOMEventKeyPress=
"keypress";CPDOMEventCopy="copy";CPDOMEventPaste="paste";CPDOMEventScrollWheel="mousewheel";CPDOMEventTouchStart="touchstart";CPDOMEventTouchMove="touchmove";CPDOMEventTouchEnd="touchend";CPDOMEventTouchCancel="touchcancel";var f=nil,d=/[A-Z]/,a=objj_allocateClassPair(CPObject,"CPEvent"),c=a.isa;class_addIvars(a,[new objj_ivar("_type"),new objj_ivar("_location"),new objj_ivar("_modifierFlags"),new objj_ivar("_timestamp"),new objj_ivar("_context"),new objj_ivar("_eventNumber"),new objj_ivar("_clickCount"),
new objj_ivar("_pressure"),new objj_ivar("_window"),new objj_ivar("_windowNumber"),new objj_ivar("_characters"),new objj_ivar("_isARepeat"),new objj_ivar("_keyCode"),new objj_ivar("_DOMEvent"),new objj_ivar("_deltaX"),new objj_ivar("_deltaY"),new objj_ivar("_deltaZ")]);objj_registerClassPair(a);class_addMethods(a,[new objj_method(sel_getUid("_initWithType:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPEvent").super_class},"init"))_type=c,_deltaZ=_deltaY=
_deltaX=0;return a}}),new objj_method(sel_getUid("_initMouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:"),function(a,b,c,d,f,h,j,r,p,t,u){with(a){if(a=objj_msgSend(a,"_initWithType:",c))_location=CPPointCreateCopy(d),_modifierFlags=f,_timestamp=h,_context=r,_eventNumber=p,_clickCount=t,_pressure=u,_window=objj_msgSend(CPApp,"windowWithWindowNumber:",j);return a}}),new objj_method(sel_getUid("_initKeyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:"),
function(a,b,c,d,f,h,j,r,p,t,u,z){with(a){if(a=objj_msgSend(a,"_initWithType:",c))_location=CPPointCreateCopy(d),_modifierFlags=f,_timestamp=h,_context=r,_characters=p,_charactersIgnoringModifiers=t,_isARepeat=u,_keyCode=z,_windowNumber=j;return a}}),new objj_method(sel_getUid("_initOtherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:"),function(a,b,c,d,f,h,j,r,p,t,u){with(a){if(a=objj_msgSend(a,"_initWithType:",c))_location=CPPointCreateCopy(d),_modifierFlags=
f,_timestamp=h,_context=r,_subtype=p,_data1=t,_data2=u;return a}}),new objj_method(sel_getUid("locationInWindow"),function(a){with(a)return{x:_location.x,y:_location.y}}),new objj_method(sel_getUid("globalLocation"),function(a){with(a){var b=objj_msgSend(a,"window");a=objj_msgSend(a,"locationInWindow");if(b)return objj_msgSend(b,"convertBaseToGlobal:",a);return a}}),new objj_method(sel_getUid("modifierFlags"),function(a){with(a)return _modifierFlags}),new objj_method(sel_getUid("timestamp"),function(a){with(a)return _timestamp}),
new objj_method(sel_getUid("type"),function(a){with(a)return _type}),new objj_method(sel_getUid("window"),function(a){with(a)return _window||(_window=objj_msgSend(CPApp,"windowWithWindowNumber:",_windowNumber)),_window}),new objj_method(sel_getUid("windowNumber"),function(a){with(a)return _windowNumber}),new objj_method(sel_getUid("buttonNumber"),function(a){with(a){if(_type===CPRightMouseDown||_type===CPRightMouseUp||_type===CPRightMouseDragged)return 1;return 0}}),new objj_method(sel_getUid("clickCount"),
function(a){with(a)return _clickCount}),new objj_method(sel_getUid("characters"),function(a){with(a)return _characters}),new objj_method(sel_getUid("charactersIgnoringModifiers"),function(a){with(a)return _charactersIgnoringModifiers}),new objj_method(sel_getUid("isARepeat"),function(a){with(a)return _isARepeat}),new objj_method(sel_getUid("keyCode"),function(a){with(a)return _keyCode}),new objj_method(sel_getUid("pressure"),function(a){with(a)return _pressure}),new objj_method(sel_getUid("_DOMEvent"),
function(a){with(a)return _DOMEvent}),new objj_method(sel_getUid("deltaX"),function(a){with(a)return _deltaX}),new objj_method(sel_getUid("deltaY"),function(a){with(a)return _deltaY}),new objj_method(sel_getUid("deltaZ"),function(a){with(a)return _deltaZ}),new objj_method(sel_getUid("_triggersKeyEquivalent:withModifierMask:"),function(a,b,c,f){with(a){if(!c)return NO;d.test(c)&&(f|=CPShiftKeyMask);!CPBrowserIsOperatingSystem(CPMacOperatingSystem)&&f&CPCommandKeyMask&&(f|=CPControlKeyMask,f&=~CPCommandKeyMask);
if((_modifierFlags&(CPShiftKeyMask|CPAlternateKeyMask|CPCommandKeyMask|CPControlKeyMask))!==f)return NO;if(_characters===CPNewlineCharacter||_characters===CPCarriageReturnCharacter)return CPNewlineCharacter===c||CPCarriageReturnCharacter===c;return objj_msgSend(_characters,"caseInsensitiveCompare:",c)===CPOrderedSame}}),new objj_method(sel_getUid("_couldBeKeyEquivalent"),function(a){with(a){if(_type!==CPKeyDown)return NO;a=_characters.length;if(!a)return NO;if(_modifierFlags&(CPCommandKeyMask|CPControlKeyMask))return YES;
for(var b=0;b<a;b++)switch(_characters.charAt(b)){case CPBackspaceCharacter:case CPDeleteCharacter:case CPDeleteFunctionKey:case CPTabCharacter:case CPCarriageReturnCharacter:case CPNewlineCharacter:case CPSpaceFunctionKey:case CPEscapeFunctionKey:case CPPageUpFunctionKey:case CPPageDownFunctionKey:case CPLeftArrowFunctionKey:case CPUpArrowFunctionKey:case CPRightArrowFunctionKey:case CPDownArrowFunctionKey:case CPEndFunctionKey:case CPHomeFunctionKey:return YES}return NO}})]);class_addMethods(c,
[new objj_method(sel_getUid("keyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:"),function(a,b,c,d,f,h,j,r,p,t,u,z){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"_initKeyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:",c,d,f,h,j,r,p,t,u,z)}),new objj_method(sel_getUid("mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:"),
function(a,b,c,d,f,h,j,r,p,t,u){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"_initMouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",c,d,f,h,j,r,p,t,u)}),new objj_method(sel_getUid("otherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:"),function(a,b,c,d,f,h,j,r,p,t,u){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"_initOtherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:",
c,d,f,h,j,r,p,t,u)}),new objj_method(sel_getUid("mouseLocation"),function(a){with(a){a=objj_msgSend(CPApp,"currentEvent");var b=objj_msgSend(a,"window");if(b)return objj_msgSend(b,"convertBaseToGlobal:",objj_msgSend(a,"locationInWindow"));return objj_msgSend(a,"locationInWindow")}}),new objj_method(sel_getUid("startPeriodicEventsAfterDelay:withPeriod:"),function(a,b,c,d){with(a)f=window.setTimeout(function(){f=window.setInterval(_CPEventFirePeriodEvent,d*1E3)},c*1E3)}),new objj_method(sel_getUid("stopPeriodicEvents"),
function(a){with(a){if(f===nil)return;window.clearTimeout(f);f=nil}})]);_CPEventFirePeriodEvent=function(){objj_msgSend(CPApp,"sendEvent:",objj_msgSend(CPEvent,"otherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:",CPPeriodic,{x:0,y:0},0,0,0,nil,0,0,0))};var b=objj_msgSend(CPEvent,"class");_CPEventFromNativeMouseEvent=function(a,c,d,f,h,k,j,r,p,t){a.isa=b;a._type=c;a._location=d;a._modifierFlags=f;a._timestamp=h;a._windowNumber=k;a._window=nil;a._context=j;
a._eventNumber=r;a._clickCount=p;a._pressure=t;return a}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPImageView.j",baseURL),function(j,h){h("Foundation/CPNotificationCenter.j",NO);h("CPControl.j",YES);h("CPImage.j",YES);h("CPShadowView.j",YES);CPScaleProportionally=0;CPScaleToFit=1;CPScaleNone=2;CPImageAlignCenter=0;CPImageAlignTop=1;CPImageAlignTopLeft=2;CPImageAlignTopRight=3;CPImageAlignLeft=4;CPImageAlignBottom=5;CPImageAlignBottomLeft=6;CPImageAlignBottomRight=7;CPImageAlignRight=8;var f=nil,d=objj_allocateClassPair(CPControl,
"CPImageView"),a=d.isa;class_addIvars(d,[new objj_ivar("_DOMImageElement"),new objj_ivar("_hasShadow"),new objj_ivar("_shadowView"),new objj_ivar("_isEditable"),new objj_ivar("_imageRect"),new objj_ivar("_imageAlignment")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initWithFrame:"),function(a,b,e){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPImageView").super_class},"initWithFrame:",e))_DOMImageElement=document.createElement("img"),_DOMImageElement.style.position=
"absolute",_DOMImageElement.style.left="0px",_DOMImageElement.style.top="0px",objj_msgSend(CPPlatform,"supportsDragAndDrop")&&(_DOMImageElement.setAttribute("draggable","true"),_DOMImageElement.style["-khtml-user-drag"]="element"),_DOMElement.appendChild(_DOMImageElement),_DOMImageElement.style.visibility="hidden";return a}}),new objj_method(sel_getUid("image"),function(a){with(a)return objj_msgSend(a,"objectValue")}),new objj_method(sel_getUid("setImage:"),function(a,b,e){with(a)objj_msgSend(a,"setObjectValue:",
e)}),new objj_method(sel_getUid("setObjectValue:"),function(a,b,e){with(a){b=objj_msgSend(a,"objectValue");if(b===e)return;objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPImageView").super_class},"setObjectValue:",e);e=objj_msgSend(CPNotificationCenter,"defaultCenter");b&&objj_msgSend(e,"removeObserver:name:object:",a,CPImageDidLoadNotification,b);b=objj_msgSend(a,"objectValue");_DOMImageElement.src=b?objj_msgSend(b,"filename"):objj_msgSend(f,"filename");var d=objj_msgSend(b,"size");d&&
d.width===-1&&d.height===-1?(objj_msgSend(e,"addObserver:selector:name:object:",a,sel_getUid("imageDidLoad:"),CPImageDidLoadNotification,b),_DOMImageElement.width=0,_DOMImageElement.height=0,objj_msgSend(_shadowView,"setHidden:",YES)):(objj_msgSend(a,"hideOrDisplayContents"),objj_msgSend(a,"setNeedsLayout"),objj_msgSend(a,"setNeedsDisplay:",YES))}}),new objj_method(sel_getUid("imageDidLoad:"),function(a){with(a)objj_msgSend(a,"hideOrDisplayContents"),objj_msgSend(a,"setNeedsLayout"),objj_msgSend(a,
"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("hasShadow"),function(a){with(a)return _hasShadow}),new objj_method(sel_getUid("setHasShadow:"),function(a,b,e){with(a){if(_hasShadow==e)return;(_hasShadow=e)?(_shadowView=objj_msgSend(objj_msgSend(CPShadowView,"alloc"),"initWithFrame:",objj_msgSend(a,"bounds")),objj_msgSend(a,"addSubview:",_shadowView),objj_msgSend(a,"setNeedsLayout"),objj_msgSend(a,"setNeedsDisplay:",YES)):(objj_msgSend(_shadowView,"removeFromSuperview"),_shadowView=nil);objj_msgSend(a,
"hideOrDisplayContents")}}),new objj_method(sel_getUid("setImageAlignment:"),function(a,b,e){with(a){if(_imageAlignment==e)return;_imageAlignment=e;if(!objj_msgSend(a,"image"))return;objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("imageAlignment"),function(a){with(a)return _imageAlignment}),new objj_method(sel_getUid("setImageScaling:"),function(a,b,e){with(a){objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPImageView").super_class},
"setImageScaling:",e);if(objj_msgSend(a,"currentValueForThemeAttribute:","image-scaling")===CPScaleToFit)b=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageElement.style.left=ROUND(b.x)+"px",_DOMImageElement.style.top=ROUND(b.y)+"px";objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("imageScaling"),function(a){with(a)return objj_msgSend(a,"currentValueForThemeAttribute:",
"image-scaling")}),new objj_method(sel_getUid("hideOrDisplayContents"),function(a){with(a)objj_msgSend(a,"image")?(_DOMImageElement.style.visibility="visible",objj_msgSend(_shadowView,"setHidden:",NO)):(_DOMImageElement.style.visibility="hidden",objj_msgSend(_shadowView,"setHidden:",YES))}),new objj_method(sel_getUid("imageRect"),function(a){with(a)return _imageRect}),new objj_method(sel_getUid("layoutSubviews"),function(a){with(a){if(!objj_msgSend(a,"image"))return;var b=objj_msgSend(a,"bounds"),
e=objj_msgSend(a,"image"),d=objj_msgSend(a,"currentValueForThemeAttribute:","image-scaling"),f=0,h=0;a=_hasShadow?6:0;var i=_hasShadow?8:0,k=b.size.width,j=b.size.height;b=k-a;var r=j-i;if(d===CPScaleToFit)_DOMImageElement.width=ROUND(b),_DOMImageElement.height=ROUND(r);else{e=objj_msgSend(e,"size");if(e.width==-1&&e.height==-1)return;d===CPScaleProportionally?(b>=e.width&&r>=e.height?(b=e.width,r=e.height):(f=e.width/e.height,b/r>f?b=r*f:r=b/f),_DOMImageElement.width=ROUND(b),_DOMImageElement.height=
ROUND(r)):(b=e.width,r=e.height);if(d==CPScaleNone)_DOMImageElement.width=ROUND(e.width),_DOMImageElement.height=ROUND(e.height);switch(_imageAlignment){case CPImageAlignLeft:case CPImageAlignTopLeft:case CPImageAlignBottomLeft:f=0;break;case CPImageAlignRight:case CPImageAlignTopRight:case CPImageAlignBottomRight:f=k-b;break;default:f=(k-b)/2}switch(_imageAlignment){case CPImageAlignTop:case CPImageAlignTopLeft:case CPImageAlignTopRight:h=0;break;case CPImageAlignBottom:case CPImageAlignBottomLeft:case CPImageAlignBottomRight:h=
j-r;break;default:h=(j-r)/2}d=NULL?{x:CGPointMake(f,h).x*NULL.a+CGPointMake(f,h).y*NULL.c+NULL.tx,y:CGPointMake(f,h).x*NULL.b+CGPointMake(f,h).y*NULL.d+NULL.ty}:{x:f,y:h};_DOMImageElement.style.left=ROUND(d.x)+"px";_DOMImageElement.style.top=ROUND(d.y)+"px"}_imageRect={origin:{x:f,y:h},size:{width:b,height:r}};_hasShadow&&objj_msgSend(_shadowView,"setFrame:",{origin:{x:f-3,y:h-3},size:{width:b+a,height:r+i}})}}),new objj_method(sel_getUid("mouseDown:"),function(a,b,e){with(a)objj_msgSend(objj_msgSend(a,
"nextResponder"),"mouseDown:",e)}),new objj_method(sel_getUid("setEditable:"),function(a,b,e){with(a){if(_isEditable===e)return;(_isEditable=e)?objj_msgSend(a,"registerForDraggedTypes:",[CPImagesPboardType]):(b=objj_msgSend(a,"registeredDraggedTypes"),objj_msgSend(a,"unregisterDraggedTypes"),objj_msgSend(b,"removeObjectIdenticalTo:",CPImagesPboardType),objj_msgSend(a,"registerForDraggedTypes:",b))}}),new objj_method(sel_getUid("isEditable"),function(a){with(a)return _isEditable}),new objj_method(sel_getUid("performDragOperation:"),
function(a,b,e){with(a)return b=objj_msgSend(CPKeyedUnarchiver,"unarchiveObjectWithData:",objj_msgSend(objj_msgSend(e,"draggingPasteboard"),"dataForType:",CPImagesPboardType)),objj_msgSend(b,"count")&&(objj_msgSend(a,"setImage:",b[0]),objj_msgSend(a,"sendAction:to:",objj_msgSend(a,"action"),objj_msgSend(a,"target"))),YES})]);class_addMethods(a,[new objj_method(sel_getUid("initialize"),function(a){with(a)a=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPView,"class")),f=objj_msgSend(objj_msgSend(CPImage,
"alloc"),"initWithContentsOfFile:",objj_msgSend(a,"pathForResource:","empty.png"))})]);d=objj_getClass("CPImageView");if(!d)throw new SyntaxError('*** Could not find definition for class "CPImageView"');a=d.isa;class_addMethods(d,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,e){with(a){_DOMImageElement=document.createElement("img");_DOMImageElement.style.position="absolute";_DOMImageElement.style.left="0px";_DOMImageElement.style.top="0px";_DOMImageElement.style.visibility="hidden";objj_msgSend(CPPlatform,
"supportsDragAndDrop")&&(_DOMImageElement.setAttribute("draggable","true"),_DOMImageElement.style["-khtml-user-drag"]="element");if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPImageView").super_class},"initWithCoder:",e))_DOMElement.appendChild(_DOMImageElement),objj_msgSend(a,"setHasShadow:",objj_msgSend(e,"decodeBoolForKey:","CPImageViewHasShadowKey")),objj_msgSend(a,"setImageAlignment:",objj_msgSend(e,"decodeIntForKey:","CPImageViewImageAlignmentKey")),(objj_msgSend(e,"decodeBoolForKey:",
"CPImageViewIsEditableKey")||NO)&&objj_msgSend(a,"setEditable:",YES),objj_msgSend(a,"setNeedsLayout"),objj_msgSend(a,"setNeedsDisplay:",YES);return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,e){with(a){if(_shadowView){var d=_subviews;_subviews=objj_msgSend(_subviews,"copy");objj_msgSend(_subviews,"removeObjectIdenticalTo:",_shadowView)}objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPImageView").super_class},"encodeWithCoder:",e);_shadowView&&(_subviews=d);objj_msgSend(e,
"encodeBool:forKey:",_hasShadow,"CPImageViewHasShadowKey");objj_msgSend(e,"encodeInt:forKey:",_imageAlignment,"CPImageViewImageAlignmentKey");_isEditable&&objj_msgSend(e,"encodeBool:forKey:",_isEditable,"CPImageViewIsEditableKey")}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPDocumentController.j",baseURL),function(j,h){h("Foundation/CPObject.j",NO);h("Foundation/CPBundle.j",NO);h("CPDocument.j",YES);h("CPOpenPanel.j",YES);var f=nil,d=objj_allocateClassPair(CPObject,"CPDocumentController"),a=d.isa;class_addIvars(d,[new objj_ivar("_documents"),new objj_ivar("_documentTypes")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("init"),function(a){with(a){if(a=objj_msgSendSuper({receiver:a,
super_class:objj_getClass("CPDocumentController").super_class},"init"))_documents=objj_msgSend(objj_msgSend(CPArray,"alloc"),"init"),f||(f=a),_documentTypes=objj_msgSend(objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"infoDictionary"),"objectForKey:","CPBundleDocumentTypes");return a}}),new objj_method(sel_getUid("documentForURL:"),function(a,b,e){with(a){a=0;for(b=objj_msgSend(_documents,"count");a<b;++a){var d=_documents[a];if(objj_msgSend(objj_msgSend(d,"fileURL"),"isEqual:",e))return d}return nil}}),
new objj_method(sel_getUid("openUntitledDocumentOfType:display:"),function(a,b,e,d){with(a)return(b=objj_msgSend(a,"makeUntitledDocumentOfType:error:",e,nil))&&objj_msgSend(a,"addDocument:",b),d&&(objj_msgSend(b,"makeWindowControllers"),objj_msgSend(b,"showWindows")),b}),new objj_method(sel_getUid("makeUntitledDocumentOfType:error:"),function(a,b,e,d){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,"documentClassForType:",e),"alloc"),"initWithType:error:",e,d)}),new objj_method(sel_getUid("openDocumentWithContentsOfURL:display:error:"),
function(a,b,e,d,f){with(a)return(b=objj_msgSend(a,"documentForURL:",e))?d&&objj_msgSend(b,"showWindows"):(f=objj_msgSend(a,"typeForContentsOfURL:error:",e,f),b=objj_msgSend(a,"makeDocumentWithContentsOfURL:ofType:delegate:didReadSelector:contextInfo:",e,f,a,sel_getUid("document:didRead:contextInfo:"),objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",d,"shouldDisplay")),objj_msgSend(a,"addDocument:",b),b&&objj_msgSend(a,"noteNewRecentDocument:",b)),b}),new objj_method(sel_getUid("reopenDocumentForURL:withContentsOfURL:error:"),
function(a,b,e,d){with(a)return objj_msgSend(a,"makeDocumentForURL:withContentsOfURL:ofType:delegate:didReadSelector:contextInfo:",e,d,objj_msgSend(objj_msgSend(_documentTypes,"objectAtIndex:",0),"objectForKey:","CPBundleTypeName"),a,sel_getUid("document:didRead:contextInfo:"),nil)}),new objj_method(sel_getUid("makeDocumentWithContentsOfURL:ofType:delegate:didReadSelector:contextInfo:"),function(a,b,e,d,f,h,i){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,"documentClassForType:",d),"alloc"),
"initWithContentsOfURL:ofType:delegate:didReadSelector:contextInfo:",e,d,f,h,i)}),new objj_method(sel_getUid("makeDocumentForURL:withContentsOfURL:ofType:delegate:didReadSelector:contextInfo:"),function(a,b,e,d,f,h,i,k){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,"documentClassForType:",f),"alloc"),"initForURL:withContentsOfURL:ofType:delegate:didReadSelector:contextInfo:",e,d,f,h,i,k)}),new objj_method(sel_getUid("document:didRead:contextInfo:"),function(a,b,e,d,f){with(a){if(!d)return;
objj_msgSend(e,"makeWindowControllers");objj_msgSend(f,"objectForKey:","shouldDisplay")&&objj_msgSend(e,"showWindows")}}),new objj_method(sel_getUid("newDocument:"),function(a){with(a)objj_msgSend(a,"openUntitledDocumentOfType:display:",objj_msgSend(objj_msgSend(_documentTypes,"objectAtIndex:",0),"objectForKey:","CPBundleTypeName"),YES)}),new objj_method(sel_getUid("openDocument:"),function(a){with(a){var b=objj_msgSend(CPOpenPanel,"openPanel");objj_msgSend(b,"runModal");b=objj_msgSend(b,"URLs");
for(var e=0,d=objj_msgSend(b,"count");e<d;++e)objj_msgSend(a,"openDocumentWithContentsOfURL:display:error:",objj_msgSend(CPURL,"URLWithString:",b[e]),YES,nil)}}),new objj_method(sel_getUid("documents"),function(a){with(a)return _documents}),new objj_method(sel_getUid("addDocument:"),function(a,b,e){with(a)objj_msgSend(_documents,"addObject:",e)}),new objj_method(sel_getUid("removeDocument:"),function(a,b,e){with(a)objj_msgSend(_documents,"removeObjectIdenticalTo:",e)}),new objj_method(sel_getUid("defaultType"),
function(a){with(a)return objj_msgSend(_documentTypes[0],"objectForKey:","CPBundleTypeName")}),new objj_method(sel_getUid("typeForContentsOfURL:error:"),function(a,b,e){with(a){b=0;var d=_documentTypes.length;e=objj_msgSend(objj_msgSend(e,"pathExtension"),"lowercaseString");for(var f=nil;b<d;++b)for(var h=_documentTypes[b],i=objj_msgSend(h,"objectForKey:","CFBundleTypeExtensions"),k=0,j=i.length;k<j;++k){var r=objj_msgSend(i[k],"lowercaseString");if(r===e)return objj_msgSend(h,"objectForKey:","CPBundleTypeName");
r==="****"&&(f=objj_msgSend(h,"objectForKey:","CPBundleTypeName"))}return f||objj_msgSend(a,"defaultType")}}),new objj_method(sel_getUid("_infoForType:"),function(a,b,e){with(a){a=0;for(b=objj_msgSend(_documentTypes,"count");a<b;++a){var d=_documentTypes[a];if(objj_msgSend(d,"objectForKey:","CPBundleTypeName")==e)return d}return nil}}),new objj_method(sel_getUid("documentClassForType:"),function(a,b,e){with(a)return(a=objj_msgSend(objj_msgSend(a,"_infoForType:",e),"objectForKey:","CPDocumentClass"))?
CPClassFromString(a):nil})]);class_addMethods(a,[new objj_method(sel_getUid("sharedDocumentController"),function(a){with(a)return f||objj_msgSend(objj_msgSend(a,"alloc"),"init"),f})]);d=objj_getClass("CPDocumentController");if(!d)throw new SyntaxError('*** Could not find definition for class "CPDocumentController"');a=d.isa;class_addMethods(d,[new objj_method(sel_getUid("closeAllDocumentsWithDelegate:didCloseAllSelector:contextInfo:"),function(a,b,e,d,f){with(a)objj_msgSend(a,"_closeDocumentsStartingWith:shouldClose:context:",
nil,YES,{delegate:e,selector:d,context:f})}),new objj_method(sel_getUid("_closeDocumentsStartingWith:shouldClose:context:"),function(a,b,e,d,f){with(a){if(d&&(objj_msgSend(e,"close"),objj_msgSend(objj_msgSend(a,"documents"),"count")>0)){objj_msgSend(objj_msgSend(objj_msgSend(a,"documents"),"lastObject"),"canCloseDocumentWithDelegate:shouldCloseSelector:contextInfo:",a,sel_getUid("_closeDocumentsStartingWith:shouldClose:context:"),f);return}objj_msgSend(f.delegate,"respondsToSelector:",f.selector)&&
objj_msgSend(f.delegate,f.selector,a,objj_msgSend(objj_msgSend(a,"documents"),"count")===0,f.context)}})]);d=objj_getClass("CPDocumentController");if(!d)throw new SyntaxError('*** Could not find definition for class "CPDocumentController"');a=d.isa;class_addMethods(d,[new objj_method(sel_getUid("recentDocumentURLs"),function(a){with(a){if(typeof window.cpRecentDocumentURLs==="function")return window.cpRecentDocumentURLs();return[]}}),new objj_method(sel_getUid("clearRecentDocuments:"),function(a){with(a)typeof window.cpClearRecentDocuments===
"function"&&window.cpClearRecentDocuments(),objj_msgSend(a,"_updateRecentDocumentsMenu")}),new objj_method(sel_getUid("noteNewRecentDocument:"),function(a,b,e){with(a)objj_msgSend(a,"noteNewRecentDocumentURL:",objj_msgSend(e,"fileURL"))}),new objj_method(sel_getUid("noteNewRecentDocumentURL:"),function(a,b,e){with(a)b=objj_msgSend(e,"isKindOfClass:",CPString)?e:objj_msgSend(e,"absoluteString"),typeof window.cpNoteNewRecentDocumentPath==="function"&&window.cpNoteNewRecentDocumentPath(b),objj_msgSend(a,
"_updateRecentDocumentsMenu")}),new objj_method(sel_getUid("_removeAllRecentDocumentsFromMenu:"),function(a,b,e){with(a){a=objj_msgSend(e,"itemArray");for(b=objj_msgSend(a,"count");b--;)objj_msgSend(a[b],"action")===sel_getUid("_openRecentDocument:")&&objj_msgSend(e,"removeItemAtIndex:",b)}}),new objj_method(sel_getUid("_updateRecentDocumentsMenu"),function(a){with(a){var b=objj_msgSend(objj_msgSend(CPApp,"mainMenu"),"_menuWithName:","_CPRecentDocumentsMenu"),e=objj_msgSend(a,"recentDocumentURLs"),
d=objj_msgSend(b,"itemArray"),f=objj_msgSend(e,"count"),h=objj_msgSend(d,"count");objj_msgSend(a,"_removeAllRecentDocumentsFromMenu:",b);for(h&&(f?objj_msgSend(d[0],"isSeparatorItem")||objj_msgSend(b,"insertItem:atIndex:",objj_msgSend(CPMenuItem,"separatorItem"),0):objj_msgSend(d[0],"isSeparatorItem")&&objj_msgSend(b,"removeItemAtIndex:",0));f--;)a=e[f],d=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:",objj_msgSend(a,"lastPathComponent"),sel_getUid("_openRecentDocument:"),
nil),objj_msgSend(d,"setTag:",a),objj_msgSend(b,"insertItem:atIndex:",d,0)}}),new objj_method(sel_getUid("_openRecentDocument:"),function(a,b,e){with(a)objj_msgSend(a,"openDocumentWithContentsOfURL:display:error:",objj_msgSend(e,"tag"),YES,nil)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPDictionary.j",baseURL),function(j,h){h("CPArray.j",YES);h("CPEnumerator.j",YES);h("CPException.j",YES);h("CPNull.j",YES);h("CPObject.j",YES);var f=objj_allocateClassPair(CPEnumerator,"_CPDictionaryValueEnumerator"),d=f.isa;class_addIvars(f,[new objj_ivar("_keyEnumerator"),new objj_ivar("_dictionary")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithDictionary:"),function(a,c,b){with(a){if(a=
objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPDictionaryValueEnumerator").super_class},"init"))_keyEnumerator=objj_msgSend(b,"keyEnumerator"),_dictionary=b;return a}}),new objj_method(sel_getUid("nextObject"),function(a){with(a){a=objj_msgSend(_keyEnumerator,"nextObject");if(!a)return nil;return objj_msgSend(_dictionary,"objectForKey:",a)}})]);f=objj_allocateClassPair(CPObject,"CPDictionary");d=f.isa;objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithDictionary:"),
function(a,c,b){with(a){a="";c=objj_msgSend(objj_msgSend(CPDictionary,"alloc"),"init");for(a in b._buckets)objj_msgSend(c,"setObject:forKey:",objj_msgSend(b,"objectForKey:",a),a);return c}}),new objj_method(sel_getUid("initWithObjects:forKeys:"),function(a,c,b,e){with(a){a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPDictionary").super_class},"init");objj_msgSend(b,"count")!=objj_msgSend(e,"count")&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Counts are different.("+
objj_msgSend(b,"count")+"!="+objj_msgSend(e,"count")+")");if(a)for(c=objj_msgSend(e,"count");c--;)objj_msgSend(a,"setObject:forKey:",b[c],e[c]);return a}}),new objj_method(sel_getUid("initWithObjectsAndKeys:"),function(a){with(a){var c=arguments.length;c%2!==0&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Key-value count is mismatched. ("+c+" arguments passed)");if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPDictionary").super_class},"init"))for(var b=2;b<
c;b+=2){var e=arguments[b];if(e===nil)break;objj_msgSend(a,"setObject:forKey:",e,arguments[b+1])}return a}}),new objj_method(sel_getUid("copy"),function(a){with(a)return objj_msgSend(CPDictionary,"dictionaryWithDictionary:",a)}),new objj_method(sel_getUid("count"),function(a){with(a)return _count}),new objj_method(sel_getUid("allKeys"),function(a){with(a)return objj_msgSend(_keys,"copy")}),new objj_method(sel_getUid("allValues"),function(a){with(a){for(var c=_keys.length,b=[];c--;)b.push(a.valueForKey(_keys[c]));
return b}}),new objj_method(sel_getUid("allKeysForObject:"),function(a,c,b){with(a){a=_keys.length;c=0;for(var e=[],d=nil,f=nil;c<a;++c)d=_keys[c],f=_buckets[d],f.isa&&b&&b.isa&&objj_msgSend(f,"respondsToSelector:",sel_getUid("isEqual:"))&&objj_msgSend(f,"isEqual:",b)?e.push(d):f===b&&e.push(d);return e}}),new objj_method(sel_getUid("keysSortedByValueUsingSelector:"),function(a,c,b){with(a)return objj_msgSend(objj_msgSend(a,"allKeys"),"sortedArrayUsingFunction:",function(c,d){c=objj_msgSend(a,"objectForKey:",
c);d=objj_msgSend(a,"objectForKey:",d);return objj_msgSend(c,"performSelector:withObject:",b,d)})}),new objj_method(sel_getUid("keyEnumerator"),function(a){with(a)return objj_msgSend(_keys,"objectEnumerator")}),new objj_method(sel_getUid("objectEnumerator"),function(a){with(a)return objj_msgSend(objj_msgSend(_CPDictionaryValueEnumerator,"alloc"),"initWithDictionary:",a)}),new objj_method(sel_getUid("isEqualToDictionary:"),function(a,c,b){with(a){if(a===b)return YES;a=objj_msgSend(a,"count");if(a!==
objj_msgSend(b,"count"))return NO;for(;a--;){var e=_keys[a];c=_buckets[e];e=b._buckets[e];if(c!==e&&(!c||!c.isa||!e||!e.isa||!objj_msgSend(c,"respondsToSelector:",sel_getUid("isEqual:"))||!objj_msgSend(c,"isEqual:",e)))return NO}return YES}}),new objj_method(sel_getUid("isEqual:"),function(a,c,b){with(a){if(a===b)return YES;if(!objj_msgSend(b,"isKindOfClass:",objj_msgSend(CPDictionary,"class")))return NO;return objj_msgSend(a,"isEqualToDictionary:",b)}}),new objj_method(sel_getUid("objectForKey:"),
function(a,c,b){with(a)return a=_buckets[b],a===void 0?nil:a}),new objj_method(sel_getUid("removeAllObjects"),function(a){with(a)a.removeAllValues()}),new objj_method(sel_getUid("removeObjectForKey:"),function(a,c,b){with(a)a.removeValueForKey(b)}),new objj_method(sel_getUid("removeObjectsForKeys:"),function(a,c,b){with(a)for(c=b.length;c--;)objj_msgSend(a,"removeObjectForKey:",b[c])}),new objj_method(sel_getUid("setObject:forKey:"),function(a,c,b,e){with(a)a.setValueForKey(e,b)}),new objj_method(sel_getUid("addEntriesFromDictionary:"),
function(a,c,b){with(a){if(!b)return;c=objj_msgSend(b,"allKeys");for(var e=objj_msgSend(c,"count");e--;){var d=c[e];objj_msgSend(a,"setObject:forKey:",objj_msgSend(b,"objectForKey:",d),d)}}}),new objj_method(sel_getUid("description"),function(a){with(a)return a.toString()}),new objj_method(sel_getUid("containsKey:"),function(a,c,b){with(a)return a=objj_msgSend(a,"objectForKey:",b),a!==nil&&a!==void 0})]);class_addMethods(d,[new objj_method(sel_getUid("alloc"),function(a){with(a){var c=new CFMutableDictionary;
c.isa=objj_msgSend(a,"class");return c}}),new objj_method(sel_getUid("dictionary"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"init")}),new objj_method(sel_getUid("dictionaryWithDictionary:"),function(a,c,b){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithDictionary:",b)}),new objj_method(sel_getUid("dictionaryWithObject:forKey:"),function(a,c,b,e){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithObjects:forKeys:",[b],[e])}),new objj_method(sel_getUid("dictionaryWithObjects:forKeys:"),
function(a,c,b,e){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithObjects:forKeys:",b,e)}),new objj_method(sel_getUid("dictionaryWithJSObject:"),function(a,c,b){with(a)return objj_msgSend(a,"dictionaryWithJSObject:recursively:",b,NO)}),new objj_method(sel_getUid("dictionaryWithJSObject:recursively:"),function(a,c,b,e){with(a){c="";a=objj_msgSend(objj_msgSend(a,"alloc"),"init");for(c in b)if(b.hasOwnProperty(c)){var d=b[c];if(d===null)objj_msgSend(a,"setObject:forKey:",objj_msgSend(CPNull,
"null"),c);else{if(e)if(d.constructor===Object)d=objj_msgSend(CPDictionary,"dictionaryWithJSObject:recursively:",d,YES);else if(objj_msgSend(d,"isKindOfClass:",CPArray)){for(var f=[],h=0,i=d.length;h<i;h++){var k=d[h];k.constructor===Object?f.push(objj_msgSend(CPDictionary,"dictionaryWithJSObject:recursively:",k,YES)):f.push(k)}d=f}objj_msgSend(a,"setObject:forKey:",d,c)}}return a}}),new objj_method(sel_getUid("dictionaryWithObjectsAndKeys:"),function(a){with(a)return arguments[0]=objj_msgSend(a,
"alloc"),arguments[1]=sel_getUid("initWithObjectsAndKeys:"),objj_msgSend.apply(this,arguments)})]);f=objj_getClass("CPDictionary");if(!f)throw new SyntaxError('*** Could not find definition for class "CPDictionary"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(a,c,b){with(a)return objj_msgSend(b,"_decodeDictionaryOfObjectsForKey:","CP.objects")}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,c,b){with(a)objj_msgSend(b,"_encodeDictionaryOfObjects:forKey:",
a,"CP.objects")})]);f=objj_allocateClassPair(CPDictionary,"CPMutableDictionary");d=f.isa;objj_registerClassPair(f);CFDictionary.prototype.isa=CPDictionary;CFMutableDictionary.prototype.isa=CPMutableDictionary});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPBox.j",baseURL),function(j,h){h("CPView.j",YES);CPBoxPrimary=0;CPBoxSecondary=1;CPBoxSeparator=2;CPBoxOldStyle=3;CPBoxCustom=4;CPNoBorder=0;CPLineBorder=1;CPBezelBorder=2;CPGrooveBorder=3;var f=objj_allocateClassPair(CPView,"CPBox"),d=f.isa;class_addIvars(f,[new objj_ivar("_boxType"),new objj_ivar("_borderType"),new objj_ivar("_borderColor"),new objj_ivar("_fillColor"),new objj_ivar("_cornerRadius"),new objj_ivar("_borderWidth"),
new objj_ivar("_contentMargin"),new objj_ivar("_contentView")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithFrame:"),function(a,c,b){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPBox").super_class},"initWithFrame:",b))_borderType=CPBezelBorder,_fillColor=objj_msgSend(CPColor,"clearColor"),_borderColor=objj_msgSend(CPColor,"blackColor"),_borderWidth=1,_contentMargin=CGSizeMake(0,0),_contentView=objj_msgSend(objj_msgSend(CPView,"alloc"),
"initWithFrame:",objj_msgSend(a,"bounds")),objj_msgSend(_contentView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),objj_msgSend(a,"setAutoresizesSubviews:",YES),objj_msgSend(a,"addSubview:",_contentView);return a}}),new objj_method(sel_getUid("borderRect"),function(a){with(a)return objj_msgSend(a,"bounds")}),new objj_method(sel_getUid("borderType"),function(a){with(a)return _borderType}),new objj_method(sel_getUid("setBorderType:"),function(a,c,b){with(a){if(_borderType===b)return;
_borderType=b;objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("boxType"),function(a){with(a)return _boxType}),new objj_method(sel_getUid("setBoxType:"),function(a,c,b){with(a){if(_boxType===b)return;_boxType=b;objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("borderColor"),function(a){with(a)return _borderColor}),new objj_method(sel_getUid("setBorderColor:"),function(a,c,b){with(a){if(objj_msgSend(b,"isEqual:",_borderColor))return;_borderColor=b;objj_msgSend(a,
"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("borderWidth"),function(a){with(a)return _borderWidth}),new objj_method(sel_getUid("setBorderWidth:"),function(a,c,b){with(a){if(b===_borderWidth)return;_borderWidth=b;objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("cornerRadius"),function(a){with(a)return _cornerRadius}),new objj_method(sel_getUid("setCornerRadius:"),function(a,c,b){with(a){if(b===_cornerRadius)return;_cornerRadius=b;objj_msgSend(a,"setNeedsDisplay:",YES)}}),
new objj_method(sel_getUid("fillColor"),function(a){with(a)return _fillColor}),new objj_method(sel_getUid("setFillColor:"),function(a,c,b){with(a){if(objj_msgSend(b,"isEqual:",_fillColor))return;_fillColor=b;objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("contentView"),function(a){with(a)return _contentView}),new objj_method(sel_getUid("setContentView:"),function(a,c,b){with(a){if(b===_contentView)return;objj_msgSend(b,"setFrame:",CGRectInset(objj_msgSend(a,"bounds"),_contentMargin.width+
_borderWidth,_contentMargin.height+_borderWidth));objj_msgSend(b,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);objj_msgSend(a,"replaceSubview:with:",_contentView,b);_contentView=b}}),new objj_method(sel_getUid("contentViewMargins"),function(a){with(a)return _contentMargin}),new objj_method(sel_getUid("setContentViewMargins:"),function(a,c,b){with(a)(b.width<0||b.height<0)&&objj_msgSend(CPException,"raise:reason:",CPGenericException,"Margins must be positive"),_contentMargin=CGSizeMakeCopy(b),
objj_msgSend(a,"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("setFrameFromContentFrame:"),function(a,c,b){with(a)objj_msgSend(a,"setFrame:",CGRectInset(b,-(_contentMargin.width+_borderWidth),-(_contentMargin.height+_borderWidth))),objj_msgSend(a,"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("sizeToFit"),function(a){with(a){var c=objj_msgSend(_contentView,"frame");objj_msgSend(a,"setFrameSize:",CGSizeMake(c.size.width+_contentMargin.width*2,c.size.height+_contentMargin.height*2));objj_msgSend(_contentView,
"setFrameOrigin:",CGPointMake(_contentMargin.width,_contentMargin.height))}}),new objj_method(sel_getUid("drawRect:"),function(a){with(a){if(_borderType===CPNoBorder)return;var c=objj_msgSend(a,"bounds");switch(_boxType){case CPBoxSeparator:if(CGRectGetWidth(c)===5)return objj_msgSend(a,"_drawVerticalSeperatorInRect:",c);else if(CGRectGetHeight(c)===5)return objj_msgSend(a,"_drawHorizontalSeperatorInRect:",c)}switch(_borderType){case CPBezelBorder:objj_msgSend(a,"_drawBezelBorderInRect:",c);break;
default:case CPLineBorder:objj_msgSend(a,"_drawLineBorderInRect:",c)}}}),new objj_method(sel_getUid("_drawHorizontalSeperatorInRect:"),function(a,c,b){with(a)c=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort"),CGContextSetStrokeColor(c,objj_msgSend(a,"borderColor")),CGContextSetLineWidth(c,1),CGContextMoveToPoint(c,CGRectGetMinX(b),CGRectGetMinY(b)+0.5),CGContextAddLineToPoint(c,CGRectGetWidth(b),CGRectGetMinY(b)+0.5),CGContextStrokePath(c)}),new objj_method(sel_getUid("_drawVerticalSeperatorInRect:"),
function(a,c,b){with(a)c=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort"),CGContextSetStrokeColor(c,objj_msgSend(a,"borderColor")),CGContextSetLineWidth(c,1),CGContextMoveToPoint(c,CGRectGetMinX(b)+0.5,CGRectGetMinY(b)),CGContextAddLineToPoint(c,CGRectGetMinX(b)+0.5,CGRectGetHeight(b)),CGContextStrokePath(c)}),new objj_method(sel_getUid("_drawBezelBorderInRect:"),function(a,c,b){with(a){c=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");var e=
[CPMinYEdge,CPMaxXEdge,CPMaxYEdge,CPMinXEdge],d=190/255;d=[142/255,d,d,d];for(var f=_borderWidth;f--;)b=CPDrawTiledRects(b,b,e,d);CGContextSetFillColor(c,objj_msgSend(a,"fillColor"));CGContextFillRect(c,b)}}),new objj_method(sel_getUid("_drawLineBorderInRect:"),function(a,c,b){with(a)c=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort"),b=CGRectInset(b,_borderWidth/2,_borderWidth/2),CGContextSetFillColor(c,objj_msgSend(a,"fillColor")),CGContextSetStrokeColor(c,objj_msgSend(a,
"borderColor")),CGContextSetLineWidth(c,_borderWidth),CGContextFillRoundedRectangleInRect(c,b,_cornerRadius,YES,YES,YES,YES),CGContextStrokeRoundedRectangleInRect(c,b,_cornerRadius,YES,YES,YES,YES)})]);class_addMethods(d,[new objj_method(sel_getUid("boxEnclosingView:"),function(a,c,b){with(a)return a=objj_msgSend(objj_msgSend(a,"alloc"),"initWithFrame:",CGRectMakeZero()),c=objj_msgSend(b,"superview"),objj_msgSend(a,"setFrameFromContentFrame:",objj_msgSend(b,"frame")),objj_msgSend(c,"replaceSubview:with:",
b,a),objj_msgSend(a,"setContentView:",b),a})]);f=objj_getClass("CPBox");if(!f)throw new SyntaxError('*** Could not find definition for class "CPBox"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(a,c,b){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPBox").super_class},"initWithCoder:",b))_boxType=objj_msgSend(b,"decodeIntForKey:","CPBoxTypeKey"),_borderType=objj_msgSend(b,"decodeIntForKey:","CPBoxBorderTypeKey"),_borderColor=objj_msgSend(b,
"decodeObjectForKey:","CPBoxBorderColorKey"),_fillColor=objj_msgSend(b,"decodeObjectForKey:","CPBoxFillColorKey"),_cornerRadius=objj_msgSend(b,"decodeFloatForKey:","CPBoxCornerRadiusKey"),_borderWidth=objj_msgSend(b,"decodeFloatForKey:","CPBoxBorderWidthKey"),_contentMargin=objj_msgSend(b,"decodeSizeForKey:","CPBoxContentMarginKey"),_contentView=objj_msgSend(a,"subviews")[0],objj_msgSend(a,"setAutoresizesSubviews:",YES),objj_msgSend(_contentView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,c,b){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPBox").super_class},"encodeWithCoder:",b),objj_msgSend(b,"encodeInt:forKey:",_boxType,"CPBoxTypeKey"),objj_msgSend(b,"encodeInt:forKey:",_borderType,"CPBoxBorderTypeKey"),objj_msgSend(b,"encodeObject:forKey:",_borderColor,"CPBoxBorderColorKey"),objj_msgSend(b,"encodeObject:forKey:",_fillColor,"CPBoxFillColorKey"),objj_msgSend(b,"encodeFloat:forKey:",_cornerRadius,
"CPBoxCornerRadiusKey"),objj_msgSend(b,"encodeFloat:forKey:",_borderWidth,"CPBoxBorderWidthKey"),objj_msgSend(b,"encodeSize:forKey:",_contentMargin,"CPBoxContentMarginKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CGPath.j",baseURL),function(j,h){h("CGGeometry.j",YES);h("CGAffineTransform.j",YES);kCGPathElementMoveToPoint=0;kCGPathElementAddLineToPoint=1;kCGPathElementAddQuadCurveToPoint=2;kCGPathElementAddCurveToPoint=3;kCGPathElementCloseSubpath=4;kCGPathElementAddArc=5;kCGPathElementAddArcToPoint=6;CGPathCreateMutable=function(){return{count:0,start:NULL,current:NULL,elements:[]}};CGPathCreateMutableCopy=function(d){var a=CGPathCreateMutable();
CGPathAddPath(a,d);return a};CGPathCreateCopy=function(d){return CGPathCreateMutableCopy(d)};CGPathRelease=function(){};CGPathRetain=function(d){return d};CGPathAddArc=function(d,a,c,b,e,g,f){if(a&&!(a.a==1&&a.b==0&&a.c==0&&a.d==1&&a.tx==0&&a.ty==0)){b={x:c,y:b};var h={x:COS(f),y:SIN(f)},i={x:COS(g),y:SIN(g)};h={x:h.x*a.a+h.y*a.c+a.tx,y:h.x*a.b+h.y*a.d+a.ty};i={x:i.x*a.a+i.y*a.c+a.tx,y:i.x*a.b+i.y*a.d+a.ty};b={x:b.x*a.a+b.y*a.c+a.tx,y:b.x*a.b+b.y*a.d+a.ty};c=b.x;b=b.y;var k=f,j=g;f=ATAN2(h.y-a.ty,
h.x-a.tx);g=ATAN2(i.y-a.ty,i.x-a.tx);f==g&&k!=j&&(j>k?f-=PI2:g-=PI2);e={width:e,height:0};e={width:e.width*a.a+e.height*a.c,height:e.width*a.b+e.height*a.d};e=SQRT(e.width*e.width+e.height*e.height)}d.current={x:c+e*COS(f),y:b+e*SIN(f)};d.elements[d.count++]={type:kCGPathElementAddArc,x:c,y:b,radius:e,startAngle:g,endAngle:f}};CGPathAddArcToPoint=function(){};CGPathAddCurveToPoint=function(d,a,c,b,e,g,f,h){c={x:c,y:b};e={x:e,y:g};f={x:f,y:h};a&&(c={x:c.x*a.a+c.y*a.c+a.tx,y:c.x*a.b+c.y*a.d+a.ty},e=
{x:e.x*a.a+e.y*a.c+a.tx,y:e.x*a.b+e.y*a.d+a.ty},f={x:f.x*a.a+f.y*a.c+a.tx,y:f.x*a.b+f.y*a.d+a.ty});d.current=f;d.elements[d.count++]={type:kCGPathElementAddCurveToPoint,cp1x:c.x,cp1y:c.y,cp2x:e.x,cp2y:e.y,x:f.x,y:f.y}};CGPathAddLines=function(d,a,c,b){var e=1;if(b===NULL)b=c.length;if(d&&!(b<2))for(CGPathMoveToPoint(d,a,c[0].x,c[0].y);e<b;++e)CGPathAddLineToPoint(d,a,c[e].x,c[e].y)};CGPathAddLineToPoint=function(d,a,c,b){c={x:c,y:b};a!=NULL&&(c={x:c.x*a.a+c.y*a.c+a.tx,y:c.x*a.b+c.y*a.d+a.ty});d.elements[d.count++]=
{type:kCGPathElementAddLineToPoint,x:c.x,y:c.y};d.current=c};CGPathAddPath=function(d,a,c){for(var b=0,e=c.count;b<e;++b){var g=c.elements[b];switch(g.type){case kCGPathElementAddLineToPoint:CGPathAddLineToPoint(d,a,g.x,g.y);break;case kCGPathElementAddCurveToPoint:CGPathAddCurveToPoint(d,a,g.cp1x,g.cp1y,g.cp2x,g.cp2y,g.x,g.y);break;case kCGPathElementAddArc:CGPathAddArc(d,a,g.x,g.y,g.radius,g.startAngle,g.endAngle,g.isClockwise);break;case kCGPathElementAddQuadCurveToPoint:CGPathAddQuadCurveToPoint(d,
a,g.cpx,g.cpy,g.x,g.y);break;case kCGPathElementMoveToPoint:CGPathMoveToPoint(d,a,g.x,g.y);break;case kCGPathElementCloseSubpath:CGPathCloseSubpath(d)}}};CGPathAddQuadCurveToPoint=function(d,a,c,b,e,g){c={x:c,y:b};e={x:e,y:g};a&&(c={x:c.x*a.a+c.y*a.c+a.tx,y:c.x*a.b+c.y*a.d+a.ty},e={x:e.x*a.a+e.y*a.c+a.tx,y:e.x*a.b+e.y*a.d+a.ty});d.elements[d.count++]={type:kCGPathElementAddQuadCurveToPoint,cpx:c.x,cpy:c.y,x:e.x,y:e.y};d.current=e};CGPathAddRect=function(d,a,c){CGPathAddRects(d,a,[c],1)};CGPathAddRects=
function(d,a,c,b){var e=0;if(b===NULL)b=c.length;for(;e<b;++e){var g=c[e];CGPathMoveToPoint(d,a,g.origin.x,g.origin.y);CGPathAddLineToPoint(d,a,g.origin.x+g.size.width,g.origin.y);CGPathAddLineToPoint(d,a,g.origin.x+g.size.width,g.origin.y+g.size.height);CGPathAddLineToPoint(d,a,g.origin.x,g.origin.y+g.size.height);CGPathCloseSubpath(d)}};CGPathMoveToPoint=function(d,a,c,b){c={x:c,y:b};b=d.count;a!=NULL&&(c={x:c.x*a.a+c.y*a.c+a.tx,y:c.x*a.b+c.y*a.d+a.ty});d.start=c;d.current=c;a=d.elements[b-1];b!=
0&&a.type==kCGPathElementMoveToPoint?(a.x=c.x,a.y=c.y):d.elements[d.count++]={type:kCGPathElementMoveToPoint,x:c.x,y:c.y}};var f=4*((SQRT2-1)/3);CGPathWithEllipseInRect=function(d){var a=CGPathCreateMutable();if(d.size.width==d.size.height)CGPathAddArc(a,nil,d.origin.x+d.size.width/2,d.origin.y+d.size.height/2,d.size.width/2,0,2*PI,YES);else{var c={width:d.size.width/2,height:d.size.height/2};d={x:d.origin.x+c.width,y:d.origin.y+c.height};CGPathMoveToPoint(a,nil,d.x,d.y-c.height);CGPathAddCurveToPoint(a,
nil,d.x+f*c.width,d.y-c.height,d.x+c.width,d.y-f*c.height,d.x+c.width,d.y);CGPathAddCurveToPoint(a,nil,d.x+c.width,d.y+f*c.height,d.x+f*c.width,d.y+c.height,d.x,d.y+c.height);CGPathAddCurveToPoint(a,nil,d.x-f*c.width,d.y+c.height,d.x-c.width,d.y+f*c.height,d.x-c.width,d.y);CGPathAddCurveToPoint(a,nil,d.x-c.width,d.y-f*c.height,d.x-f*c.width,d.y-c.height,d.x,d.y-c.height)}CGPathCloseSubpath(a);return a};CGPathWithRoundedRectangleInRect=function(d,a,c,b,e,g,f){c=CGPathCreateMutable();var h=d.origin.x,
i=d.origin.x+d.size.width,k=d.origin.y;d=d.origin.y+d.size.height;CGPathMoveToPoint(c,nil,h+a,k);b?(CGPathAddLineToPoint(c,nil,i-a,k),CGPathAddCurveToPoint(c,nil,i-a,k,i,k,i,k+a)):CGPathAddLineToPoint(c,nil,i,k);e?(CGPathAddLineToPoint(c,nil,i,d-a),CGPathAddCurveToPoint(c,nil,i,d-a,i,d,i-a,d)):CGPathAddLineToPoint(c,nil,i,d);g?(CGPathAddLineToPoint(c,nil,h+a,d),CGPathAddCurveToPoint(c,nil,h+a,d,h,d,h,d-a)):CGPathAddLineToPoint(c,nil,h,d);f?(CGPathAddLineToPoint(c,nil,h,k+a),CGPathAddCurveToPoint(c,
nil,h,k+a,h,k,h+a,k)):CGPathAddLineToPoint(c,nil,h,k);CGPathCloseSubpath(c);return c};CGPathCloseSubpath=function(d){var a=d.count;a==0||d.elements[a-1].type==kCGPathElementCloseSubpath||(d.elements[d.count++]={type:kCGPathElementCloseSubpath,points:[d.start]})};CGPathEqualToPath=function(d,a){if(d==a)return YES;if(d.count!=a.count||!(d.start.x==a.start.x&&d.start.y==a.start.y)||!(d.current.x==a.current.x&&d.current.y==a.current.y))return NO;for(var c=0,b=d.count;c<b;++c){var e=d[c],g=a[c];if(e.type!=
g.type)return NO;if((e.type==kCGPathElementAddArc||e.type==kCGPathElementAddArcToPoint)&&e.radius!=g.radius)return NO;for(var f=e.points.length;f--;)if(!(e.points[f].x==g.points[f].x&&e.points[f].y==g.points[f].y))return NO}return YES};CGPathGetCurrentPoint=function(d){return{x:d.current.x,y:d.current.y}};CGPathIsEmpty=function(d){return!d||d.count==0}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPCursor.j",baseURL),function(j,h){h("Foundation/CPObject.j",NO);var f=nil,d=[],a={},c=objj_allocateClassPair(CPObject,"CPCursor"),b=c.isa;class_addIvars(c,[new objj_ivar("_cssString"),new objj_ivar("_hotSpot"),new objj_ivar("_image"),new objj_ivar("_isSetOnMouseEntered"),new objj_ivar("_isSetOnMouseExited")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("_cssString"),function(a){with(a)return _cssString}),
new objj_method(sel_getUid("hotSpot"),function(a){with(a)return _hotSpot}),new objj_method(sel_getUid("image"),function(a){with(a)return _image}),new objj_method(sel_getUid("isSetOnMouseEntered"),function(a){with(a)return _isSetOnMouseEntered}),new objj_method(sel_getUid("setOnMouseEntered:"),function(a,b,c){with(a)_isSetOnMouseEntered=c}),new objj_method(sel_getUid("isSetOnMouseExited"),function(a){with(a)return _isSetOnMouseExited}),new objj_method(sel_getUid("setOnMouseExited:"),function(a,b,c){with(a)_isSetOnMouseExited=
c}),new objj_method(sel_getUid("initWithCSSString:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPCursor").super_class},"init"))_cssString=c;return a}}),new objj_method(sel_getUid("initWithImage:hotSpot:"),function(a,b,c,d){with(a)return _hotSpot=d,_image=c,objj_msgSend(a,"initWithCSSString:","url("+objj_msgSend(_image,"filename")+")"+d.x+" "+d.y+", auto")}),new objj_method(sel_getUid("initWithImage:foregroundColorHint:backgroundColorHint:hotSpot:"),function(a,
b,c){with(a)return objj_msgSend(a,"initWithImage:hotSpot:",c,hotSpot)}),new objj_method(sel_getUid("pop"),function(a){with(a)objj_msgSend(CPCursor,"pop")}),new objj_method(sel_getUid("push"),function(a){with(a)f=d.push(a)}),new objj_method(sel_getUid("set"),function(a){with(a)f=a,objj_msgSend(objj_msgSend(a,"class"),"_setCursorCSS:",_cssString)}),new objj_method(sel_getUid("mouseEntered:"),function(a){with(a);}),new objj_method(sel_getUid("mouseExited:"),function(a){with(a);})]);class_addMethods(b,
[new objj_method(sel_getUid("hide"),function(a){with(a)objj_msgSend(a,"_setCursorCSS:","none")}),new objj_method(sel_getUid("unhide"),function(a){with(a)objj_msgSend(a,"_setCursorCSS:",objj_msgSend(f,"_cssString"))}),new objj_method(sel_getUid("setHiddenUntilMouseMoves:"),function(a,b,c){with(a)c?objj_msgSend(CPCursor,"hide"):objj_msgSend(CPCursor,"unhide")}),new objj_method(sel_getUid("pop"),function(a){with(a)d.length>1&&(d.pop(),f=d[d.length-1])}),new objj_method(sel_getUid("currentCursor"),function(a){with(a)return f}),
new objj_method(sel_getUid("_setCursorCSS:"),function(a,b,c){with(a){a=objj_msgSend(objj_msgSend(CPPlatformWindow,"visiblePlatformWindows"),"allObjects");b=0;for(var d=objj_msgSend(a,"count");b<d;b++)a[b]._DOMBodyElement.style.cursor=c}}),new objj_method(sel_getUid("_systemCursorWithName:cssString:hasImage:"),function(b,c,d,f,h){with(b)return c=a[d],typeof c==="undefined"&&(b=h?"url("+objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",b),"resourcePath")+"/CPCursor/"+d+".cur), "+f:f,c=objj_msgSend(objj_msgSend(CPCursor,
"alloc"),"initWithCSSString:",b),a[d]=c),c}),new objj_method(sel_getUid("arrowCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(b),"default",NO)}),new objj_method(sel_getUid("crosshairCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(b),"crosshair",NO)}),new objj_method(sel_getUid("IBeamCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",
CPStringFromSelector(b),"text",NO)}),new objj_method(sel_getUid("pointingHandCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(b),"pointer",NO)}),new objj_method(sel_getUid("resizeDownCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(b),"s-resize",NO)}),new objj_method(sel_getUid("resizeUpCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",
CPStringFromSelector(b),"n-resize",NO)}),new objj_method(sel_getUid("resizeLeftCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(b),"w-resize",NO)}),new objj_method(sel_getUid("resizeRightCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(b),"e-resize",NO)}),new objj_method(sel_getUid("resizeLeftRightCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,
"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(b),"col-resize",NO)}),new objj_method(sel_getUid("resizeUpDownCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(b),"row-resize",NO)}),new objj_method(sel_getUid("operationNotAllowedCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(b),"not-allowed",NO)}),new objj_method(sel_getUid("dragCopyCursor"),
function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(b),"copy",YES)}),new objj_method(sel_getUid("dragLinkCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(b),"alias",YES)}),new objj_method(sel_getUid("contextualMenuCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(b),"context-menu",YES)}),
new objj_method(sel_getUid("openHandCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(b),"move",YES)}),new objj_method(sel_getUid("closedHandCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(b),"-moz-grabbing",YES)}),new objj_method(sel_getUid("disappearingItemCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",
CPStringFromSelector(b),"auto",YES)})]);c=objj_getClass("CPCursor");if(!c)throw new SyntaxError('*** Could not find definition for class "CPCursor"');b=c.isa;class_addMethods(c,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPCursor").super_class},"init"))_cssString=objj_msgSend(c,"decodeObjectForKey:","CPCursorNameKey");return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,c){with(a)objj_msgSend(c,
"encodeObject:forKey:",_cssString,"CPCursorNameKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPNotificationCenter.j",baseURL),function(j,h){h("CPArray.j",YES);h("CPDictionary.j",YES);h("CPException.j",YES);h("CPNotification.j",YES);h("CPNull.j",YES);var f=nil,d=objj_allocateClassPair(CPObject,"CPNotificationCenter"),a=d.isa;class_addIvars(d,[new objj_ivar("_namedRegistries"),new objj_ivar("_unnamedRegistry")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("init"),function(a){with(a){if(a=
objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPNotificationCenter").super_class},"init"))_namedRegistries=objj_msgSend(CPDictionary,"dictionary"),_unnamedRegistry=objj_msgSend(objj_msgSend(_CPNotificationRegistry,"alloc"),"init");return a}}),new objj_method(sel_getUid("addObserver:selector:name:object:"),function(a,c,d,f,h,i){with(a){c=objj_msgSend(objj_msgSend(_CPNotificationObserver,"alloc"),"initWithObserver:selector:",d,f);if(h==nil)a=_unnamedRegistry;else if(!(a=objj_msgSend(_namedRegistries,
"objectForKey:",h)))a=objj_msgSend(objj_msgSend(_CPNotificationRegistry,"alloc"),"init"),objj_msgSend(_namedRegistries,"setObject:forKey:",a,h);objj_msgSend(a,"addObserver:object:",c,i)}}),new objj_method(sel_getUid("removeObserver:"),function(a,c,d){with(a){a=nil;for(c=objj_msgSend(_namedRegistries,"keyEnumerator");a=objj_msgSend(c,"nextObject");)objj_msgSend(objj_msgSend(_namedRegistries,"objectForKey:",a),"removeObserver:object:",d,nil);objj_msgSend(_unnamedRegistry,"removeObserver:object:",d,
nil)}}),new objj_method(sel_getUid("removeObserver:name:object:"),function(a,c,d,f,h){with(a)if(f==nil){a=nil;for(c=objj_msgSend(_namedRegistries,"keyEnumerator");a=objj_msgSend(c,"nextObject");)objj_msgSend(objj_msgSend(_namedRegistries,"objectForKey:",a),"removeObserver:object:",d,h);objj_msgSend(_unnamedRegistry,"removeObserver:object:",d,h)}else objj_msgSend(objj_msgSend(_namedRegistries,"objectForKey:",f),"removeObserver:object:",d,h)}),new objj_method(sel_getUid("postNotification:"),function(a,
d,g){with(a)g||objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"postNotification: does not except 'nil' notifications"),c(a,g)}),new objj_method(sel_getUid("postNotificationName:object:userInfo:"),function(a,d,g,f,h){with(a)c(a,objj_msgSend(objj_msgSend(CPNotification,"alloc"),"initWithName:object:userInfo:",g,f,h))}),new objj_method(sel_getUid("postNotificationName:object:"),function(a,d,g,f){with(a)c(a,objj_msgSend(objj_msgSend(CPNotification,"alloc"),"initWithName:object:userInfo:",
g,f,nil))})]);class_addMethods(a,[new objj_method(sel_getUid("defaultCenter"),function(a){with(a)return f||(f=objj_msgSend(objj_msgSend(CPNotificationCenter,"alloc"),"init")),f})]);var c=function(a,c){objj_msgSend(a._unnamedRegistry,"postNotification:",c);objj_msgSend(objj_msgSend(a._namedRegistries,"objectForKey:",objj_msgSend(c,"name")),"postNotification:",c)};d=objj_allocateClassPair(CPObject,"_CPNotificationRegistry");a=d.isa;class_addIvars(d,[new objj_ivar("_objectObservers"),new objj_ivar("_observerRemovalCount")]);
objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("init"),function(a){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPNotificationRegistry").super_class},"init"))_observerRemovalCount=0,_objectObservers=objj_msgSend(CPDictionary,"dictionary");return a}}),new objj_method(sel_getUid("addObserver:object:"),function(a,c,d,f){with(a)f||(f=objj_msgSend(CPNull,"null")),a=objj_msgSend(_objectObservers,"objectForKey:",objj_msgSend(f,"UID")),a||(a=[],objj_msgSend(_objectObservers,
"setObject:forKey:",a,objj_msgSend(f,"UID"))),a.push(d)}),new objj_method(sel_getUid("removeObserver:object:"),function(a,c,d,f){with(a){a=[];if(f==nil){f=nil;for(c=objj_msgSend(_objectObservers,"keyEnumerator");f=objj_msgSend(c,"nextObject");){for(var h=objj_msgSend(_objectObservers,"objectForKey:",f),i=h?h.length:0;i--;)objj_msgSend(h[i],"observer")==d&&(++_observerRemovalCount,h.splice(i,1));(!h||h.length==0)&&a.push(f)}}else{f=objj_msgSend(f,"UID");for(i=(h=objj_msgSend(_objectObservers,"objectForKey:",
f))?h.length:0;i--;)objj_msgSend(h[i],"observer")==d&&(++_observerRemovalCount,h.splice(i,1));(!h||h.length==0)&&a.push(f)}for(i=a.length;i--;)objj_msgSend(_objectObservers,"removeObjectForKey:",a[i])}}),new objj_method(sel_getUid("postNotification:"),function(a,c,d){with(a){a=_observerRemovalCount;var f=objj_msgSend(d,"object");c=nil;if(f!=nil&&(c=objj_msgSend(objj_msgSend(_objectObservers,"objectForKey:",objj_msgSend(f,"UID")),"copy"))){f=c;for(var h=c.length;h--;){var i=c[h];(a===_observerRemovalCount||
objj_msgSend(f,"indexOfObjectIdenticalTo:",i)!==CPNotFound)&&objj_msgSend(i,"postNotification:",d)}}c=objj_msgSend(objj_msgSend(_objectObservers,"objectForKey:",objj_msgSend(objj_msgSend(CPNull,"null"),"UID")),"copy");if(!c)return;a=_observerRemovalCount;h=c.length;for(f=c;h--;)i=c[h],(a===_observerRemovalCount||objj_msgSend(f,"indexOfObjectIdenticalTo:",i)!==CPNotFound)&&objj_msgSend(i,"postNotification:",d)}}),new objj_method(sel_getUid("count"),function(a){with(a)return objj_msgSend(_objectObservers,
"count")})]);d=objj_allocateClassPair(CPObject,"_CPNotificationObserver");a=d.isa;class_addIvars(d,[new objj_ivar("_observer"),new objj_ivar("_selector")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initWithObserver:selector:"),function(a,c,d,f){with(a)return a&&(_observer=d,_selector=f),a}),new objj_method(sel_getUid("observer"),function(a){with(a)return _observer}),new objj_method(sel_getUid("postNotification:"),function(a,c,d){with(a)objj_msgSend(_observer,"performSelector:withObject:",
_selector,d)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPMenuItemView.j",baseURL),function(j,h){h("AppKit/CPControl.j",NO);h("_CPMenuItemSeparatorView.j",YES);h("_CPMenuItemStandardView.j",YES);h("_CPMenuItemMenuBarView.j",YES);var f=objj_allocateClassPair(CPView,"_CPMenuItemView"),d=f.isa;class_addIvars(f,[new objj_ivar("_menuItem"),new objj_ivar("_view"),new objj_ivar("_font"),new objj_ivar("_textColor"),new objj_ivar("_textShadowColor"),new objj_ivar("_minSize"),new objj_ivar("_isDirty"),
new objj_ivar("_showsStateColumn"),new objj_ivar("_imageAndTextView"),new objj_ivar("_submenuView")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithFrame:forMenuItem:"),function(a,c,b,d){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuItemView").super_class},"initWithFrame:",b))_menuItem=d,_isDirty=_showsStateColumn=YES,objj_msgSend(a,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(a,"synchronizeWithMenuItem");return a}}),new objj_method(sel_getUid("minSize"),
function(a){with(a)return _minSize}),new objj_method(sel_getUid("setDirty"),function(a){with(a)_isDirty=YES}),new objj_method(sel_getUid("synchronizeWithMenuItem"),function(a){with(a){var c=objj_msgSend(_menuItem,"view");objj_msgSend(_menuItem,"isSeparatorItem")?objj_msgSend(_view,"isKindOfClass:",objj_msgSend(_CPMenuItemSeparatorView,"class"))||(objj_msgSend(_view,"removeFromSuperview"),_view=objj_msgSend(_CPMenuItemSeparatorView,"view")):c?_view!==c&&(objj_msgSend(_view,"removeFromSuperview"),_view=
c):(objj_msgSend(_menuItem,"menu")==objj_msgSend(CPApp,"mainMenu")?objj_msgSend(_view,"isKindOfClass:",objj_msgSend(_CPMenuItemMenuBarView,"class"))||(objj_msgSend(_view,"removeFromSuperview"),_view=objj_msgSend(_CPMenuItemMenuBarView,"view")):objj_msgSend(_view,"isKindOfClass:",objj_msgSend(_CPMenuItemStandardView,"class"))||(objj_msgSend(_view,"removeFromSuperview"),_view=objj_msgSend(_CPMenuItemStandardView,"view")),objj_msgSend(_view,"setMenuItem:",_menuItem));objj_msgSend(_view,"superview")!==
a&&objj_msgSend(a,"addSubview:",_view);objj_msgSend(_view,"respondsToSelector:",sel_getUid("update"))&&objj_msgSend(_view,"update");_minSize=objj_msgSend(_view,"frame").size;objj_msgSend(a,"setAutoresizesSubviews:",NO);objj_msgSend(a,"setFrameSize:",_minSize);objj_msgSend(a,"setAutoresizesSubviews:",YES)}}),new objj_method(sel_getUid("setShowsStateColumn:"),function(a,c,b){with(a)_showsStateColumn=b}),new objj_method(sel_getUid("highlight:"),function(a,c,b){with(a)objj_msgSend(_view,"respondsToSelector:",
sel_getUid("highlight:"))&&objj_msgSend(_view,"highlight:",b)}),new objj_method(sel_getUid("eventOnSubmenu:"),function(a,c,b){with(a){if(!objj_msgSend(_menuItem,"hasSubmenu"))return NO;return CGRectContainsPoint(objj_msgSend(_submenuView,"frame"),objj_msgSend(a,"convertPoint:fromView:",objj_msgSend(b,"locationInWindow"),nil))}}),new objj_method(sel_getUid("isHidden"),function(a){with(a)return objj_msgSend(_menuItem,"isHidden")}),new objj_method(sel_getUid("menuItem"),function(a){with(a)return _menuItem}),
new objj_method(sel_getUid("setFont:"),function(a,c,b){with(a){if(_font===b)return;_font=b;objj_msgSend(_view,"respondsToSelector:",sel_getUid("setFont:"))&&objj_msgSend(_view,"setFont:",b);objj_msgSend(a,"setDirty")}}),new objj_method(sel_getUid("setTextColor:"),function(a,c,b){with(a){if(_textColor==b)return;_textColor=b;objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(a,"textColor"));objj_msgSend(_submenuView,"setColor:",objj_msgSend(a,"textColor"))}}),new objj_method(sel_getUid("textColor"),
function(a){with(a)return nil}),new objj_method(sel_getUid("setTextShadowColor:"),function(a,c,b){with(a){if(_textShadowColor==b)return;_textShadowColor=b;objj_msgSend(_imageAndTextView,"setTextShadowColor:",objj_msgSend(a,"textShadowColor"))}}),new objj_method(sel_getUid("textShadowColor"),function(a){with(a)return objj_msgSend(_menuItem,"isEnabled")?_textShadowColor?_textShadowColor:objj_msgSend(CPColor,"colorWithWhite:alpha:",1,0.8):objj_msgSend(CPColor,"colorWithWhite:alpha:",0.8,0.8)})]);class_addMethods(d,
[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!=objj_msgSend(_CPMenuItemView,"class"))return;objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",95/255,131/255,185/255,1);objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",26/255,73/255,109/255,1);a=objj_msgSend(CPBundle,"bundleForClass:",a);objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPMenuItem/CPMenuItemOnState.png"),CGSizeMake(14,14));objj_msgSend(objj_msgSend(CPImage,
"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPMenuItem/CPMenuItemOnStateHighlighted.png"),CGSizeMake(14,14))}}),new objj_method(sel_getUid("leftMargin"),function(a){with(a)return 17})]);f=objj_allocateClassPair(CPView,"_CPMenuItemArrowView");d=f.isa;class_addIvars(f,[new objj_ivar("_color")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("setColor:"),function(a,c,b){with(a){if(_color==b)return;_color=b;objj_msgSend(a,"setNeedsDisplay:",YES)}}),
new objj_method(sel_getUid("drawRect:"),function(a){with(a)a=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort"),CGContextBeginPath(a),CGContextMoveToPoint(a,1,4),CGContextAddLineToPoint(a,9,4),CGContextAddLineToPoint(a,5,8),CGContextAddLineToPoint(a,1,4),CGContextClosePath(a),CGContextSetFillColor(a,_color),CGContextFillPath(a)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPAnimation.j",baseURL),function(j,h){h("Foundation/CPObject.j",NO);h("Foundation/CPTimer.j",NO);h("CAMediaTimingFunction.j",YES);CPAnimationEaseInOut=0;CPAnimationEaseIn=1;CPAnimationEaseOut=2;CPAnimationLinear=3;ACTUAL_FRAME_RATE=0;var f=objj_allocateClassPair(CPObject,"CPAnimation");class_addIvars(f,[new objj_ivar("_lastTime"),new objj_ivar("_duration"),new objj_ivar("_animationCurve"),new objj_ivar("_timingFunction"),new objj_ivar("_frameRate"),
new objj_ivar("_progress"),new objj_ivar("_delegate"),new objj_ivar("_timer")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithDuration:animationCurve:"),function(a,c,b,d){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPAnimation").super_class},"init"))_progress=0,_duration=MAX(0,b),_frameRate=60,objj_msgSend(a,"setAnimationCurve:",d);return a}}),new objj_method(sel_getUid("setAnimationCurve:"),function(a,c,b){with(a){switch(b){case CPAnimationEaseInOut:timingFunctionName=
kCAMediaTimingFunctionEaseInEaseOut;break;case CPAnimationEaseIn:timingFunctionName=kCAMediaTimingFunctionEaseIn;break;case CPAnimationEaseOut:timingFunctionName=kCAMediaTimingFunctionEaseOut;break;case CPAnimationLinear:timingFunctionName=kCAMediaTimingFunctionLinear;break;default:objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Invalid value provided for animation curve")}_animationCurve=b;_timingFunction=objj_msgSend(CAMediaTimingFunction,"functionWithName:",timingFunctionName)}}),
new objj_method(sel_getUid("animationCurve"),function(a){with(a)return _animationCurve}),new objj_method(sel_getUid("setDuration:"),function(a,c,b){with(a)b<0&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"aDuration can't be negative"),_duration=b}),new objj_method(sel_getUid("duration"),function(a){with(a)return _duration}),new objj_method(sel_getUid("setFrameRate:"),function(a,c,b){with(a)b<0&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"frameRate can't be negative"),
_frameRate=b}),new objj_method(sel_getUid("frameRate"),function(a){with(a)return _frameRate}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("setDelegate:"),function(a,c,b){with(a)_delegate=b}),new objj_method(sel_getUid("startAnimation"),function(a){with(a){if(_timer||_delegate&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("animationShouldStart:"))&&!objj_msgSend(_delegate,"animationShouldStart:",a))return;_progress===1&&(_progress=
0);ACTUAL_FRAME_RATE=0;_lastTime=new Date;_timer=objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:target:selector:userInfo:repeats:",0,a,sel_getUid("animationTimerDidFire:"),nil,YES)}}),new objj_method(sel_getUid("animationTimerDidFire:"),function(a){with(a){var c=new Date,b=MIN(1,objj_msgSend(a,"currentProgress")+(c-_lastTime)/(_duration*1E3));_lastTime=c;++ACTUAL_FRAME_RATE;objj_msgSend(a,"setCurrentProgress:",b);b===1&&(objj_msgSend(_timer,"invalidate"),_timer=nil,objj_msgSend(_delegate,"respondsToSelector:",
sel_getUid("animationDidEnd:"))&&objj_msgSend(_delegate,"animationDidEnd:",a))}}),new objj_method(sel_getUid("stopAnimation"),function(a){with(a){if(!_timer)return;objj_msgSend(_timer,"invalidate");_timer=nil;objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("animationDidStop:"))&&objj_msgSend(_delegate,"animationDidStop:",a)}}),new objj_method(sel_getUid("isAnimating"),function(a){with(a)return _timer}),new objj_method(sel_getUid("setCurrentProgress:"),function(a,c,b){with(a)_progress=b}),
new objj_method(sel_getUid("currentProgress"),function(a){with(a)return _progress}),new objj_method(sel_getUid("currentValue"),function(a){with(a){var c=objj_msgSend(a,"currentProgress");if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("animation:valueForProgress:")))return objj_msgSend(_delegate,"animation:valueForProgress:",a,c);a=[];var b=[];objj_msgSend(_timingFunction,"getControlPointAtIndex:values:",1,a);objj_msgSend(_timingFunction,"getControlPointAtIndex:values:",2,b);return d(c,
a[0],a[1],b[0],b[1],_duration)}})]);var d=d=function(a,c,b,d,f,h){var j=0,i=0,k=0,s=0,r=0,p=0;sampleCurveX=function(a){return((j*a+i)*a+k)*a};sampleCurveY=function(a){return((s*a+r)*a+p)*a};sampleCurveDerivativeX=function(a){return(3*j*a+2*i)*a+k};solveEpsilon=function(a){return 1/(200*a)};solve=function(a,b){return sampleCurveY(solveCurveX(a,b))};solveCurveX=function(a,b){var c,d,e=a,f;for(d=0;d<8;d++){f=sampleCurveX(e)-a;if(ABS(f)<b)return e;c=sampleCurveDerivativeX(e);if(ABS(c)<1.0E-6)break;e-=
f/c}c=0;d=1;e=a;if(e<c)return c;if(e>d)return d;for(;c<d;){f=sampleCurveX(e);if(ABS(f-a)<b)break;a>f?c=e:d=e;e=(d-c)*0.5+c}return e};k=3*c;i=3*(d-c)-k;j=1-k-i;p=3*b;r=3*(f-b)-p;s=1-p-r;return solve(a,solveEpsilon(h))}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPURLConnection.j",baseURL),function(j,h){h("CPData.j",YES);h("CPObject.j",YES);h("CPRunLoop.j",YES);h("CPURLRequest.j",YES);h("CPURLResponse.j",YES);var f=nil,d=objj_allocateClassPair(CPObject,"CPURLConnection"),a=d.isa;class_addIvars(d,[new objj_ivar("_request"),new objj_ivar("_delegate"),new objj_ivar("_isCanceled"),new objj_ivar("_isLocalFileConnection"),new objj_ivar("_HTTPRequest")]);objj_registerClassPair(d);class_addMethods(d,
[new objj_method(sel_getUid("initWithRequest:delegate:startImmediately:"),function(a,b,d,f,h){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPURLConnection").super_class},"init"))_request=d,_delegate=f,_isCanceled=NO,b=objj_msgSend(_request,"URL"),b=objj_msgSend(b,"scheme"),_isLocalFileConnection=b==="file"||(b==="http"||b==="https:")&&window.location&&(window.location.protocol==="file:"||window.location.protocol==="app:"),_HTTPRequest=new CFHTTPRequest,h&&objj_msgSend(a,"start");
return a}}),new objj_method(sel_getUid("initWithRequest:delegate:"),function(a,b,d,f){with(a)return objj_msgSend(a,"initWithRequest:delegate:startImmediately:",d,f,YES)}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("start"),function(a){with(a){_isCanceled=NO;try{_HTTPRequest.open(objj_msgSend(_request,"HTTPMethod"),objj_msgSend(objj_msgSend(_request,"URL"),"absoluteString"),YES);_HTTPRequest.onreadystatechange=function(){objj_msgSend(a,"_readyStateDidChange")};
for(var b=objj_msgSend(_request,"allHTTPHeaderFields"),d=nil,f=objj_msgSend(b,"keyEnumerator");d=objj_msgSend(f,"nextObject");)_HTTPRequest.setRequestHeader(d,objj_msgSend(b,"objectForKey:",d));_HTTPRequest.send(objj_msgSend(_request,"HTTPBody"))}catch(h){objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("connection:didFailWithError:"))&&objj_msgSend(_delegate,"connection:didFailWithError:",a,h)}}}),new objj_method(sel_getUid("cancel"),function(a){with(a){_isCanceled=YES;try{_HTTPRequest.abort()}catch(b){}}}),
new objj_method(sel_getUid("isLocalFileConnection"),function(a){with(a)return _isLocalFileConnection}),new objj_method(sel_getUid("_readyStateDidChange"),function(a){with(a){if(_HTTPRequest.readyState()===CFHTTPRequest.CompleteState){var b=_HTTPRequest.status(),d=objj_msgSend(_request,"URL");b===401&&objj_msgSend(f,"respondsToSelector:",sel_getUid("connectionDidReceiveAuthenticationChallenge:"))?objj_msgSend(f,"connectionDidReceiveAuthenticationChallenge:",a):(objj_msgSend(_delegate,"respondsToSelector:",
sel_getUid("connection:didReceiveResponse:"))&&(_isLocalFileConnection?objj_msgSend(_delegate,"connection:didReceiveResponse:",a,objj_msgSend(objj_msgSend(CPURLResponse,"alloc"),"initWithURL:",d)):(d=objj_msgSend(objj_msgSend(CPHTTPURLResponse,"alloc"),"initWithURL:",d),objj_msgSend(d,"_setStatusCode:",b),objj_msgSend(_delegate,"connection:didReceiveResponse:",a,d))),_isCanceled||(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("connection:didReceiveData:"))&&objj_msgSend(_delegate,"connection:didReceiveData:",
a,_HTTPRequest.responseText()),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("connectionDidFinishLoading:"))&&objj_msgSend(_delegate,"connectionDidFinishLoading:",a)))}objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode)}}),new objj_method(sel_getUid("_HTTPRequest"),function(a){with(a)return _HTTPRequest})]);class_addMethods(a,[new objj_method(sel_getUid("setClassDelegate:"),function(a,b,d){with(a)f=d}),new objj_method(sel_getUid("sendSynchronousRequest:returningResponse:"),
function(a,b,d){with(a){try{var f=new CFHTTPRequest;f.open(objj_msgSend(d,"HTTPMethod"),objj_msgSend(objj_msgSend(d,"URL"),"absoluteString"),NO);var h=objj_msgSend(d,"allHTTPHeaderFields");a=nil;for(var j=objj_msgSend(h,"keyEnumerator");a=objj_msgSend(j,"nextObject");)f.setRequestHeader(a,objj_msgSend(h,"objectForKey:",a));f.send(objj_msgSend(d,"HTTPBody"));return objj_msgSend(CPData,"dataWithRawString:",f.responseText())}catch(i){}return nil}}),new objj_method(sel_getUid("connectionWithRequest:delegate:"),
function(a,b,d,f){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithRequest:delegate:",d,f)})]);d=objj_getClass("CPURLConnection");if(!d)throw new SyntaxError('*** Could not find definition for class "CPURLConnection"');a=d.isa;class_addMethods(d,[new objj_method(sel_getUid("_XMLHTTPRequest"),function(a,b){with(a)return _CPReportLenientDeprecation(a,b,sel_getUid("_HTTPRequest")),objj_msgSend(a,"_HTTPRequest")})]);class_addMethods(a,[new objj_method(sel_getUid("sendSynchronousRequest:returningResponse:error:"),
function(a,b,d,f){with(a)return _CPReportLenientDeprecation(a,b,sel_getUid("sendSynchronousRequest:returningResponse:")),objj_msgSend(a,"sendSynchronousRequest:returningResponse:",d,f)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPClipView.j",baseURL),function(j,h){h("CPView.j",YES);var f=objj_allocateClassPair(CPView,"CPClipView");class_addIvars(f,[new objj_ivar("_documentView")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("setDocumentView:"),function(d,a,c){with(d){if(_documentView==c)return;a=objj_msgSend(CPNotificationCenter,"defaultCenter");_documentView&&(objj_msgSend(a,"removeObserver:name:object:",d,CPViewFrameDidChangeNotification,
_documentView),objj_msgSend(a,"removeObserver:name:object:",d,CPViewBoundsDidChangeNotification,_documentView),objj_msgSend(_documentView,"removeFromSuperview"));if(_documentView=c)objj_msgSend(d,"addSubview:",_documentView),objj_msgSend(_documentView,"setPostsFrameChangedNotifications:",YES),objj_msgSend(_documentView,"setPostsBoundsChangedNotifications:",YES),objj_msgSend(a,"addObserver:selector:name:object:",d,sel_getUid("viewFrameChanged:"),CPViewFrameDidChangeNotification,_documentView),objj_msgSend(a,
"addObserver:selector:name:object:",d,sel_getUid("viewBoundsChanged:"),CPViewBoundsDidChangeNotification,_documentView)}}),new objj_method(sel_getUid("documentView"),function(d){with(d)return _documentView}),new objj_method(sel_getUid("constrainScrollPoint:"),function(d,a,c){with(d){if(!_documentView)return{x:0,y:0};d=objj_msgSend(_documentView,"frame");c.x=MAX(0,MIN(c.x,MAX(d.size.width-_bounds.size.width,0)));c.y=MAX(0,MIN(c.y,MAX(d.size.height-_bounds.size.height,0)));return c}}),new objj_method(sel_getUid("setBoundsOrigin:"),
function(d,a,c){with(d){if(_bounds.origin.x==c.x&&_bounds.origin.y==c.y)return;objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPClipView").super_class},"setBoundsOrigin:",c);a=objj_msgSend(d,"superview");c=objj_getClass("CPScrollView");objj_msgSend(a,"isKindOfClass:",c)&&objj_msgSend(a,"reflectScrolledClipView:",d)}}),new objj_method(sel_getUid("scrollToPoint:"),function(d,a,c){with(d)objj_msgSend(d,"setBoundsOrigin:",objj_msgSend(d,"constrainScrollPoint:",c))}),new objj_method(sel_getUid("viewBoundsChanged:"),
function(d){with(d)objj_msgSend(d,"_constrainScrollPoint")}),new objj_method(sel_getUid("viewFrameChanged:"),function(d){with(d)objj_msgSend(d,"_constrainScrollPoint")}),new objj_method(sel_getUid("resizeSubviewsWithOldSize:"),function(d,a,c){with(d)objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPClipView").super_class},"resizeSubviewsWithOldSize:",c),objj_msgSend(d,"_constrainScrollPoint")}),new objj_method(sel_getUid("_constrainScrollPoint"),function(d){with(d){var a=objj_msgSend(d,"bounds").origin;
objj_msgSend(d,"scrollToPoint:",a);if(!CGPointEqualToPoint(a,objj_msgSend(d,"bounds").origin))return;a=objj_msgSend(d,"superview");var c=objj_getClass("CPScrollView");objj_msgSend(a,"isKindOfClass:",c)&&objj_msgSend(a,"reflectScrolledClipView:",d)}}),new objj_method(sel_getUid("autoscroll:"),function(d,a,c){with(d){a=objj_msgSend(d,"bounds");c=objj_msgSend(d,"convertPoint:fromView:",objj_msgSend(c,"locationInWindow"),nil);var b=objj_msgSend(d,"superview"),e=0,f=0;if(CGRectContainsPoint(a,c))return NO;
if(!objj_msgSend(b,"isKindOfClass:",objj_msgSend(CPScrollView,"class"))||objj_msgSend(b,"hasVerticalScroller"))if(c.y<CGRectGetMinY(a)?f=CGRectGetMinY(a)-c.y:c.y>CGRectGetMaxY(a)&&(f=CGRectGetMaxY(a)-c.y),f<-a.size.height&&(f=-a.size.height),f>a.size.height)f=a.size.height;if(!objj_msgSend(b,"isKindOfClass:",objj_msgSend(CPScrollView,"class"))||objj_msgSend(b,"hasHorizontalScroller"))if(c.x<CGRectGetMinX(a)?e=CGRectGetMinX(a)-c.x:c.x>CGRectGetMaxX(a)&&(e=CGRectGetMaxX(a)-c.x),e<-a.size.width&&(e=
-a.size.width),e>a.size.width)e=a.size.width;return objj_msgSend(d,"scrollToPoint:",CGPointMake(a.origin.x-e,a.origin.y-f))}})]);f=objj_getClass("CPClipView");if(!f)throw new SyntaxError('*** Could not find definition for class "CPClipView"');class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(d,a,c){with(d)return(d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPClipView").super_class},"initWithCoder:",c))&&objj_msgSend(d,"setDocumentView:",objj_msgSend(c,"decodeObjectForKey:",
"CPScrollViewDocumentView")),d}),new objj_method(sel_getUid("encodeWithCoder:"),function(d,a,c){with(d)objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPClipView").super_class},"encodeWithCoder:",c),objj_msgSend(c,"encodeObject:forKey:",_documentView,"CPScrollViewDocumentView")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPPlatformString.j",baseURL),function(j,h){h("Foundation/CPObject.j",NO);var f=objj_allocateClassPair(CPObject,"CPBasePlatformString"),d=f.isa;objj_registerClassPair(f);class_addMethods(d,[new objj_method(sel_getUid("bootstrap"),function(a){with(a);}),new objj_method(sel_getUid("sizeOfString:withFont:forWidth:"),function(a){with(a)return{width:0,height:0}})]);var a=nil,c=nil,b=nil,e=nil,g=nil,n=nil,l=nil,i=nil;f=objj_allocateClassPair(CPBasePlatformString,
"CPPlatformString");d=f.isa;objj_registerClassPair(f);class_addMethods(d,[new objj_method(sel_getUid("bootstrap"),function(a){with(a)objj_msgSend(a,"createDOMElements")}),new objj_method(sel_getUid("createDOMElements"),function(b){with(b){n=document.createElement("iframe");n.name="iframe_"+FLOOR(RAND()*1E4);n.className="cpdontremove";b=n.style;b.position="absolute";b.left="-100px";b.top="-100px";b.width="1px";b.height="1px";b.borderWidth="0px";b.overflow="hidden";b.zIndex=1E11;objj_msgSend(CPPlatform,
"mainBodyElement").appendChild(n);l=n.contentDocument||n.contentWindow.document;l.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head></head><body></body></html>');l.close();var d=l.createElement("div");d.style.position="absolute";d.style.width="100000px";l.body.appendChild(d);c=l.createElement("span");b=c.style;b.position="absolute";b.visibility="visible";b.padding=
"0px";b.margin="0px";b.whiteSpace="pre";a=l.createElement("span");b=a.style;b.display="block";b.position="absolute";b.visibility="visible";b.padding="0px";b.margin="0px";b.width="1px";b.wordWrap="break-word";try{b.whiteSpace="pre",b.whiteSpace="-o-pre-wrap",b.whiteSpace="-pre-wrap",b.whiteSpace="-moz-pre-wrap",b.whiteSpace="pre-wrap"}catch(e){b.whiteSpace="pre"}d.appendChild(c);d.appendChild(a)}}),new objj_method(sel_getUid("createDOMMetricsElements"),function(a){with(a)n||objj_msgSend(a,"createDOMElements"),
b=l.createElement("div"),b.style.position="absolute",b.style.width="100000px",l.body.appendChild(b),e=l.createElement("span"),e.innerHTML="x",a=e.style,a.position="absolute",a.visibility="visible",a.padding="0px",a.margin="0px",a.whiteSpace="pre",a=objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPView,"class")),"pathForResource:","empty.png"),g=l.createElement("img"),g.setAttribute("src",a),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("alt",""),a=g.style,
a.visibility="visible",a.padding="0px",a.margin="0px",a.border="none",a.verticalAlign="baseline",b.appendChild(e),b.appendChild(g)}),new objj_method(sel_getUid("sizeOfString:withFont:forWidth:"),function(b,d,e,f,g){with(b){f||(i||(i=objj_msgSend(CPFont,"systemFontOfSize:",12)),f=i);n||objj_msgSend(b,"createDOMElements");g?(b=a,b.style.width=ROUND(g)+"px"):b=c;b.style.font=objj_msgSend(f,"cssString");if(CPFeatureIsCompatible(CPJavaScriptInnerTextFeature))b.innerText=e;else if(CPFeatureIsCompatible(CPJavaScriptTextContentFeature))b.textContent=
e;return{width:b.clientWidth,height:b.clientHeight}}}),new objj_method(sel_getUid("metricsOfFont:"),function(a,c,d){with(a)return d||(i||(i=objj_msgSend(CPFont,"systemFontOfSize:",12)),d=i),b||objj_msgSend(a,"createDOMMetricsElements"),b.style.font=objj_msgSend(d,"cssString"),a=g.offsetTop-e.offsetTop+g.offsetHeight,objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",a,"ascender",a-e.offsetHeight,"descender",e.offsetHeight,"lineHeight")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPData.j",baseURL),function(j,h){h("CPObject.j",YES);h("CPString.j",YES);var f=objj_allocateClassPair(CPObject,"CPData"),d=f.isa;objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithRawString:"),function(a,c,b){with(a)return(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPData").super_class},"init"))&&objj_msgSend(a,"setRawString:",b),a}),new objj_method(sel_getUid("initWithPlistObject:"),
function(a,c,b){with(a)return(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPData").super_class},"init"))&&objj_msgSend(a,"setPlistObject:",b),a}),new objj_method(sel_getUid("initWithPlistObject:format:"),function(a,c,b,d){with(a)return(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPData").super_class},"init"))&&objj_msgSend(a,"setPlistObject:format:",b,d),a}),new objj_method(sel_getUid("initWithJSONObject:"),function(a,c,b){with(a)return(a=objj_msgSendSuper({receiver:a,
super_class:objj_getClass("CPData").super_class},"init"))&&objj_msgSend(a,"setJSONObject:",b),a}),new objj_method(sel_getUid("rawString"),function(a){with(a)return a.rawString()}),new objj_method(sel_getUid("plistObject"),function(a){with(a)return a.propertyList()}),new objj_method(sel_getUid("JSONObject"),function(a){with(a)return a.JSONObject()}),new objj_method(sel_getUid("length"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"rawString"),"length")}),new objj_method(sel_getUid("description"),
function(a){with(a)return a.toString()})]);class_addMethods(d,[new objj_method(sel_getUid("alloc"),function(a){with(a){var c=new CFMutableData;c.isa=objj_msgSend(a,"class");return c}}),new objj_method(sel_getUid("data"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"init")}),new objj_method(sel_getUid("dataWithRawString:"),function(a,c,b){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithRawString:",b)}),new objj_method(sel_getUid("dataWithPlistObject:"),function(a,c,b){with(a)return objj_msgSend(objj_msgSend(a,
"alloc"),"initWithPlistObject:",b)}),new objj_method(sel_getUid("dataWithPlistObject:format:"),function(a,c,b,d){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithPlistObject:format:",b,d)}),new objj_method(sel_getUid("dataWithJSONObject:"),function(a,c,b){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithJSONObject:",b)})]);f=objj_getClass("CPData");if(!f)throw new SyntaxError('*** Could not find definition for class "CPData"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("setRawString:"),
function(a,c,b){with(a)a.setRawString(b)}),new objj_method(sel_getUid("setPlistObject:"),function(a,c,b){with(a)a.setPropertyList(b)}),new objj_method(sel_getUid("setPlistObject:format:"),function(a,c,b,d){with(a)a.setPropertyList(b,d)}),new objj_method(sel_getUid("setJSONObject:"),function(a,c,b){with(a)a.setJSONObject(b)})]);f=objj_getClass("CPData");if(!f)throw new SyntaxError('*** Could not find definition for class "CPData"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithString:"),
function(a,c,b){with(a)return _CPReportLenientDeprecation(a,c,sel_getUid("initWithRawString:")),objj_msgSend(a,"initWithRawString:",b)}),new objj_method(sel_getUid("setString:"),function(a,c,b){with(a)_CPReportLenientDeprecation(a,c,sel_getUid("setRawString:")),objj_msgSend(a,"setRawString:",b)}),new objj_method(sel_getUid("string"),function(a,c){with(a)return _CPReportLenientDeprecation(a,c,sel_getUid("rawString")),objj_msgSend(a,"rawString")})]);class_addMethods(d,[new objj_method(sel_getUid("dataWithString:"),
function(a,c,b){with(a)return _CPReportLenientDeprecation(a,c,sel_getUid("dataWithRawString:")),objj_msgSend(a,"dataWithRawString:",b)})]);CFData.prototype.isa=CPData;CFMutableData.prototype.isa=CPData});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPBundle.j",baseURL),function(j,h){h("CPDictionary.j",YES);h("CPNotification.j",YES);h("CPNotificationCenter.j",YES);h("CPObject.j",YES);CPBundleDidLoadNotification="CPBundleDidLoadNotification";var f={},d=objj_allocateClassPair(CPObject,"CPBundle"),a=d.isa;class_addIvars(d,[new objj_ivar("_bundle"),new objj_ivar("_delegate")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initWithURL:"),function(a,
b,d){with(a){d=new CFURL(d);b=d.absoluteString();var g=f[b];if(g)return g;if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPBundle").super_class},"init"))_bundle=new CFBundle(d),f[b]=a;return a}}),new objj_method(sel_getUid("initWithPath:"),function(a,b,d){with(a)return objj_msgSend(a,"initWithURL:",d)}),new objj_method(sel_getUid("classNamed:"),function(a){with(a);}),new objj_method(sel_getUid("bundleURL"),function(a){with(a)return _bundle.bundleURL()}),new objj_method(sel_getUid("bundlePath"),
function(a){with(a)return objj_msgSend(objj_msgSend(a,"bundleURL"),"path")}),new objj_method(sel_getUid("resourcePath"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"resourceURL"),"path")}),new objj_method(sel_getUid("resourceURL"),function(a){with(a)return _bundle.resourcesDirectoryURL()}),new objj_method(sel_getUid("principalClass"),function(a){with(a)return(a=objj_msgSend(a,"objectForInfoDictionaryKey:","CPPrincipalClass"))?CPClassFromString(a):Nil}),new objj_method(sel_getUid("bundleIdentifier"),
function(a){with(a)return objj_msgSend(a,"objectForInfoDictionaryKey:","CPBundleIdentifier")}),new objj_method(sel_getUid("isLoaded"),function(a){with(a)return _bundle.isLoaded()}),new objj_method(sel_getUid("pathForResource:"),function(a,b,d){with(a)return _bundle.pathForResource(d)}),new objj_method(sel_getUid("infoDictionary"),function(a){with(a)return _bundle.infoDictionary()}),new objj_method(sel_getUid("objectForInfoDictionaryKey:"),function(a,b,d){with(a)return _bundle.valueForInfoDictionaryKey(d)}),
new objj_method(sel_getUid("loadWithDelegate:"),function(a,b,d){with(a)_delegate=d,_bundle.addEventListener("load",function(){objj_msgSend(_delegate,"bundleDidFinishLoading:",a);objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPBundleDidLoadNotification,a,nil)}),_bundle.addEventListener("error",function(){CPLog.error("Could not find bundle: "+a)}),_bundle.load(YES)}),new objj_method(sel_getUid("staticResourceURLs"),function(a){with(a){a=[];for(var b=
_bundle.staticResources(),d=0,f=objj_msgSend(b,"count");d<f;++d)objj_msgSend(a,"addObject:",b[d].URL());return a}}),new objj_method(sel_getUid("environments"),function(a){with(a)return _bundle.environments()}),new objj_method(sel_getUid("mostEligibleEnvironment"),function(a){with(a)return _bundle.mostEligibleEnvironment()}),new objj_method(sel_getUid("description"),function(a){with(a)return objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPBundle").super_class},"description")+"("+objj_msgSend(a,
"bundlePath")+")"})]);class_addMethods(a,[new objj_method(sel_getUid("bundleWithURL:"),function(a,b,d){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithURL:",d)}),new objj_method(sel_getUid("bundleWithPath:"),function(a,b,d){with(a)return objj_msgSend(a,"bundleWithURL:",d)}),new objj_method(sel_getUid("bundleForClass:"),function(a,b,d){with(a)return objj_msgSend(a,"bundleWithURL:",CFBundle.bundleForClass(d).bundleURL())}),new objj_method(sel_getUid("mainBundle"),function(a){with(a)return objj_msgSend(CPBundle,
"bundleWithPath:",CFBundle.mainBundle().bundleURL())})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPProxy.j",baseURL),function(j,h){h("CPException.j",YES);h("CPInvocation.j",YES);h("CPObject.j",YES);h("CPString.j",YES);var f=objj_allocateClassPair(Nil,"CPProxy"),d=f.isa;objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("methodSignatureForSelector:"),function(a){with(a)objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"-methodSignatureForSelector: called on abstract CPProxy class.")}),new objj_method(sel_getUid("forwardInvocation:"),
function(a){with(a)objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"-forwardInvocation: called on abstract CPProxy class.")}),new objj_method(sel_getUid("forward::"),function(a,c,b,d){with(a)return objj_msgSend(CPObject,"methodForSelector:",c)(a,c,b,d)}),new objj_method(sel_getUid("hash"),function(a){with(a)return objj_msgSend(a,"UID")}),new objj_method(sel_getUid("UID"),function(a){with(a){if(typeof a._UID==="undefined")a._UID=objj_generateObjectUID();return _UID}}),new objj_method(sel_getUid("isEqual:"),
function(a){with(a)return a===object}),new objj_method(sel_getUid("self"),function(a){with(a)return a}),new objj_method(sel_getUid("class"),function(a){with(a)return isa}),new objj_method(sel_getUid("superclass"),function(a){with(a)return class_getSuperclass(isa)}),new objj_method(sel_getUid("performSelector:"),function(a,c,b){with(a)return objj_msgSend(a,b)}),new objj_method(sel_getUid("performSelector:withObject:"),function(a,c,b,d){with(a)return objj_msgSend(a,b,d)}),new objj_method(sel_getUid("performSelector:withObject:withObject:"),
function(a,c,b,d,f){with(a)return objj_msgSend(a,b,d,f)}),new objj_method(sel_getUid("isProxy"),function(a){with(a)return YES}),new objj_method(sel_getUid("isKindOfClass:"),function(a,c){with(a){var b=objj_msgSend(a,"methodSignatureForSelector:",c);b=objj_msgSend(CPInvocation,"invocationWithMethodSignature:",b);objj_msgSend(a,"forwardInvocation:",b);return objj_msgSend(b,"returnValue")}}),new objj_method(sel_getUid("isMemberOfClass:"),function(a,c){with(a){var b=objj_msgSend(a,"methodSignatureForSelector:",
c);b=objj_msgSend(CPInvocation,"invocationWithMethodSignature:",b);objj_msgSend(a,"forwardInvocation:",b);return objj_msgSend(b,"returnValue")}}),new objj_method(sel_getUid("respondsToSelector:"),function(a,c){with(a){var b=objj_msgSend(a,"methodSignatureForSelector:",c);b=objj_msgSend(CPInvocation,"invocationWithMethodSignature:",b);objj_msgSend(a,"forwardInvocation:",b);return objj_msgSend(b,"returnValue")}}),new objj_method(sel_getUid("description"),function(a){with(a)return"<"+class_getName(isa)+
" 0x"+objj_msgSend(CPString,"stringWithHash:",objj_msgSend(a,"UID"))+">"})]);class_addMethods(d,[new objj_method(sel_getUid("load"),function(a){with(a);}),new objj_method(sel_getUid("initialize"),function(a){with(a);}),new objj_method(sel_getUid("class"),function(a){with(a)return a}),new objj_method(sel_getUid("alloc"),function(a){with(a)return class_createInstance(a)}),new objj_method(sel_getUid("respondsToSelector:"),function(a){with(a)return!!class_getInstanceMethod(isa,aSelector)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPCibCustomResource.j",baseURL),function(j,h){h("Foundation/CPObject.j",NO);h("Foundation/CPString.j",NO);var f=objj_allocateClassPair(CPObject,"_CPCibCustomResource"),d=f.isa;class_addIvars(f,[new objj_ivar("_className"),new objj_ivar("_resourceName"),new objj_ivar("_properties")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithClassName:resourceName:properties:"),function(a,c,b,d,f){with(a){if(a=
objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPCibCustomResource").super_class},"init"))_className=b,_resourceName=d,_properties=f;return a}}),new objj_method(sel_getUid("initWithCoder:"),function(a,c,b){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPCibCustomResource").super_class},"init"))_className=objj_msgSend(b,"decodeObjectForKey:","_CPCibCustomResourceClassNameKey"),_resourceName=objj_msgSend(b,"decodeObjectForKey:","_CPCibCustomResourceResourceNameKey"),
_properties=objj_msgSend(b,"decodeObjectForKey:","_CPCibCustomResourcePropertiesKey");return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,c,b){with(a)objj_msgSend(b,"encodeObject:forKey:",_className,"_CPCibCustomResourceClassNameKey"),objj_msgSend(b,"encodeObject:forKey:",_resourceName,"_CPCibCustomResourceResourceNameKey"),objj_msgSend(b,"encodeObject:forKey:",_properties,"_CPCibCustomResourcePropertiesKey")}),new objj_method(sel_getUid("awakeAfterUsingCoder:"),function(a,c,b){with(a){if(objj_msgSend(b,
"respondsToSelector:",sel_getUid("bundle"))&&(!objj_msgSend(b,"respondsToSelector:",sel_getUid("awakenCustomResources"))||objj_msgSend(b,"awakenCustomResources"))&&_className==="CPImage")return objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(b,"bundle"),"pathForResource:",_resourceName),_properties.valueForKey("size"));return a}})]);class_addMethods(d,[new objj_method(sel_getUid("imageResourceWithName:size:"),function(a,c,b,d){with(a)return objj_msgSend(objj_msgSend(a,
"alloc"),"initWithClassName:resourceName:properties:","CPImage",b,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",d,"size"))})]);f=objj_getClass("_CPCibCustomResource");if(!f)throw new SyntaxError('*** Could not find definition for class "_CPCibCustomResource"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("filename"),function(a){with(a)return objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"pathForResource:",_resourceName)}),new objj_method(sel_getUid("size"),function(a){with(a)return objj_msgSend(_properties,
"objectForKey:","size")}),new objj_method(sel_getUid("isThreePartImage"),function(a){with(a)return NO}),new objj_method(sel_getUid("isNinePartImage"),function(a){with(a)return NO}),new objj_method(sel_getUid("loadStatus"),function(a){with(a)return CPImageLoadStatusCompleted}),new objj_method(sel_getUid("delegate"),function(a){with(a)return nil})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPInvocation.j",baseURL),function(j,h){h("CPObject.j",YES);var f=objj_allocateClassPair(CPObject,"CPInvocation"),d=f.isa;class_addIvars(f,[new objj_ivar("_returnValue"),new objj_ivar("_arguments"),new objj_ivar("_methodSignature")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithMethodSignature:"),function(a,c,b){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPInvocation").super_class},
"init"))_arguments=[],_methodSignature=b;return a}}),new objj_method(sel_getUid("setSelector:"),function(a,c,b){with(a)_arguments[1]=b}),new objj_method(sel_getUid("selector"),function(a){with(a)return _arguments[1]}),new objj_method(sel_getUid("setTarget:"),function(a,c,b){with(a)_arguments[0]=b}),new objj_method(sel_getUid("target"),function(a){with(a)return _arguments[0]}),new objj_method(sel_getUid("setArgument:atIndex:"),function(a,c,b,d){with(a)_arguments[d]=b}),new objj_method(sel_getUid("argumentAtIndex:"),
function(a,c,b){with(a)return _arguments[b]}),new objj_method(sel_getUid("setReturnValue:"),function(a,c,b){with(a)_returnValue=b}),new objj_method(sel_getUid("returnValue"),function(a){with(a)return _returnValue}),new objj_method(sel_getUid("invoke"),function(a){with(a)_returnValue=objj_msgSend.apply(objj_msgSend,_arguments)}),new objj_method(sel_getUid("invokeWithTarget:"),function(a,c,b){with(a)_arguments[0]=b,_returnValue=objj_msgSend.apply(objj_msgSend,_arguments)})]);class_addMethods(d,[new objj_method(sel_getUid("invocationWithMethodSignature:"),
function(a,c,b){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithMethodSignature:",b)})]);f=objj_getClass("CPInvocation");if(!f)throw new SyntaxError('*** Could not find definition for class "CPInvocation"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(a,c,b){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPInvocation").super_class},"init"))_returnValue=objj_msgSend(b,"decodeObjectForKey:","CPInvocationReturnValue"),_arguments=
objj_msgSend(b,"decodeObjectForKey:","CPInvocationArguments");return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,c,b){with(a)objj_msgSend(b,"encodeObject:forKey:",_returnValue,"CPInvocationReturnValue"),objj_msgSend(b,"encodeObject:forKey:",_arguments,"CPInvocationArguments")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPCibConnector.j",baseURL),function(j,h){h("Foundation/CPObject.j",NO);h("Foundation/CPKeyValueCoding.j",NO);var f=objj_allocateClassPair(CPObject,"CPCibConnector");class_addIvars(f,[new objj_ivar("_source"),new objj_ivar("_destination"),new objj_ivar("_label")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("source"),function(d){with(d)return _source}),new objj_method(sel_getUid("setSource:"),function(d,
a,c){with(d)_source=c}),new objj_method(sel_getUid("destination"),function(d){with(d)return _destination}),new objj_method(sel_getUid("setDestination:"),function(d,a,c){with(d)_destination=c}),new objj_method(sel_getUid("label"),function(d){with(d)return _label}),new objj_method(sel_getUid("setLabel:"),function(d,a,c){with(d)_label=c}),new objj_method(sel_getUid("replaceObject:withObject:"),function(d,a,c,b){with(d)_source===c&&(_source=b),_destination===c&&(_destination=b)}),new objj_method(sel_getUid("replaceObjects:"),
function(d,a,c){with(d)d=c[objj_msgSend(_source,"UID")],d!==void 0&&(_source=d),d=c[objj_msgSend(_destination,"UID")],d!==void 0&&(_destination=d)})]);f=objj_getClass("CPCibConnector");if(!f)throw new SyntaxError('*** Could not find definition for class "CPCibConnector"');class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(d,a,c){with(d){if(d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPCibConnector").super_class},"init"))_source=objj_msgSend(c,"decodeObjectForKey:",
"_CPCibConnectorSourceKey"),_destination=objj_msgSend(c,"decodeObjectForKey:","_CPCibConnectorDestinationKey"),_label=objj_msgSend(c,"decodeObjectForKey:","_CPCibConnectorLabelKey");return d}}),new objj_method(sel_getUid("encodeWithCoder:"),function(d,a,c){with(d)objj_msgSend(c,"encodeObject:forKey:",_source,"_CPCibConnectorSourceKey"),objj_msgSend(c,"encodeObject:forKey:",_destination,"_CPCibConnectorDestinationKey"),objj_msgSend(c,"encodeObject:forKey:",_label,"_CPCibConnectorLabelKey")})]);f=objj_allocateClassPair(CPCibConnector,
"_CPCibConnector");objj_registerClassPair(f)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/_CPConcreteMutableSet.j",baseURL),function(j,h){h("CPMutableSet.j",YES);var f=Object.prototype.hasOwnProperty,d=objj_allocateClassPair(CPMutableSet,"_CPConcreteMutableSet");class_addIvars(d,[new objj_ivar("_contents"),new objj_ivar("_count")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initWithObjects:count:"),function(a,c,b,d){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPConcreteMutableSet").super_class},
"initWithObjects:count:",b,d)){_count=0;_contents={};c=0;for(d=MIN(objj_msgSend(b,"count"),d);c<d;++c)objj_msgSend(a,"addObject:",b[c])}return a}}),new objj_method(sel_getUid("count"),function(a){with(a)return _count}),new objj_method(sel_getUid("member:"),function(a,c,b){with(a){a=objj_msgSend(b,"UID");if(!f.call(_contents,a))return nil;a=_contents[a];if(a===b||objj_msgSend(a,"isEqual:",b))return a;return nil}}),new objj_method(sel_getUid("allObjects"),function(a){with(a){a=[];for(var c in _contents)f.call(_contents,
c)&&a.push(_contents[c]);return a}}),new objj_method(sel_getUid("objectEnumerator"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"allObjects"),"objectEnumerator")}),new objj_method(sel_getUid("addObject:"),function(a,c,b){with(a){if(b===nil||b===void 0)return;if(objj_msgSend(a,"containsObject:",b))return;_contents[objj_msgSend(b,"UID")]=b;_count++}}),new objj_method(sel_getUid("removeObject:"),function(a,c,b){with(a){if(!objj_msgSend(a,"containsObject:",b))return;delete _contents[objj_msgSend(b,
"UID")];_count--}}),new objj_method(sel_getUid("removeAllObjects"),function(a){with(a)_contents={},_count=0}),new objj_method(sel_getUid("classForCoder"),function(a){with(a)return objj_msgSend(CPSet,"class")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPOpenPanel.j",baseURL),function(j,h){h("CPPanel.j",YES);var f=objj_allocateClassPair(CPPanel,"CPOpenPanel"),d=f.isa;class_addIvars(f,[new objj_ivar("_canChooseFiles"),new objj_ivar("_canChooseDirectories"),new objj_ivar("_allowsMultipleSelection"),new objj_ivar("_directoryURL"),new objj_ivar("_URLs")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("canChooseFiles"),function(a){with(a)return _canChooseFiles}),
new objj_method(sel_getUid("setCanChooseFiles:"),function(a,c,b){with(a)_canChooseFiles=b}),new objj_method(sel_getUid("canChooseDirectories"),function(a){with(a)return _canChooseDirectories}),new objj_method(sel_getUid("setCanChooseDirectories:"),function(a,c,b){with(a)_canChooseDirectories=b}),new objj_method(sel_getUid("allowsMultipleSelection"),function(a){with(a)return _allowsMultipleSelection}),new objj_method(sel_getUid("setAllowsMultipleSelection:"),function(a,c,b){with(a)_allowsMultipleSelection=
b}),new objj_method(sel_getUid("directoryURL"),function(a){with(a)return _directoryURL}),new objj_method(sel_getUid("setDirectoryURL:"),function(a,c,b){with(a)_directoryURL=b}),new objj_method(sel_getUid("runModal"),function(a){with(a){if(typeof window.cpOpenPanel==="function")return objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode),a={directoryURL:objj_msgSend(a,"directoryURL"),canChooseFiles:objj_msgSend(a,"canChooseFiles"),canChooseDirectories:objj_msgSend(a,
"canChooseDirectories"),allowsMultipleSelection:objj_msgSend(a,"allowsMultipleSelection")},a=window.cpOpenPanel(a),_URLs=a.URLs,a.button;throw"-runModal is unimplemented.";}}),new objj_method(sel_getUid("URLs"),function(a){with(a)return _URLs})]);class_addMethods(d,[new objj_method(sel_getUid("openPanel"),function(a){with(a)return objj_msgSend(objj_msgSend(CPOpenPanel,"alloc"),"init")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPCornerView.j",baseURL),function(j,h){h("CPView.j",YES);var f=objj_allocateClassPair(CPView,"_CPCornerView"),d=f.isa;objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("drawRect:"),function(a,c,b){with(a)c=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort"),objj_msgSend(a,"currentValueForThemeAttribute:","divider-color"),CGContextSetLineWidth(c,1),CGContextSetStrokeColor(c,objj_msgSend(a,
"currentValueForThemeAttribute:","divider-color")),CGContextMoveToPoint(c,b.origin.x+0.5,ROUND(b.origin.y)),CGContextAddLineToPoint(c,b.origin.x+0.5,ROUND(b.origin.y+b.size.height)),CGContextClosePath(c),CGContextStrokePath(c)}),new objj_method(sel_getUid("layoutSubviews"),function(a){with(a)objj_msgSend(a,"setBackgroundColor:",objj_msgSend(a,"currentValueForThemeAttribute:","background-color"))}),new objj_method(sel_getUid("_init"),function(a){with(a)objj_msgSend(a,"setBackgroundColor:",objj_msgSend(a,
"currentValueForThemeAttribute:","background-color"))}),new objj_method(sel_getUid("initWithFrame:"),function(a,c,b){with(a)return(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPCornerView").super_class},"initWithFrame:",b))&&objj_msgSend(a,"_init"),a}),new objj_method(sel_getUid("initWithCoder:"),function(a,c,b){with(a)return(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPCornerView").super_class},"initWithCoder:",b))&&objj_msgSend(a,"_init"),a})]);class_addMethods(d,
[new objj_method(sel_getUid("defaultThemeClass"),function(a){with(a)return"cornerview"}),new objj_method(sel_getUid("themeAttributes"),function(a){with(a)return objj_msgSend(CPDictionary,"dictionaryWithObjects:forKeys:",[objj_msgSend(CPNull,"null"),objj_msgSend(CPNull,"null")],["background-color","divider-color"])})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPThemeBlend.j",baseURL),function(j,h){h("Foundation/CPObject.j",NO);h("CPTheme.j",YES);h("_CPCibCustomResource.j",YES);h("_CPCibKeyedUnarchiver.j",YES);var f=objj_allocateClassPair(CPObject,"CPThemeBlend");class_addIvars(f,[new objj_ivar("_bundle"),new objj_ivar("_themes"),new objj_ivar("_loadDelegate")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithContentsOfURL:"),function(d,a,c){with(d)return(d=
objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPThemeBlend").super_class},"init"))&&(_bundle=objj_msgSend(objj_msgSend(CPBundle,"alloc"),"initWithPath:",c)),d}),new objj_method(sel_getUid("themes"),function(d){with(d)return _themes}),new objj_method(sel_getUid("themeNames"),function(d){with(d){d=[];for(var a=0;a<_themes.length;++a)d.push(_themes[a].substring(0,_themes[a].indexOf(".keyedtheme")));return d}}),new objj_method(sel_getUid("loadWithDelegate:"),function(d,a,c){with(d)_loadDelegate=
c,objj_msgSend(_bundle,"loadWithDelegate:",d)}),new objj_method(sel_getUid("bundleDidFinishLoading:"),function(d,a,c){with(d){_themes=objj_msgSend(_bundle,"objectForInfoDictionaryKey:","CPKeyedThemes");for(a=_themes.length;a--;){var b=objj_msgSend(c,"pathForResource:",_themes[a]);b=objj_msgSend(objj_msgSend(_CPThemeKeyedUnarchiver,"alloc"),"initForReadingWithData:bundle:",objj_msgSend(objj_msgSend(CPURL,"URLWithString:",b),"staticResourceData"),_bundle);objj_msgSend(b,"decodeObjectForKey:","root");
objj_msgSend(b,"finishDecoding")}objj_msgSend(_loadDelegate,"blendDidFinishLoading:",d)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPCibControlConnector.j",baseURL),function(j,h){h("CPCibConnector.j",YES);var f=objj_allocateClassPair(CPCibConnector,"CPCibControlConnector");objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("establishConnection"),function(d,a){with(d){var c=_label,b=objj_msgSend(c,"length");b&&c.charAt(b-1)!==":"&&(c+=":");(b=CPSelectorFromString(c))||objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,
"-["+objj_msgSend(d,"className")+" "+a+"] selector "+c+" does not exist.");_destination&&!objj_msgSend(_destination,"respondsToSelector:",b)&&CPLog.warn("Could not connect the action "+b+" to target of class "+objj_msgSend(_destination,"className"));objj_msgSend(_source,"respondsToSelector:",sel_getUid("setAction:"))?objj_msgSend(_source,sel_getUid("setAction:"),b):objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"-["+objj_msgSend(d,"className")+" "+a+"] "+objj_msgSend(_source,
"description")+" does not respond to setAction:");objj_msgSend(_source,"respondsToSelector:",sel_getUid("setTarget:"))?objj_msgSend(_source,sel_getUid("setTarget:"),_destination):objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"-["+objj_msgSend(d,"className")+" "+a+"] "+objj_msgSend(_source,"description")+" does not respond to setTarget:")}})]);f=objj_allocateClassPair(CPCibControlConnector,"_CPCibControlConnector");objj_registerClassPair(f)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPNotification.j",baseURL),function(j,h){h("CPException.j",YES);h("CPObject.j",YES);var f=objj_allocateClassPair(CPObject,"CPNotification"),d=f.isa;class_addIvars(f,[new objj_ivar("_name"),new objj_ivar("_object"),new objj_ivar("_userInfo")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("init"),function(a){with(a)objj_msgSend(CPException,"raise:reason:",CPUnsupportedMethodException,"CPNotification's init method should not be used")}),
new objj_method(sel_getUid("initWithName:object:userInfo:"),function(a,c,b,d,f){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPNotification").super_class},"init"))_name=b,_object=d,_userInfo=f;return a}}),new objj_method(sel_getUid("name"),function(a){with(a)return _name}),new objj_method(sel_getUid("object"),function(a){with(a)return _object}),new objj_method(sel_getUid("userInfo"),function(a){with(a)return _userInfo})]);class_addMethods(d,[new objj_method(sel_getUid("notificationWithName:object:userInfo:"),
function(a,c,b,d,f){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithName:object:userInfo:",b,d,f)}),new objj_method(sel_getUid("notificationWithName:object:"),function(a,c,b,d){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithName:object:userInfo:",b,d,nil)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPCibClassSwapper.j",baseURL),function(j,h){h("Foundation/CPObject.j",NO);h("Foundation/CPString.j",NO);var f=objj_allocateClassPair(CPObject,"_CPCibClassSwapper"),d=f.isa;objj_registerClassPair(f);class_addMethods(d,[new objj_method(sel_getUid("allocObjectWithCoder:className:"),function(a,c,b,d){with(a){a=objj_msgSend(b,"classForClassName:",d);if(!a&&(a=objj_lookUpClass(d),!a))return nil;return objj_msgSend(a,"alloc")}}),new objj_method(sel_getUid("allocWithCoder:"),
function(a,c,b){with(a){if(objj_msgSend(b,"respondsToSelector:",sel_getUid("usesOriginalClasses"))&&objj_msgSend(b,"usesOriginalClasses")){c=objj_msgSend(b,"decodeObjectForKey:","_CPCibClassSwapperOriginalClassNameKey");var d=objj_msgSend(a,"allocObjectWithCoder:className:",b,c)}else c=objj_msgSend(b,"decodeObjectForKey:","_CPCibClassSwapperClassNameKey"),d=objj_msgSend(a,"allocObjectWithCoder:className:",b,c),d||(CPLog.error("Unable to find class "+c+" in cib file."),d=objj_msgSend(a,"allocObjectWithCoder:className:",
b,objj_msgSend(b,"decodeObjectForKey:","_CPCibClassSwapperOriginalClassNameKey")));d||objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Unable to find class "+c+" in cib file.");return d}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPToolbarShowColorsItem.j",baseURL),function(j,h){h("CPApplication.j",YES);h("CPToolbarItem.j",YES);var f=objj_allocateClassPair(CPToolbarItem,"_CPToolbarShowColorsItem");objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithItemIdentifier:"),function(d){with(d){if(d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("_CPToolbarShowColorsItem").super_class},"initWithItemIdentifier:",CPToolbarShowColorsItemIdentifier))objj_msgSend(d,
"setMinSize:",CGSizeMake(32,32)),objj_msgSend(d,"setMaxSize:",CGSizeMake(32,32)),objj_msgSend(d,"setLabel:","Colors"),objj_msgSend(d,"setPaletteLabel:","Show Colors"),objj_msgSend(d,"setTarget:",CPApp),objj_msgSend(d,"setAction:",sel_getUid("orderFrontColorPanel:")),objj_msgSend(d,"setImage:",objj_msgSend(CPImage,"imageNamed:",CPImageNameColorPanel)),objj_msgSend(d,"setAlternateImage:",objj_msgSend(CPImage,"imageNamed:",CPImageNameColorPanelHighlighted)),objj_msgSend(d,"setToolTip:","Show the Colors panel.");
return d}}),new objj_method(sel_getUid("initWithCoder:"),function(d){with(d)return objj_msgSend(d,"init")}),new objj_method(sel_getUid("encodeWithCoder:"),function(d){with(d);})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPStringDrawing.j",baseURL),function(j,h){h("Foundation/CPString.j",NO);h("CPPlatformString.j",YES);var f={};CPStringSizeCachingEnabled=YES;var d=objj_getClass("CPString");if(!d)throw new SyntaxError('*** Could not find definition for class "CPString"');var a=d.isa;class_addMethods(d,[new objj_method(sel_getUid("cssString"),function(a){with(a)return a}),new objj_method(sel_getUid("sizeWithFont:"),function(a,b,d){with(a)return objj_msgSend(a,
"sizeWithFont:inWidth:",d,NULL)}),new objj_method(sel_getUid("sizeWithFont:inWidth:"),function(a,b,d,g){with(a){if(!CPStringSizeCachingEnabled)return objj_msgSend(CPPlatformString,"sizeOfString:withFont:forWidth:",a,d,g);b=a+objj_msgSend(d,"cssString")+g;var h=f[b];h===void 0&&(h=objj_msgSend(CPPlatformString,"sizeOfString:withFont:forWidth:",a,d,g),f[b]=h);return CGSizeMakeCopy(h)}})]);class_addMethods(a,[new objj_method(sel_getUid("metricsOfFont:"),function(a,b,d){with(a)return objj_msgSend(CPPlatformString,
"metricsOfFont:",d)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPURLResponse.j",baseURL),function(j,h){h("CPObject.j",YES);h("CPURL.j",YES);var f=objj_allocateClassPair(CPObject,"CPURLResponse");class_addIvars(f,[new objj_ivar("_URL")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithURL:"),function(d,a,c){with(d)return(d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPURLResponse").super_class},"init"))&&(_URL=c),d}),new objj_method(sel_getUid("URL"),
function(d){with(d)return _URL})]);f=objj_allocateClassPair(CPURLResponse,"CPHTTPURLResponse");class_addIvars(f,[new objj_ivar("_statusCode")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("_setStatusCode:"),function(d,a,c){with(d)_statusCode=c}),new objj_method(sel_getUid("statusCode"),function(d){with(d)return _statusCode})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPNull.j",baseURL),function(j,h){h("CPObject.j",YES);var f=nil,d=objj_allocateClassPair(CPObject,"CPNull"),a=d.isa;objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("isEqual:"),function(a,b,d){with(a){if(a===d)return YES;return objj_msgSend(d,"isKindOfClass:",objj_msgSend(CPNull,"class"))}}),new objj_method(sel_getUid("initWithCoder:"),function(a){with(a)return objj_msgSend(CPNull,"null")}),new objj_method(sel_getUid("encodeWithCoder:"),
function(a){with(a);})]);class_addMethods(a,[new objj_method(sel_getUid("null"),function(a){with(a)return f||(f=objj_msgSend(objj_msgSend(CPNull,"alloc"),"init")),f})])});CFHTTPRequest._cacheRequest(new CFURL("Frameworks/AppKit/Resources/Aristo.blend/Info.plist",baseURL),200,{},"280NPLIST;1.0;D;K;26;CPApplicationDelegateClassS;20;BKShowcaseControllerK;12;CPBundleNameS;12;Aristo.blendK;14;BKLearnMoreURLS;28;http://cappuccino.org/aristoK;22;BKLearnMoreButtonTitleS;16;Aristo Home PageK;16;CPPrincipalClassS;13;CPApplicationK;29;CPBundleInfoDictionaryVersiond;1;6K;18;CPBundleIdentifierS;21;com.280n.blend.AristoK;15;CPBundleVersionf;3;0.1K;19;CPBundlePackageTypeS;4;BLNDK;20;CPBundleEnvironmentsA;S;7;BrowserS;8;CommonJSE;K;18;CPBundleExecutableS;15;Aristo.blend.sjK;36;CPBundleEnvironmentsWithImageSpritesA;S;7;BrowserE;K;13;CPKeyedThemesA;S;17;Aristo.keyedthemeS;21;Aristo-HUD.keyedthemeE;E;\n");
CFHTTPRequest._cacheRequest(new CFURL("Info.plist",baseURL),200,{},"280NPLIST;1.0;D;K;23;Main cib file base nameS;12;MainMenu.cibK;12;CPBundleNameS;15;githubfollowersK;29;CPBundleInfoDictionaryVersiond;1;6K;18;CPBundleIdentifierS;31;com.yourcompany.githubfollowersK;15;CPBundleVersionS;3;1.0K;19;CPBundlePackageTypeS;4;APPLK;20;CPBundleEnvironmentsA;S;7;BrowserS;8;CommonJSE;K;18;CPBundleExecutableS;18;githubfollowers.sjK;36;CPBundleEnvironmentsWithImageSpritesA;S;7;BrowserE;K;17;CPApplicationSizeD;K;10;executabled;7;1701405K;4;datad;6;399693K;5;mhtmld;5;61227E;E;\n");
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPText.j",baseURL),function(){CPEnterCharacter="";CPBackspaceCharacter="";CPTabCharacter="\t";CPNewlineCharacter="\n";CPFormFeedCharacter="";CPCarriageReturnCharacter="\r";CPBackTabCharacter="";CPDeleteCharacter=""});CFHTTPRequest._cacheRequest(new CFURL("Frameworks/Info.plist",baseURL),404);
