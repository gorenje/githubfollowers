ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPWindow.j",baseURL),function(h,g){g("Foundation/CPCountedSet.j",NO);g("Foundation/CPNotificationCenter.j",NO);g("Foundation/CPUndoManager.j",NO);g("CGGeometry.j",YES);g("CPAnimation.j",YES);g("CPPlatformWindow.j",YES);g("CPResponder.j",YES);g("CPScreen.j",YES);CPBorderlessWindowMask=0;CPTitledWindowMask=1;CPClosableWindowMask=2;CPMiniaturizableWindowMask=4;CPResizableWindowMask=8;CPTexturedBackgroundWindowMask=256;CPBorderlessBridgeWindowMask=
1048576;CPHUDBackgroundWindowMask=2097152;CPWindowNotSizable=0;CPWindowMinXMargin=1;CPWindowWidthSizable=2;CPWindowMaxXMargin=4;CPWindowMinYMargin=8;CPWindowHeightSizable=16;CPWindowMaxYMargin=32;CPBackgroundWindowLevel=-1;CPNormalWindowLevel=0;CPTornOffMenuWindowLevel=CPSubmenuWindowLevel=CPFloatingWindowLevel=3;CPMainMenuWindowLevel=24;CPStatusWindowLevel=25;CPModalPanelWindowLevel=8;CPPopUpMenuWindowLevel=101;CPDraggingWindowLevel=500;CPScreenSaverWindowLevel=1E3;CPWindowOut=0;CPWindowAbove=1;
CPWindowBelow=2;CPWindowWillCloseNotification="CPWindowWillCloseNotification";CPWindowDidBecomeMainNotification="CPWindowDidBecomeMainNotification";CPWindowDidResignMainNotification="CPWindowDidResignMainNotification";CPWindowDidBecomeKeyNotification="CPWindowDidBecomeKeyNotification";CPWindowDidResignKeyNotification="CPWindowDidResignKeyNotification";CPWindowDidResizeNotification="CPWindowDidResizeNotification";CPWindowDidMoveNotification="CPWindowDidMoveNotification";CPWindowWillBeginSheetNotification=
"CPWindowWillBeginSheetNotification";CPWindowDidEndSheetNotification="CPWindowDidEndSheetNotification";CPWindowDidMiniaturizeNotification="CPWindowDidMiniaturizeNotification";CPWindowWillMiniaturizeNotification="CPWindowWillMiniaturizeNotification";CPWindowDidDeminiaturizeNotification="CPWindowDidDeminiaturizeNotification";CPWindowShadowStyleStandard=0;CPWindowShadowStyleMenu=1;CPWindowShadowStylePanel=2;var e=nil,c=nil,a=nil,d=[CPLeftArrowFunctionKey,CPRightArrowFunctionKey,CPUpArrowFunctionKey,
CPDownArrowFunctionKey,CPPageUpFunctionKey,CPPageDownFunctionKey,CPHomeFunctionKey,CPEndFunctionKey,CPEscapeFunctionKey],b=objj_allocateClassPair(CPResponder,"CPWindow"),f=b.isa;class_addIvars(b,[new objj_ivar("_platformWindow"),new objj_ivar("_windowNumber"),new objj_ivar("_styleMask"),new objj_ivar("_frame"),new objj_ivar("_level"),new objj_ivar("_isVisible"),new objj_ivar("_isMiniaturized"),new objj_ivar("_isAnimating"),new objj_ivar("_hasShadow"),new objj_ivar("_isMovableByWindowBackground"),
new objj_ivar("_shadowStyle"),new objj_ivar("_showsResizeIndicator"),new objj_ivar("_isDocumentEdited"),new objj_ivar("_isDocumentSaving"),new objj_ivar("_shadowView"),new objj_ivar("_windowView"),new objj_ivar("_contentView"),new objj_ivar("_toolbarView"),new objj_ivar("_mouseEnteredStack"),new objj_ivar("_leftMouseDownView"),new objj_ivar("_rightMouseDownView"),new objj_ivar("_toolbar"),new objj_ivar("_firstResponder"),new objj_ivar("_initialFirstResponder"),new objj_ivar("_delegate"),new objj_ivar("_title"),
new objj_ivar("_acceptsMouseMovedEvents"),new objj_ivar("_ignoresMouseEvents"),new objj_ivar("_windowController"),new objj_ivar("_minSize"),new objj_ivar("_maxSize"),new objj_ivar("_undoManager"),new objj_ivar("_representedURL"),new objj_ivar("_registeredDraggedTypes"),new objj_ivar("_registeredDraggedTypesArray"),new objj_ivar("_inclusiveRegisteredDraggedTypes"),new objj_ivar("_defaultButton"),new objj_ivar("_defaultButtonEnabled"),new objj_ivar("_autorecalculatesKeyViewLoop"),new objj_ivar("_keyViewLoopIsDirty"),
new objj_ivar("_sharesChromeWithPlatformWindow"),new objj_ivar("_DOMElement"),new objj_ivar("_autoresizingMask"),new objj_ivar("_delegateRespondsToWindowWillReturnUndoManagerSelector"),new objj_ivar("_isFullPlatformWindow"),new objj_ivar("_fullPlatformWindowSession"),new objj_ivar("_sheetContext"),new objj_ivar("_parentView"),new objj_ivar("_isSheet"),new objj_ivar("_frameAnimation")]);objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,
"initWithContentRect:styleMask:",{origin:{x:0,y:0},size:{width:0,height:0}},CPTitledWindowMask)}),new objj_method(sel_getUid("initWithContentRect:styleMask:"),function(a,d,b,f){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPWindow").super_class},"init")){d=objj_msgSend(objj_msgSend(a,"class"),"_windowViewClassForStyleMask:",f);_frame=objj_msgSend(d,"frameRectForContentRect:",b);objj_msgSend(a,"_setSharesChromeWithPlatformWindow:",!objj_msgSend(CPPlatform,"isBrowser"));if(objj_msgSend(CPPlatform,
"isBrowser"))objj_msgSend(a,"setPlatformWindow:",objj_msgSend(CPPlatformWindow,"primaryPlatformWindow"));else{if(f&CPBorderlessBridgeWindowMask&&b.size.width===0&&b.size.height===0)b=objj_msgSend(objj_msgSend(objj_msgSend(CPScreen,"alloc"),"init"),"visibleFrame"),_frame.size.height=MIN(768,b.size.height),_frame.size.width=MIN(1024,b.size.width),_frame.origin.x=(b.size.width-_frame.size.width)/2,_frame.origin.y=(b.size.height-_frame.size.height)/2;objj_msgSend(a,"setPlatformWindow:",objj_msgSend(objj_msgSend(CPPlatformWindow,
"alloc"),"initWithContentRect:",_frame));objj_msgSend(a,"platformWindow")._only=a}_isFullPlatformWindow=NO;_registeredDraggedTypes=objj_msgSend(CPSet,"set");_registeredDraggedTypesArray=[];_isSheet=NO;_acceptsMouseMovedEvents=YES;_windowNumber=objj_msgSend(CPApp._windows,"count");CPApp._windows[_windowNumber]=a;_styleMask=f;objj_msgSend(a,"setLevel:",CPNormalWindowLevel);_minSize=CGSizeMake(0,0);_maxSize=CGSizeMake(1E6,1E6);_windowView=objj_msgSend(objj_msgSend(d,"alloc"),"initWithFrame:styleMask:",
CGRectMake(0,0,CGRectGetWidth(_frame),CGRectGetHeight(_frame)),f);objj_msgSend(_windowView,"_setWindow:",a);objj_msgSend(_windowView,"setNextResponder:",a);objj_msgSend(a,"setMovableByWindowBackground:",f&CPHUDBackgroundWindowMask);objj_msgSend(a,"setContentView:",objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMakeZero()));_firstResponder=a;_DOMElement=document.createElement("div");_DOMElement.style.position="absolute";_DOMElement.style.visibility="visible";_DOMElement.style.zIndex=
0;if(!objj_msgSend(a,"_sharesChromeWithPlatformWindow"))b=NULL?{x:CGPointMake(_frame.origin.x,_frame.origin.y).x*NULL.a+CGPointMake(_frame.origin.x,_frame.origin.y).y*NULL.c+NULL.tx,y:CGPointMake(_frame.origin.x,_frame.origin.y).x*NULL.b+CGPointMake(_frame.origin.x,_frame.origin.y).y*NULL.d+NULL.ty}:{x:_frame.origin.x,y:_frame.origin.y},_DOMElement.style.left=ROUND(b.x)+"px",_DOMElement.style.top=ROUND(b.y)+"px";_DOMElement.style.width=MAX(0,ROUND(1))+"px";_DOMElement.style.height=MAX(0,ROUND(1))+
"px";_DOMElement.appendChild(_windowView._DOMElement);objj_msgSend(a,"setNextResponder:",CPApp);objj_msgSend(a,"setHasShadow:",f!==CPBorderlessWindowMask);f&CPBorderlessBridgeWindowMask&&objj_msgSend(a,"setFullPlatformWindow:",YES);_keyViewLoopIsDirty=_defaultButtonEnabled=YES;objj_msgSend(a,"setShowsResizeIndicator:",_styleMask&CPResizableWindowMask)}return a}}),new objj_method(sel_getUid("platformWindow"),function(a){with(a)return _platformWindow}),new objj_method(sel_getUid("setPlatformWindow:"),
function(a,d,b){with(a)_platformWindow=b}),new objj_method(sel_getUid("awakeFromCib"),function(a){with(a)_keyViewLoopIsDirty=!objj_msgSend(a,"_hasKeyViewLoop")}),new objj_method(sel_getUid("_setWindowView:"),function(a,d,b){with(a){if(_windowView===b)return;d=_windowView;_windowView=b;d&&(objj_msgSend(d,"_setWindow:",nil),objj_msgSend(d,"noteToolbarChanged"),_DOMElement.removeChild(d._DOMElement));if(_windowView)_DOMElement.appendChild(_windowView._DOMElement),b=objj_msgSend(_contentView,"convertRect:toView:",
objj_msgSend(_contentView,"bounds"),nil),b.origin=objj_msgSend(a,"convertBaseToGlobal:",b.origin),objj_msgSend(_windowView,"_setWindow:",a),objj_msgSend(_windowView,"setNextResponder:",a),objj_msgSend(_windowView,"addSubview:",_contentView),objj_msgSend(_windowView,"setTitle:",_title),objj_msgSend(_windowView,"noteToolbarChanged"),objj_msgSend(_windowView,"setShowsResizeIndicator:",objj_msgSend(a,"showsResizeIndicator")),objj_msgSend(a,"setFrame:",objj_msgSend(a,"frameRectForContentRect:",b))}}),
new objj_method(sel_getUid("setFullPlatformWindow:"),function(a,d,b){with(a){if(!objj_msgSend(_platformWindow,"supportsFullPlatformWindows"))return;b=!!b;if(_isFullPlatformWindow===b)return;(_isFullPlatformWindow=b)?(_fullPlatformWindowSession=_CPWindowFullPlatformWindowSessionMake(_windowView,objj_msgSend(a,"contentRectForFrameRect:",objj_msgSend(a,"frame")),objj_msgSend(a,"hasShadow"),objj_msgSend(a,"level")),d=objj_msgSend(objj_msgSend(a,"class"),"_windowViewClassForFullPlatformWindowStyleMask:",
_styleMask),d=objj_msgSend(objj_msgSend(d,"alloc"),"initWithFrame:styleMask:",CGRectMakeZero(),_styleMask),objj_msgSend(a,"_setWindowView:",d),objj_msgSend(a,"setLevel:",CPBackgroundWindowLevel),objj_msgSend(a,"setHasShadow:",NO),objj_msgSend(a,"setAutoresizingMask:",CPWindowWidthSizable|CPWindowHeightSizable),objj_msgSend(a,"setFrame:",objj_msgSend(_platformWindow,"visibleFrame"))):(d=_fullPlatformWindowSession.windowView,objj_msgSend(a,"_setWindowView:",d),objj_msgSend(a,"setLevel:",_fullPlatformWindowSession.level),
objj_msgSend(a,"setHasShadow:",_fullPlatformWindowSession.hasShadow),objj_msgSend(a,"setAutoresizingMask:",CPWindowNotSizable),objj_msgSend(a,"setFrame:",objj_msgSend(d,"frameRectForContentRect:",_fullPlatformWindowSession.contentRect)))}}),new objj_method(sel_getUid("isFullPlatformWindow"),function(a){with(a)return _isFullPlatformWindow}),new objj_method(sel_getUid("styleMask"),function(a){with(a)return _styleMask}),new objj_method(sel_getUid("contentRectForFrameRect:"),function(a,d,b){with(a)return objj_msgSend(_windowView,
"contentRectForFrameRect:",b)}),new objj_method(sel_getUid("frameRectForContentRect:"),function(a,d,b){with(a)return objj_msgSend(_windowView,"frameRectForContentRect:",b)}),new objj_method(sel_getUid("frame"),function(a){with(a)return{origin:{x:_frame.origin.x,y:_frame.origin.y},size:{width:_frame.size.width,height:_frame.size.height}}}),new objj_method(sel_getUid("_setClippedFrame:display:animate:"),function(a,d,b,f,c){with(a)b.size.width=MIN(MAX(b.size.width,_minSize.width),_maxSize.width),b.size.height=
MIN(MAX(b.size.height,_minSize.height),_maxSize.height),objj_msgSend(a,"setFrame:display:animate:",b,f,c)}),new objj_method(sel_getUid("setFrame:display:animate:"),function(a,d,b,f,c){with(a){b={origin:{x:b.origin.x,y:b.origin.y},size:{width:b.size.width,height:b.size.height}};d=b.origin.x;if(f=d-FLOOR(d))b.origin.x=d>0.879?CEIL(d):FLOOR(d);d=b.origin.y;if(f=d-FLOOR(d))b.origin.y=d>0.879?CEIL(d):FLOOR(d);d=b.size.width;if(f=d-FLOOR(d))b.size.width=d>0.15?CEIL(d):FLOOR(d);d=b.size.height;if(f=d-FLOOR(d))b.size.height=
d>0.15?CEIL(d):FLOOR(d);if(c)objj_msgSend(_frameAnimation,"stopAnimation"),_frameAnimation=objj_msgSend(objj_msgSend(_CPWindowFrameAnimation,"alloc"),"initWithWindow:targetFrame:",a,b),objj_msgSend(_frameAnimation,"startAnimation");else{c=_frame.origin;d=b.origin;if(!(c.x==d.x&&c.y==d.y)){c.x=d.x;c.y=d.y;if(!objj_msgSend(a,"_sharesChromeWithPlatformWindow"))c=NULL?{x:CGPointMake(c.x,c.y).x*NULL.a+CGPointMake(c.x,c.y).y*NULL.c+NULL.tx,y:CGPointMake(c.x,c.y).x*NULL.b+CGPointMake(c.x,c.y).y*NULL.d+NULL.ty}:
{x:c.x,y:c.y},_DOMElement.style.left=ROUND(c.x)+"px",_DOMElement.style.top=ROUND(c.y)+"px";objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidMoveNotification,a)}c=_frame.size;b=b.size;if(!(c.width==b.width&&c.height==b.height))c.width=b.width,c.height=b.height,objj_msgSend(_windowView,"setFrameSize:",c),_hasShadow&&objj_msgSend(_shadowView,"setFrameSize:",{width:20+c.width+19,height:10+c.height+10+5}),_isAnimating||objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPWindowDidResizeNotification,a);objj_msgSend(a,"_sharesChromeWithPlatformWindow")&&objj_msgSend(_platformWindow,"setContentRect:",_frame)}}}),new objj_method(sel_getUid("setFrame:display:"),function(a,d,b,f){with(a)objj_msgSend(a,"_setClippedFrame:display:animate:",b,f,NO)}),new objj_method(sel_getUid("setFrame:"),function(a,d,b){with(a)objj_msgSend(a,"_setClippedFrame:display:animate:",b,YES,NO)}),new objj_method(sel_getUid("setFrameOrigin:"),function(a,
d,b){with(a)objj_msgSend(a,"_setClippedFrame:display:animate:",{origin:{x:b.x,y:b.y},size:{width:_frame.size.width,height:_frame.size.height}},YES,NO)}),new objj_method(sel_getUid("setFrameSize:"),function(a,d,b){with(a)objj_msgSend(a,"_setClippedFrame:display:animate:",{origin:{x:_frame.origin.x,y:_frame.origin.y},size:{width:b.width,height:b.height}},YES,NO)}),new objj_method(sel_getUid("orderFront:"),function(a){with(a)objj_msgSend(_platformWindow,"orderFront:",a),objj_msgSend(_platformWindow,
"order:window:relativeTo:",CPWindowAbove,a,nil),(_firstResponder===a||!_firstResponder)&&objj_msgSend(a,"makeFirstResponder:",objj_msgSend(a,"initialFirstResponder")),CPApp._keyWindow||objj_msgSend(a,"makeKeyWindow"),CPApp._mainWindow||objj_msgSend(a,"makeMainWindow")}),new objj_method(sel_getUid("orderBack:"),function(a){with(a);}),new objj_method(sel_getUid("orderOut:"),function(a){with(a)objj_msgSend(a,"_sharesChromeWithPlatformWindow")&&objj_msgSend(_platformWindow,"orderOut:",a),objj_msgSend(_delegate,
"respondsToSelector:",sel_getUid("windowWillClose:"))&&objj_msgSend(_delegate,"windowWillClose:",a),objj_msgSend(_platformWindow,"order:window:relativeTo:",CPWindowOut,a,nil),objj_msgSend(a,"_updateMainAndKeyWindows")}),new objj_method(sel_getUid("orderWindow:relativeTo:"),function(a,d,b,f){with(a)objj_msgSend(_platformWindow,"order:window:relativeTo:",b,a,CPApp._windows[f])}),new objj_method(sel_getUid("setLevel:"),function(a,d,b){with(a){if(b===_level)return;objj_msgSend(_platformWindow,"moveWindow:fromLevel:toLevel:",
a,_level,b);_level=b;objj_msgSend(a,"_sharesChromeWithPlatformWindow")&&objj_msgSend(_platformWindow,"setLevel:",b)}}),new objj_method(sel_getUid("level"),function(a){with(a)return _level}),new objj_method(sel_getUid("isVisible"),function(a){with(a)return _isVisible}),new objj_method(sel_getUid("showsResizeIndicator"),function(a){with(a)return _showsResizeIndicator}),new objj_method(sel_getUid("setShowsResizeIndicator:"),function(a,d,b){with(a){b=!!b;if(_showsResizeIndicator===b)return;_showsResizeIndicator=
b;objj_msgSend(_windowView,"setShowsResizeIndicator:",objj_msgSend(a,"showsResizeIndicator"))}}),new objj_method(sel_getUid("resizeIndicatorOffset"),function(a){with(a)return objj_msgSend(_windowView,"resizeIndicatorOffset")}),new objj_method(sel_getUid("setResizeIndicatorOffset:"),function(a,d,b){with(a)objj_msgSend(_windowView,"setResizeIndicatorOffset:",b)}),new objj_method(sel_getUid("setContentView:"),function(a,d,b){with(a)_contentView&&objj_msgSend(_contentView,"removeFromSuperview"),d=CGRectMake(0,
0,CGRectGetWidth(_frame),CGRectGetHeight(_frame)),_contentView=b,objj_msgSend(_contentView,"setFrame:",objj_msgSend(a,"contentRectForFrameRect:",d)),objj_msgSend(_contentView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),objj_msgSend(_windowView,"addSubview:",_contentView)}),new objj_method(sel_getUid("contentView"),function(a){with(a)return _contentView}),new objj_method(sel_getUid("setAlphaValue:"),function(a,d,b){with(a)objj_msgSend(_windowView,"setAlphaValue:",b)}),new objj_method(sel_getUid("alphaValue"),
function(a){with(a)return objj_msgSend(_windowView,"alphaValue")}),new objj_method(sel_getUid("setBackgroundColor:"),function(a,d,b){with(a)objj_msgSend(_windowView,"setBackgroundColor:",b)}),new objj_method(sel_getUid("backgroundColor"),function(a){with(a)return objj_msgSend(_windowView,"backgroundColor")}),new objj_method(sel_getUid("setMinSize:"),function(a,d,b){with(a){if(CGSizeEqualToSize(_minSize,b))return;_minSize=CGSizeCreateCopy(b);d=CGSizeMakeCopy(objj_msgSend(a,"frame").size);b=NO;if(d.width<
_minSize.width)d.width=_minSize.width,b=YES;if(d.height<_minSize.height)d.height=_minSize.height,b=YES;b&&objj_msgSend(a,"setFrameSize:",d)}}),new objj_method(sel_getUid("minSize"),function(a){with(a)return _minSize}),new objj_method(sel_getUid("setMaxSize:"),function(a,d,b){with(a){if(CGSizeEqualToSize(_maxSize,b))return;_maxSize=CGSizeCreateCopy(b);d=CGSizeMakeCopy(objj_msgSend(a,"frame").size);b=NO;if(d.width>_maxSize.width)d.width=_maxSize.width,b=YES;if(d.height>_maxSize.height)d.height=_maxSize.height,
b=YES;b&&objj_msgSend(a,"setFrameSize:",d)}}),new objj_method(sel_getUid("maxSize"),function(a){with(a)return _maxSize}),new objj_method(sel_getUid("hasShadow"),function(a){with(a)return _hasShadow}),new objj_method(sel_getUid("_updateShadow"),function(a){with(a){if(objj_msgSend(a,"_sharesChromeWithPlatformWindow")){_shadowView&&(_DOMElement.removeChild(_shadowView._DOMElement),_shadowView=nil);objj_msgSend(_platformWindow,"setHasShadow:",_hasShadow);return}_hasShadow&&!_shadowView?(a=objj_msgSend(_windowView,
"bounds"),_shadowView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(-20,-5,20+CGRectGetWidth(a)+19,10+CGRectGetHeight(a)+10)),e||(a=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPWindow,"class")),e=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPNinePartImage,"alloc"),"initWithImageSlices:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow0.png"),CGSizeMake(20,
19)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow1.png"),CGSizeMake(1,19)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow2.png"),CGSizeMake(19,19)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow3.png"),CGSizeMake(20,1)),objj_msgSend(objj_msgSend(CPImage,
"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow4.png"),CGSizeMake(1,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow5.png"),CGSizeMake(19,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow6.png"),CGSizeMake(20,18)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",
objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow7.png"),CGSizeMake(1,18)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow8.png"),CGSizeMake(19,18))]))),objj_msgSend(_shadowView,"setBackgroundColor:",e),objj_msgSend(_shadowView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),_DOMElement.insertBefore(_shadowView._DOMElement,_windowView._DOMElement)):!_hasShadow&&_shadowView&&(_DOMElement.removeChild(_shadowView._DOMElement),
_shadowView=nil)}}),new objj_method(sel_getUid("setHasShadow:"),function(a,d,b){with(a){if(_hasShadow===b)return;_hasShadow=b;objj_msgSend(a,"_updateShadow")}}),new objj_method(sel_getUid("setShadowStyle:"),function(a,d,b){with(a)_shadowStyle=b,objj_msgSend(objj_msgSend(a,"platformWindow"),"setShadowStyle:",_shadowStyle)}),new objj_method(sel_getUid("setDelegate:"),function(a,d,b){with(a)d=objj_msgSend(CPNotificationCenter,"defaultCenter"),objj_msgSend(d,"removeObserver:name:object:",_delegate,CPWindowDidResignKeyNotification,
a),objj_msgSend(d,"removeObserver:name:object:",_delegate,CPWindowDidBecomeKeyNotification,a),objj_msgSend(d,"removeObserver:name:object:",_delegate,CPWindowDidBecomeMainNotification,a),objj_msgSend(d,"removeObserver:name:object:",_delegate,CPWindowDidResignMainNotification,a),objj_msgSend(d,"removeObserver:name:object:",_delegate,CPWindowDidMoveNotification,a),objj_msgSend(d,"removeObserver:name:object:",_delegate,CPWindowDidResizeNotification,a),_delegate=b,_delegateRespondsToWindowWillReturnUndoManagerSelector=
objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowWillReturnUndoManager:")),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidResignKey:"))&&objj_msgSend(d,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidResignKey:"),CPWindowDidResignKeyNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidBecomeKey:"))&&objj_msgSend(d,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidBecomeKey:"),CPWindowDidBecomeKeyNotification,
a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidBecomeMain:"))&&objj_msgSend(d,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidBecomeMain:"),CPWindowDidBecomeMainNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidResignMain:"))&&objj_msgSend(d,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidResignMain:"),CPWindowDidResignMainNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidMove:"))&&
objj_msgSend(d,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidMove:"),CPWindowDidMoveNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidResize:"))&&objj_msgSend(d,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidResize:"),CPWindowDidResizeNotification,a)}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("setWindowController:"),function(a,d,b){with(a)_windowController=b}),new objj_method(sel_getUid("windowController"),
function(a){with(a)return _windowController}),new objj_method(sel_getUid("doCommandBySelector:"),function(a,d,b){with(a)objj_msgSend(_delegate,"respondsToSelector:",b)?objj_msgSend(_delegate,"performSelector:",b):objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPWindow").super_class},"doCommandBySelector:",b)}),new objj_method(sel_getUid("acceptsFirstResponder"),function(a){with(a)return YES}),new objj_method(sel_getUid("initialFirstResponder"),function(a){with(a)return _initialFirstResponder}),
new objj_method(sel_getUid("setInitialFirstResponder:"),function(a,d,b){with(a)_initialFirstResponder=b}),new objj_method(sel_getUid("makeFirstResponder:"),function(a,d,b){with(a){if(_firstResponder===b)return YES;if(!objj_msgSend(_firstResponder,"resignFirstResponder"))return NO;if(!b||!objj_msgSend(b,"acceptsFirstResponder")||!objj_msgSend(b,"becomeFirstResponder"))return _firstResponder=a,NO;_firstResponder=b;return YES}}),new objj_method(sel_getUid("firstResponder"),function(a){with(a)return _firstResponder}),
new objj_method(sel_getUid("acceptsMouseMovedEvents"),function(a){with(a)return _acceptsMouseMovedEvents}),new objj_method(sel_getUid("setAcceptsMouseMovedEvents:"),function(a,d,b){with(a)_acceptsMouseMovedEvents=b}),new objj_method(sel_getUid("ignoresMouseEvents"),function(a){with(a)return _ignoresMouseEvents}),new objj_method(sel_getUid("setIgnoresMouseEvents:"),function(a,d,b){with(a)_ignoresMouseEvents=b}),new objj_method(sel_getUid("title"),function(a){with(a)return _title}),new objj_method(sel_getUid("setTitle:"),
function(a,d,b){with(a)_title=b,objj_msgSend(_windowView,"setTitle:",b),objj_msgSend(a,"_synchronizeMenuBarTitleWithWindowTitle")}),new objj_method(sel_getUid("setTitleWithRepresentedFilename:"),function(a,d,b){with(a)objj_msgSend(a,"setRepresentedFilename:",b),objj_msgSend(a,"setTitle:",objj_msgSend(b,"lastPathComponent"))}),new objj_method(sel_getUid("setRepresentedFilename:"),function(a,d,b){with(a)objj_msgSend(a,"setRepresentedURL:",b)}),new objj_method(sel_getUid("representedFilename"),function(a){with(a)return _representedURL}),
new objj_method(sel_getUid("setRepresentedURL:"),function(a,d,b){with(a)_representedURL=b}),new objj_method(sel_getUid("representedURL"),function(a){with(a)return _representedURL}),new objj_method(sel_getUid("screen"),function(a){with(a)return objj_msgSend(objj_msgSend(CPScreen,"alloc"),"init")}),new objj_method(sel_getUid("setMovableByWindowBackground:"),function(a,d,b){with(a)_isMovableByWindowBackground=b}),new objj_method(sel_getUid("isMovableByWindowBackground"),function(a){with(a)return _isMovableByWindowBackground}),
new objj_method(sel_getUid("center"),function(a){with(a){if(_isFullPlatformWindow)return;var d=objj_msgSend(a,"frame").size,b=objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(_platformWindow,"contentBounds").size:objj_msgSend(objj_msgSend(a,"screen"),"visibleFrame").size;d=CGPointMake((b.width-d.width)/2,(b.height-d.height)/2);if(d.x<0)d.x=0;if(d.y<0)d.y=0;objj_msgSend(a,"setFrameOrigin:",d)}}),new objj_method(sel_getUid("sendEvent:"),function(a,d,b){with(a){var f=objj_msgSend(b,"type");d=objj_msgSend(b,
"locationInWindow");switch(f){case CPFlagsChanged:return objj_msgSend(objj_msgSend(a,"firstResponder"),"flagsChanged:",b);case CPKeyUp:return objj_msgSend(objj_msgSend(a,"firstResponder"),"keyUp:",b);case CPKeyDown:if(objj_msgSend(b,"charactersIgnoringModifiers")===CPTabCharacter){objj_msgSend(b,"modifierFlags")&CPShiftKeyMask?objj_msgSend(a,"selectPreviousKeyView:",a):objj_msgSend(a,"selectNextKeyView:",a);break}else if(objj_msgSend(b,"charactersIgnoringModifiers")===CPBackTabCharacter)return objj_msgSend(a,
"selectPreviousKeyView:",a);objj_msgSend(objj_msgSend(a,"firstResponder"),"keyDown:",b);if(!objj_msgSend(a,"disableKeyEquivalentForDefaultButton")){var c=objj_msgSend(a,"defaultButton");d=objj_msgSend(c,"keyEquivalent");c=objj_msgSend(c,"keyEquivalentModifierMask");objj_msgSend(b,"_triggersKeyEquivalent:withModifierMask:",d,c)&&objj_msgSend(objj_msgSend(a,"defaultButton"),"performClick:",a)}break;case CPScrollWheel:return objj_msgSend(objj_msgSend(_windowView,"hitTest:",d),"scrollWheel:",b);case CPLeftMouseUp:case CPRightMouseUp:a=
_leftMouseDownView;c=f==CPRightMouseUp?sel_getUid("rightMouseUp:"):sel_getUid("mouseUp:");a||(a=objj_msgSend(_windowView,"hitTest:",d));objj_msgSend(a,"performSelector:withObject:",c,b);_leftMouseDownView=nil;break;case CPLeftMouseDown:case CPRightMouseDown:_leftMouseDownView=objj_msgSend(_windowView,"hitTest:",d);_leftMouseDownView!=_firstResponder&&objj_msgSend(_leftMouseDownView,"acceptsFirstResponder")&&objj_msgSend(a,"makeFirstResponder:",_leftMouseDownView);objj_msgSend(CPApp,"activateIgnoringOtherApps:",
YES);d=objj_msgSend(b,"window");c=f==CPRightMouseDown?sel_getUid("rightMouseDown:"):sel_getUid("mouseDown:");if(objj_msgSend(d,"isKeyWindow")||objj_msgSend(d,"becomesKeyOnlyIfNeeded")&&!objj_msgSend(_leftMouseDownView,"needsPanelToBecomeKey"))return objj_msgSend(_leftMouseDownView,"performSelector:withObject:",c,b);else if(objj_msgSend(a,"makeKeyAndOrderFront:",a),objj_msgSend(_leftMouseDownView,"acceptsFirstMouse:",b))return objj_msgSend(_leftMouseDownView,"performSelector:withObject:",c,b);break;
case CPLeftMouseDragged:case CPRightMouseDragged:if(!_leftMouseDownView)return objj_msgSend(objj_msgSend(_windowView,"hitTest:",d),"mouseDragged:",b);f==CPRightMouseDragged&&(c=sel_getUid("rightMouseDragged:"),objj_msgSend(_leftMouseDownView,"respondsToSelector:",c)||(c=nil));c||(c=sel_getUid("mouseDragged:"));return objj_msgSend(_leftMouseDownView,"performSelector:withObject:",c,b);case CPMouseMoved:if(!_acceptsMouseMovedEvents)break;_mouseEnteredStack||(_mouseEnteredStack=[]);a=objj_msgSend(_windowView,
"hitTest:",d);if(objj_msgSend(_mouseEnteredStack,"count")&&objj_msgSend(_mouseEnteredStack,"lastObject")===a)return objj_msgSend(a,"mouseMoved:",b);f=a;for(c=[];f;)c.unshift(f),f=objj_msgSend(f,"superview");for(f=MIN(_mouseEnteredStack.length,c.length);f--;)if(_mouseEnteredStack[f]===c[f])break;var i=f+1,j=_mouseEnteredStack.length;if(i<j)for(var e=objj_msgSend(CPEvent,"mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",CPMouseExited,d,objj_msgSend(b,
"modifierFlags"),objj_msgSend(b,"timestamp"),_windowNumber,nil,-1,1,0);i<j;++i)objj_msgSend(_mouseEnteredStack[i],"mouseExited:",e);i=f+1;j=c.length;if(i<j)for(e=objj_msgSend(CPEvent,"mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",CPMouseEntered,d,objj_msgSend(b,"modifierFlags"),objj_msgSend(b,"timestamp"),_windowNumber,nil,-1,1,0);i<j;++i)objj_msgSend(c[i],"mouseEntered:",e);_mouseEnteredStack=c;objj_msgSend(a,"mouseMoved:",b)}}}),new objj_method(sel_getUid("windowNumber"),
function(a){with(a)return _windowNumber}),new objj_method(sel_getUid("becomeKeyWindow"),function(a){with(a)CPApp._keyWindow=a,_firstResponder!==a&&objj_msgSend(_firstResponder,"respondsToSelector:",sel_getUid("becomeKeyWindow"))&&objj_msgSend(_firstResponder,"becomeKeyWindow"),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidBecomeKeyNotification,a)}),new objj_method(sel_getUid("canBecomeKeyWindow"),function(a){with(a)return YES}),new objj_method(sel_getUid("isKeyWindow"),
function(a){with(a)return objj_msgSend(CPApp,"keyWindow")==a}),new objj_method(sel_getUid("makeKeyAndOrderFront:"),function(a){with(a)objj_msgSend(a,"orderFront:",a),objj_msgSend(a,"makeKeyWindow"),objj_msgSend(a,"makeMainWindow")}),new objj_method(sel_getUid("makeKeyWindow"),function(a){with(a){if(objj_msgSend(CPApp,"keyWindow")===a||!objj_msgSend(a,"canBecomeKeyWindow"))return;objj_msgSend(objj_msgSend(CPApp,"keyWindow"),"resignKeyWindow");objj_msgSend(a,"becomeKeyWindow")}}),new objj_method(sel_getUid("resignKeyWindow"),
function(a){with(a){_firstResponder!==a&&objj_msgSend(_firstResponder,"respondsToSelector:",sel_getUid("resignKeyWindow"))&&objj_msgSend(_firstResponder,"resignKeyWindow");if(CPApp._keyWindow===a)CPApp._keyWindow=nil;objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidResignKeyNotification,a)}}),new objj_method(sel_getUid("dragImage:at:offset:event:pasteboard:source:slideBack:"),function(a,d,b,f,c,i,j,e,t){with(a)objj_msgSend(objj_msgSend(CPDragServer,
"sharedDragServer"),"dragImage:fromWindow:at:offset:event:pasteboard:source:slideBack:",b,a,objj_msgSend(a,"convertBaseToGlobal:",f),c,i,j,e,t)}),new objj_method(sel_getUid("_noteRegisteredDraggedTypes:"),function(a,d,b){with(a){if(!b)return;_inclusiveRegisteredDraggedTypes||(_inclusiveRegisteredDraggedTypes=objj_msgSend(CPCountedSet,"set"));objj_msgSend(_inclusiveRegisteredDraggedTypes,"unionSet:",b)}}),new objj_method(sel_getUid("_noteUnregisteredDraggedTypes:"),function(a,d,b){with(a){if(!b)return;
objj_msgSend(_inclusiveRegisteredDraggedTypes,"minusSet:",b);objj_msgSend(_inclusiveRegisteredDraggedTypes,"count")===0&&(_inclusiveRegisteredDraggedTypes=nil)}}),new objj_method(sel_getUid("dragView:at:offset:event:pasteboard:source:slideBack:"),function(a,d,b,f,c,i,j,e,t){with(a)objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"dragView:fromWindow:at:offset:event:pasteboard:source:slideBack:",b,a,objj_msgSend(a,"convertBaseToGlobal:",f),c,i,j,e,t)}),new objj_method(sel_getUid("registerForDraggedTypes:"),
function(a,d,b){with(a){if(!b)return;objj_msgSend(a,"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes);objj_msgSend(_registeredDraggedTypes,"addObjectsFromArray:",b);objj_msgSend(a,"_noteRegisteredDraggedTypes:",_registeredDraggedTypes);_registeredDraggedTypesArray=nil}}),new objj_method(sel_getUid("registeredDraggedTypes"),function(a){with(a)return _registeredDraggedTypesArray||(_registeredDraggedTypesArray=objj_msgSend(_registeredDraggedTypes,"allObjects")),_registeredDraggedTypesArray}),
new objj_method(sel_getUid("unregisterDraggedTypes"),function(a){with(a)objj_msgSend(a,"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes),_registeredDraggedTypes=objj_msgSend(CPSet,"set"),_registeredDraggedTypesArray=[]}),new objj_method(sel_getUid("setDocumentEdited:"),function(a,d,b){with(a){if(_isDocumentEdited==b)return;_isDocumentEdited=b;objj_msgSend(CPMenu,"_setMenuBarIconImageAlphaValue:",_isDocumentEdited?0.5:1);objj_msgSend(_windowView,"setDocumentEdited:",b)}}),new objj_method(sel_getUid("isDocumentEdited"),
function(a){with(a)return _isDocumentEdited}),new objj_method(sel_getUid("setDocumentSaving:"),function(a,d,b){with(a){if(_isDocumentSaving==b)return;_isDocumentSaving=b;objj_msgSend(a,"_synchronizeSaveMenuWithDocumentSaving");objj_msgSend(_windowView,"windowDidChangeDocumentSaving")}}),new objj_method(sel_getUid("isDocumentSaving"),function(a){with(a)return _isDocumentSaving}),new objj_method(sel_getUid("_synchronizeSaveMenuWithDocumentSaving"),function(d){with(d){if(!objj_msgSend(d,"isMainWindow"))return;
d=objj_msgSend(CPApp,"mainMenu");var b=objj_msgSend(d,"indexOfItemWithTitle:",_isDocumentSaving?"Save":"Saving...");if(b==CPNotFound)return;d=objj_msgSend(d,"itemAtIndex:",b);_isDocumentSaving?(c=objj_msgSend(d,"image"),objj_msgSend(d,"setTitle:","Saving..."),objj_msgSend(d,"setImage:",a),objj_msgSend(d,"setEnabled:",NO)):(objj_msgSend(d,"setTitle:","Save"),objj_msgSend(d,"setImage:",c),objj_msgSend(d,"setEnabled:",YES))}}),new objj_method(sel_getUid("performMiniaturize:"),function(a,d,b){with(a)objj_msgSend(a,
"miniaturize:",b)}),new objj_method(sel_getUid("miniaturize:"),function(a,d,b){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowWillMiniaturizeNotification,a),objj_msgSend(objj_msgSend(a,"platformWindow"),"miniaturize:",b),objj_msgSend(a,"_updateMainAndKeyWindows"),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidMiniaturizeNotification,a),_isMiniaturized=YES}),new objj_method(sel_getUid("deminiaturize:"),
function(a,d,b){with(a)objj_msgSend(objj_msgSend(a,"platformWindow"),"deminiaturize:",b),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidDeminiaturizeNotification,a),_isMiniaturized=NO}),new objj_method(sel_getUid("isMiniaturized"),function(a){with(a)return _isMiniaturized}),new objj_method(sel_getUid("performClose:"),function(a){with(a){if(!(_styleMask&CPClosableWindowMask))return;if(objj_msgSend(a,"isFullBridge")){var d=objj_msgSend(CPApp,
"currentEvent");if(objj_msgSend(d,"type")===CPKeyDown&&objj_msgSend(d,"characters")==="w"&&objj_msgSend(d,"modifierFlags")&CPPlatformActionKeyMask){objj_msgSend(objj_msgSend(a,"platformWindow"),"_propagateCurrentDOMEvent:",YES);return}}if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowShouldClose:"))){if(!objj_msgSend(_delegate,"windowShouldClose:",a))return}else if(objj_msgSend(a,"respondsToSelector:",sel_getUid("windowShouldClose:"))&&!objj_msgSend(a,"windowShouldClose:",a))return;
d=objj_msgSend(_windowController,"documents");if(objj_msgSend(d,"count")){var b=objj_msgSend(d,"indexOfObject:",objj_msgSend(_windowController,"document"));objj_msgSend(d[b],"shouldCloseWindowController:delegate:shouldCloseSelector:contextInfo:",_windowController,a,sel_getUid("_windowControllerContainingDocument:shouldClose:contextInfo:"),{documents:objj_msgSend(d,"copy"),visited:0,index:b})}else objj_msgSend(a,"close")}}),new objj_method(sel_getUid("_windowControllerContainingDocument:shouldClose:contextInfo:"),
function(a,d,b,f,c){with(a)if(f){d=objj_msgSend(a,"windowController");f=c.documents;var i=objj_msgSend(f,"count"),j=++c.visited,e=++c.index%i;objj_msgSend(b,"removeWindowController:",d);j<i?(objj_msgSend(d,"setDocument:",f[e]),objj_msgSend(f[e],"shouldCloseWindowController:delegate:shouldCloseSelector:contextInfo:",_windowController,a,sel_getUid("_windowControllerContainingDocument:shouldClose:contextInfo:"),c)):objj_msgSend(a,"close")}}),new objj_method(sel_getUid("close"),function(a){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPWindowWillCloseNotification,a),objj_msgSend(a,"orderOut:",nil)}),new objj_method(sel_getUid("isMainWindow"),function(a){with(a)return objj_msgSend(CPApp,"mainWindow")==a}),new objj_method(sel_getUid("canBecomeMainWindow"),function(a){with(a){if(objj_msgSend(a,"isVisible"))return YES;return NO}}),new objj_method(sel_getUid("makeMainWindow"),function(a){with(a){if(objj_msgSend(CPApp,"mainWindow")===a||!objj_msgSend(a,"canBecomeMainWindow"))return;objj_msgSend(objj_msgSend(CPApp,
"mainWindow"),"resignMainWindow");objj_msgSend(a,"becomeMainWindow")}}),new objj_method(sel_getUid("becomeMainWindow"),function(a){with(a)CPApp._mainWindow=a,objj_msgSend(a,"_synchronizeMenuBarTitleWithWindowTitle"),objj_msgSend(a,"_synchronizeSaveMenuWithDocumentSaving"),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidBecomeMainNotification,a)}),new objj_method(sel_getUid("resignMainWindow"),function(a){with(a)if(objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPWindowDidResignMainNotification,a),CPApp._mainWindow===a)CPApp._mainWindow=nil}),new objj_method(sel_getUid("_updateMainAndKeyWindows"),function(a){with(a){var d=objj_msgSend(CPApp,"orderedWindows"),b=objj_msgSend(d,"count");if(objj_msgSend(a,"isKeyWindow")){var f=objj_msgSend(CPApp,"keyWindow");objj_msgSend(a,"resignKeyWindow");if(f&&f!==a&&objj_msgSend(f,"canBecomeKeyWindow"))objj_msgSend(f,"makeKeyWindow");else{objj_msgSend(CPApp,"mainMenu");f=
objj_getClass("_CPMenuBarWindow");for(var c,i=0;i<b;i++){var j=d[i];objj_msgSend(j,"isKindOfClass:",f)&&(c=j);if(!(j===a||j===c)&&objj_msgSend(j,"isVisible")&&objj_msgSend(j,"canBecomeKeyWindow")){objj_msgSend(j,"makeKeyWindow");break}}objj_msgSend(CPApp,"keyWindow")||objj_msgSend(c,"makeKeyWindow")}}if(objj_msgSend(a,"isMainWindow"))if(f=objj_msgSend(CPApp,"mainWindow"),objj_msgSend(a,"resignMainWindow"),f&&f!==a&&objj_msgSend(f,"canBecomeMainWindow"))objj_msgSend(f,"makeMainWindow");else{objj_msgSend(CPApp,
"mainMenu");f=objj_getClass("_CPMenuBarWindow");for(i=0;i<b;i++)if(j=d[i],objj_msgSend(j,"isKindOfClass:",f)&&(c=j),!(j===a||j===c)&&objj_msgSend(j,"isVisible")&&objj_msgSend(j,"canBecomeMainWindow")){objj_msgSend(j,"makeMainWindow");break}}}}),new objj_method(sel_getUid("toolbar"),function(a){with(a)return _toolbar}),new objj_method(sel_getUid("setToolbar:"),function(a,d,b){with(a){if(_toolbar===b)return;objj_msgSend(objj_msgSend(b,"_window"),"setToolbar:",nil);objj_msgSend(_toolbar,"_setWindow:",
nil);_toolbar=b;objj_msgSend(_toolbar,"_setWindow:",a);objj_msgSend(a,"_noteToolbarChanged")}}),new objj_method(sel_getUid("toggleToolbarShown:"),function(a){with(a)a=objj_msgSend(a,"toolbar"),objj_msgSend(a,"setVisible:",!objj_msgSend(a,"isVisible"))}),new objj_method(sel_getUid("_noteToolbarChanged"),function(a){with(a){var d=CGRectMakeCopy(objj_msgSend(a,"frame")),b;objj_msgSend(_windowView,"noteToolbarChanged");_isFullPlatformWindow?b=objj_msgSend(_platformWindow,"visibleFrame"):(b=CGRectMakeCopy(objj_msgSend(a,
"frame")),b.origin=d.origin);objj_msgSend(a,"setFrame:",b)}}),new objj_method(sel_getUid("_setFrame:delegate:duration:curve:"),function(a,d,b,f,c,i){with(a)objj_msgSend(_frameAnimation,"stopAnimation"),_frameAnimation=objj_msgSend(objj_msgSend(_CPWindowFrameAnimation,"alloc"),"initWithWindow:targetFrame:",a,b),objj_msgSend(_frameAnimation,"setDelegate:",f),objj_msgSend(_frameAnimation,"setAnimationCurve:",i),objj_msgSend(_frameAnimation,"setDuration:",c),objj_msgSend(_frameAnimation,"startAnimation")}),
new objj_method(sel_getUid("animationResizeTime:"),function(a){with(a)return 0.2}),new objj_method(sel_getUid("_setAttachedSheetFrameOrigin"),function(a){with(a){var d=objj_msgSend(a,"attachedSheet");a=objj_msgSend(objj_msgSend(a,"contentView"),"frame");var b=CGRectMakeCopy(objj_msgSend(d,"frame"));b.origin.y=CGRectGetMinY(_frame)+CGRectGetMinY(a);b.origin.x=CGRectGetMinX(_frame)+FLOOR((CGRectGetWidth(_frame)-CGRectGetWidth(b))/2);objj_msgSend(d,"setFrame:display:animate:",b,YES,NO)}}),new objj_method(sel_getUid("_attachSheet:modalDelegate:didEndSelector:contextInfo:"),
function(a,d,b,f,c,i){with(a)d=objj_msgSend(b,"frame"),_sheetContext={sheet:b,modalDelegate:f,endSelector:c,contextInfo:i,frame:CGRectMakeCopy(d),returnCode:-1,opened:NO},objj_msgSend(a,"_attachSheetWindow:",b)}),new objj_method(sel_getUid("_attachSheetWindow:"),function(a,d,b){with(a){d=objj_msgSend(b,"frame");var f=objj_msgSend(a,"frame"),c=objj_msgSend(b,"contentView");objj_msgSend(a,"_setUpMasksForView:",c);b._isSheet=YES;b._parentView=a;c=f.origin.x+FLOOR((f.size.width-d.size.width)/2);var i=
f.origin.y+objj_msgSend(objj_msgSend(a,"contentView"),"frame").origin.y;f=CGRectMake(c,i,d.size.width,0);d=CGRectMake(c,i,d.size.width,d.size.height);objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowWillBeginSheetNotification,a);objj_msgSend(CPApp,"runModalForWindow:",b);objj_msgSend(b,"orderFront:",a);objj_msgSend(b,"setFrame:display:animate:",f,YES,NO);_sheetContext.opened=YES;objj_msgSend(b,"_setFrame:delegate:duration:curve:",d,a,objj_msgSend(a,
"animationResizeTime:",d),CPAnimationEaseOut);objj_msgSend(b,"becomeKeyWindow")}}),new objj_method(sel_getUid("_detachSheetWindow"),function(a){with(a){var d=objj_msgSend(a,"attachedSheet"),b=objj_msgSend(d,"frame"),f=CGRectMakeCopy(b);f.size.height=0;_sheetContext.frame=b;b=objj_msgSend(d,"contentView");objj_msgSend(a,"_setUpMasksForView:",b);_sheetContext.opened=NO;objj_msgSend(d,"_setFrame:delegate:duration:curve:",f,a,objj_msgSend(a,"animationResizeTime:",f),CPAnimationEaseIn)}}),new objj_method(sel_getUid("animationDidEnd:"),
function(a,d,b){with(a){d=_sheetContext.sheet;if(b._window!=d)return;b=objj_msgSend(d,"contentView");if(_sheetContext.opened===YES){objj_msgSend(a,"_restoreMasksForView:",b);return}objj_msgSend(CPApp,"stopModal");objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidEndSheetNotification,a);objj_msgSend(d,"orderOut:",a);objj_msgSend(d,"setFrame:",_sheetContext.frame);objj_msgSend(a,"_restoreMasksForView:",b);a=_sheetContext.modalDelegate;b=_sheetContext.endSelector;
var f=_sheetContext.returnCode,c=_sheetContext.contextInfo;_sheetContext=nil;d._parentView=nil;a!=nil&&b!=nil&&objj_msgSend(a,b,d,f,c)}}),new objj_method(sel_getUid("_setUpMasksForView:"),function(a,d,b){with(a){a=objj_msgSend(b,"subviews");objj_msgSend(a,"addObject:",b);b=0;for(d=objj_msgSend(a,"count");b<d;b++){var f=objj_msgSend(a,"objectAtIndex:",b),c=objj_msgSend(f,"autoresizingMask");objj_msgSend(f,"setAutoresizingMask:",c|(c&CPViewMinYMargin?128:CPViewMinYMargin))}}}),new objj_method(sel_getUid("_restoreMasksForView:"),
function(a,d,b){with(a){a=objj_msgSend(b,"subviews");objj_msgSend(a,"addObject:",b);b=0;for(d=objj_msgSend(a,"count");b<d;b++){var f=objj_msgSend(a,"objectAtIndex:",b),c=objj_msgSend(f,"autoresizingMask");objj_msgSend(f,"setAutoresizingMask:",c&~(c&128?128:CPViewMinYMargin))}}}),new objj_method(sel_getUid("attachedSheet"),function(a){with(a){if(_sheetContext===nil)return nil;return _sheetContext.sheet}}),new objj_method(sel_getUid("isSheet"),function(a){with(a)return _isSheet}),new objj_method(sel_getUid("becomesKeyOnlyIfNeeded"),
function(a){with(a)return NO}),new objj_method(sel_getUid("worksWhenModal"),function(a){with(a)return NO}),new objj_method(sel_getUid("performKeyEquivalent:"),function(a,d,b){with(a)return objj_msgSend(objj_msgSend(a,"contentView"),"performKeyEquivalent:",b)}),new objj_method(sel_getUid("keyDown:"),function(a,d,b){with(a){if(objj_msgSend(b,"_couldBeKeyEquivalent")&&objj_msgSend(a,"performKeyEquivalent:",b))return;objj_msgSend(a,"_processKeyboardUIKey:",b)||objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPWindow").super_class},
"keyDown:",b)}}),new objj_method(sel_getUid("_processKeyboardUIKey:"),function(a,b,f){with(a){b=objj_msgSend(f,"charactersIgnoringModifiers");if(!objj_msgSend(d,"containsObject:",b))return NO;f=objj_msgSend(CPKeyBinding,"selectorsForKey:modifierFlags:",b,0);if(objj_msgSend(f,"count")<=0)return NO;if(b!==CPEscapeFunctionKey)return b=objj_msgSend(f,"objectAtIndex:",0),objj_msgSend(objj_msgSend(a,"firstResponder"),"tryToPerform:with:",b,a);else objj_msgSend(objj_msgSend(a,"firstResponder"),"doCommandBySelector:",
sel_getUid("complete:"));return NO}}),new objj_method(sel_getUid("_dirtyKeyViewLoop"),function(a){with(a)_autorecalculatesKeyViewLoop&&(_keyViewLoopIsDirty=YES)}),new objj_method(sel_getUid("_hasKeyViewLoop"),function(a){with(a){a=i(a);for(var d=objj_msgSend(a,"count");d--;)if(objj_msgSend(a[d],"nextKeyView"))return YES;return NO}}),new objj_method(sel_getUid("recalculateKeyViewLoop"),function(a){with(a){a=i(a);objj_msgSend(a,"sortUsingFunction:context:",t,nil);for(var d=0,b=objj_msgSend(a,"count");d<
b;++d)objj_msgSend(a[d],"setNextKeyView:",a[(d+1)%b]);_keyViewLoopIsDirty=NO}}),new objj_method(sel_getUid("setAutorecalculatesKeyViewLoop:"),function(a,d,b){with(a){if(_autorecalculatesKeyViewLoop===b)return;_autorecalculatesKeyViewLoop=b;_keyViewLoopIsDirty?objj_msgSend(a,"recalculateKeyViewLoop"):_autorecalculatesKeyViewLoop&&objj_msgSend(a,"_dirtyKeyViewLoop")}}),new objj_method(sel_getUid("autorecalculatesKeyViewLoop"),function(a){with(a)return _autorecalculatesKeyViewLoop}),new objj_method(sel_getUid("selectNextKeyView:"),
function(a){with(a)objj_msgSend(_firstResponder,"isKindOfClass:",objj_msgSend(CPView,"class"))&&objj_msgSend(a,"selectKeyViewFollowingView:",_firstResponder)}),new objj_method(sel_getUid("selectPreviousKeyView:"),function(a){with(a)objj_msgSend(_firstResponder,"isKindOfClass:",objj_msgSend(CPView,"class"))&&objj_msgSend(a,"selectKeyViewPrecedingView:",_firstResponder)}),new objj_method(sel_getUid("selectKeyViewFollowingView:"),function(a,d,b){with(a)_keyViewLoopIsDirty&&objj_msgSend(a,"recalculateKeyViewLoop"),
objj_msgSend(a,"makeFirstResponder:",objj_msgSend(b,"nextValidKeyView"))}),new objj_method(sel_getUid("selectKeyViewPrecedingView:"),function(a,d,b){with(a)_keyViewLoopIsDirty&&objj_msgSend(a,"recalculateKeyViewLoop"),objj_msgSend(a,"makeFirstResponder:",objj_msgSend(b,"previousValidKeyView"))}),new objj_method(sel_getUid("setDefaultButtonCell:"),function(a,d,b){with(a)objj_msgSend(a,"setDefaultButton:",b)}),new objj_method(sel_getUid("defaultButtonCell"),function(a){with(a)return objj_msgSend(a,
"defaultButton")}),new objj_method(sel_getUid("setDefaultButton:"),function(a,d,b){with(a){if(_defaultButton===b)return;objj_msgSend(_defaultButton,"keyEquivalent")===CPCarriageReturnCharacter&&objj_msgSend(_defaultButton,"setKeyEquivalent:",nil);_defaultButton=b;objj_msgSend(_defaultButton,"keyEquivalent")!==CPCarriageReturnCharacter&&objj_msgSend(_defaultButton,"setKeyEquivalent:",CPCarriageReturnCharacter)}}),new objj_method(sel_getUid("defaultButton"),function(a){with(a)return _defaultButton}),
new objj_method(sel_getUid("enableKeyEquivalentForDefaultButton"),function(a){with(a)_defaultButtonEnabled=YES}),new objj_method(sel_getUid("enableKeyEquivalentForDefaultButtonCell"),function(a){with(a)objj_msgSend(a,"enableKeyEquivalentForDefaultButton")}),new objj_method(sel_getUid("disableKeyEquivalentForDefaultButton"),function(a){with(a)_defaultButtonEnabled=NO}),new objj_method(sel_getUid("disableKeyEquivalentForDefaultButtonCell"),function(a){with(a)objj_msgSend(a,"disableKeyEquivalentForDefaultButton")})]);
class_addMethods(f,[new objj_method(sel_getUid("initialize"),function(d){with(d){if(d!=objj_msgSend(CPWindow,"class"))return;d=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPWindow,"class"));a=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(d,"pathForResource:","CPProgressIndicator/CPProgressIndicatorSpinningStyleRegular.gif"),CGSizeMake(16,16))}}),new objj_method(sel_getUid("_windowViewClassForStyleMask:"),function(a,d,b){with(a){if(b&CPHUDBackgroundWindowMask)return _CPHUDWindowView;
else if(b===CPBorderlessWindowMask)return _CPBorderlessWindowView;else if(b&CPDocModalWindowMask)return _CPDocModalWindowView;return _CPStandardWindowView}}),new objj_method(sel_getUid("_windowViewClassForFullPlatformWindowStyleMask:"),function(a){with(a)return _CPBorderlessBridgeWindowView}),new objj_method(sel_getUid("frameRectForContentRect:styleMask:"),function(a,d,b,f){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,"class"),"_windowViewClassForStyleMask:",f),"frameRectForContentRect:",
b)})]);var i=function(a){a=objj_msgSend(objj_msgSend(a,"contentView"),"subviews");for(var d=0;d<a.length;++d)a=a.concat(objj_msgSend(a[d],"subviews"));return a},t=function(a,d){var b=objj_msgSend(a,"convertRect:toView:",objj_msgSend(a,"bounds"),nil),f=objj_msgSend(d,"convertRect:toView:",objj_msgSend(d,"bounds"),nil),c=b.origin.y,i=f.origin.y,j=b.origin.x,e=f.origin.x;if(MIN(b.origin.y+b.size.height,f.origin.y+f.size.height)-MAX(c,i)>0){if(j<e)return CPOrderedAscending;if(j===e)return CPOrderedSame;
return CPOrderedDescending}if(c<i)return CPOrderedAscending;if(c===i)return CPOrderedSame;return CPOrderedDescending};b=objj_getClass("CPWindow");if(!b)throw new SyntaxError('*** Could not find definition for class "CPWindow"');f=b.isa;class_addMethods(b,[new objj_method(sel_getUid("_synchronizeMenuBarTitleWithWindowTitle"),function(a){with(a){if(!objj_msgSend(_windowController,"document")||!objj_msgSend(a,"isMainWindow"))return;objj_msgSend(CPMenu,"setMenuBarTitle:",_title)}})]);b=objj_getClass("CPWindow");
if(!b)throw new SyntaxError('*** Could not find definition for class "CPWindow"');f=b.isa;class_addMethods(b,[new objj_method(sel_getUid("resizeWithOldPlatformWindowSize:"),function(a,d,b){with(a){if(objj_msgSend(a,"isFullPlatformWindow"))return objj_msgSend(a,"setFrame:",objj_msgSend(_platformWindow,"visibleFrame"));if(_autoresizingMask==CPWindowNotSizable)return;var f=objj_msgSend(_platformWindow,"contentBounds");d=CGRectMakeCopy(_frame);var c=(CGRectGetWidth(f)-b.width)/((_autoresizingMask&CPWindowMinXMargin?
1:0)+(_autoresizingMask&CPWindowWidthSizable?1:0)+(_autoresizingMask&CPWindowMaxXMargin?1:0));b=(CGRectGetHeight(f)-b.height)/((_autoresizingMask&CPWindowMinYMargin?1:0)+(_autoresizingMask&CPWindowHeightSizable?1:0)+(_autoresizingMask&CPWindowMaxYMargin?1:0));_autoresizingMask&CPWindowMinXMargin&&(d.origin.x+=c);_autoresizingMask&CPWindowWidthSizable&&(d.size.width+=c);_autoresizingMask&CPWindowMinYMargin&&(d.origin.y+=b);_autoresizingMask&CPWindowHeightSizable&&(d.size.height+=b);objj_msgSend(a,
"setFrame:",d)}}),new objj_method(sel_getUid("setAutoresizingMask:"),function(a,d,b){with(a)_autoresizingMask=b}),new objj_method(sel_getUid("autoresizingMask"),function(a){with(a)return _autoresizingMask}),new objj_method(sel_getUid("convertBaseToGlobal:"),function(a,d,b){with(a)return objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(a,"convertBaseToPlatformWindow:",b):objj_msgSend(a,"convertBaseToScreen:",b)}),new objj_method(sel_getUid("convertGlobalToBase:"),function(a,d,b){with(a)return objj_msgSend(CPPlatform,
"isBrowser")?objj_msgSend(a,"convertPlatformWindowToBase:",b):objj_msgSend(a,"convertScreenToBase:",b)}),new objj_method(sel_getUid("convertBaseToPlatformWindow:"),function(a,d,b){with(a){if(objj_msgSend(a,"_sharesChromeWithPlatformWindow"))return b;a=objj_msgSend(a,"frame").origin;return{x:b.x+a.x,y:b.y+a.y}}}),new objj_method(sel_getUid("convertPlatformWindowToBase:"),function(a,d,b){with(a){if(objj_msgSend(a,"_sharesChromeWithPlatformWindow"))return b;a=objj_msgSend(a,"frame").origin;return{x:b.x-
a.x,y:b.y-a.y}}}),new objj_method(sel_getUid("convertScreenToBase:"),function(a,d,b){with(a)return objj_msgSend(a,"convertPlatformWindowToBase:",objj_msgSend(_platformWindow,"convertScreenToBase:",b))}),new objj_method(sel_getUid("convertBaseToScreen:"),function(a,d,b){with(a)return objj_msgSend(_platformWindow,"convertBaseToScreen:",objj_msgSend(a,"convertBaseToPlatformWindow:",b))}),new objj_method(sel_getUid("_setSharesChromeWithPlatformWindow:"),function(a,d,b){with(a){if(b&&objj_msgSend(CPPlatform,
"isBrowser"))return;_sharesChromeWithPlatformWindow=b;objj_msgSend(a,"_updateShadow")}}),new objj_method(sel_getUid("_sharesChromeWithPlatformWindow"),function(a){with(a)return _sharesChromeWithPlatformWindow}),new objj_method(sel_getUid("undoManager"),function(a){with(a){if(_undoManager)return _undoManager;var d=objj_msgSend(objj_msgSend(_windowController,"document"),"undoManager");if(d)return d;if(_delegateRespondsToWindowWillReturnUndoManagerSelector)return objj_msgSend(_delegate,"windowWillReturnUndoManager:",
a);_undoManager||(_undoManager=objj_msgSend(objj_msgSend(CPUndoManager,"alloc"),"init"));return _undoManager}}),new objj_method(sel_getUid("undo:"),function(a){with(a)objj_msgSend(objj_msgSend(a,"undoManager"),"undo")}),new objj_method(sel_getUid("redo:"),function(a){with(a)objj_msgSend(objj_msgSend(a,"undoManager"),"redo")}),new objj_method(sel_getUid("containsPoint:"),function(a,d,b){with(a)return CGRectContainsPoint(_frame,b)})]);b=objj_getClass("CPWindow");if(!b)throw new SyntaxError('*** Could not find definition for class "CPWindow"');
f=b.isa;class_addMethods(b,[new objj_method(sel_getUid("setFullBridge:"),function(a,d,b){with(a)objj_msgSend(a,"setFullPlatformWindow:",b)}),new objj_method(sel_getUid("isFullBridge"),function(a){with(a)return objj_msgSend(a,"isFullPlatformWindow")}),new objj_method(sel_getUid("convertBaseToBridge:"),function(a,d,b){with(a)return objj_msgSend(a,"convertBaseToPlatformWindow:",b)}),new objj_method(sel_getUid("convertBridgeToBase:"),function(a,d,b){with(a)return objj_msgSend(a,"convertPlatformWindowToBase:",
b)})]);var j=function(a,d,b){return a+(d-a)*b};b=objj_allocateClassPair(CPAnimation,"_CPWindowFrameAnimation");f=b.isa;class_addIvars(b,[new objj_ivar("_window"),new objj_ivar("_startFrame"),new objj_ivar("_targetFrame")]);objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("initWithWindow:targetFrame:"),function(a,d,b,f){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPWindowFrameAnimation").super_class},"initWithDuration:animationCurve:",objj_msgSend(b,
"animationResizeTime:",f),CPAnimationLinear))_window=b,_targetFrame=CGRectMakeCopy(f),_startFrame=CGRectMakeCopy(objj_msgSend(_window,"frame"));return a}}),new objj_method(sel_getUid("startAnimation"),function(a){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPWindowFrameAnimation").super_class},"startAnimation"),_window._isAnimating=YES}),new objj_method(sel_getUid("setCurrentProgress:"),function(a,d,b){with(a){objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPWindowFrameAnimation").super_class},
"setCurrentProgress:",b);a=objj_msgSend(a,"currentValue");if(a==1)_window._isAnimating=NO;a=CGRectMake(j(CGRectGetMinX(_startFrame),CGRectGetMinX(_targetFrame),a),j(CGRectGetMinY(_startFrame),CGRectGetMinY(_targetFrame),a),j(CGRectGetWidth(_startFrame),CGRectGetWidth(_targetFrame),a),j(CGRectGetHeight(_startFrame),CGRectGetHeight(_targetFrame),a));objj_msgSend(_window,"setFrame:display:animate:",a,YES,NO)}})]);_CPWindowFullPlatformWindowSessionMake=function(a,d,b,f){return{windowView:a,contentRect:d,
hasShadow:b,level:f}};CPStandardWindowShadowStyle=0;CPMenuWindowShadowStyle=1;CPPanelWindowShadowStyle=2;CPCustomWindowShadowStyle=3;g("_CPWindowView.j",YES);g("_CPStandardWindowView.j",YES);g("_CPDocModalWindowView.j",YES);g("_CPHUDWindowView.j",YES);g("_CPBorderlessWindowView.j",YES);g("_CPBorderlessBridgeWindowView.j",YES);g("CPDragServer.j",YES);g("CPView.j",YES)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPApplication.j",baseURL),function(h,g){g("Foundation/CPBundle.j",NO);g("CPCompatibility.j",YES);g("CPEvent.j",YES);g("CPMenu.j",YES);g("CPResponder.j",YES);g("CPDocumentController.j",YES);g("CPThemeBlend.j",YES);g("CPCibLoading.j",YES);g("CPPlatform.j",YES);CPApp=nil;CPApplicationWillFinishLaunchingNotification="CPApplicationWillFinishLaunchingNotification";CPApplicationDidFinishLaunchingNotification="CPApplicationDidFinishLaunchingNotification";
CPApplicationWillTerminateNotification="CPApplicationWillTerminateNotification";CPApplicationWillBecomeActiveNotification="CPApplicationWillBecomeActiveNotification";CPApplicationDidBecomeActiveNotification="CPApplicationDidBecomeActiveNotification";CPApplicationWillResignActiveNotification="CPApplicationWillResignActiveNotification";CPApplicationDidResignActiveNotification="CPApplicationDidResignActiveNotification";CPTerminateNow=YES;CPTerminateCancel=NO;CPTerminateLater=-1;CPRunStoppedResponse=
-1E3;CPRunAbortedResponse=-1001;CPRunContinuesResponse=-1002;var e=objj_allocateClassPair(CPResponder,"CPApplication"),c=e.isa;class_addIvars(e,[new objj_ivar("_eventListeners"),new objj_ivar("_currentEvent"),new objj_ivar("_windows"),new objj_ivar("_keyWindow"),new objj_ivar("_mainWindow"),new objj_ivar("_previousKeyWindow"),new objj_ivar("_previousMainWindow"),new objj_ivar("_documentController"),new objj_ivar("_currentSession"),new objj_ivar("_delegate"),new objj_ivar("_finishedLaunching"),new objj_ivar("_isActive"),
new objj_ivar("_namedArgs"),new objj_ivar("_args"),new objj_ivar("_fullArgsString"),new objj_ivar("_applicationIconImage"),new objj_ivar("_aboutPanel"),new objj_ivar("_themeBlend")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("themeBlend"),function(a){with(a)return _themeBlend}),new objj_method(sel_getUid("setThemeBlend:"),function(a,b,f){with(a)_themeBlend=f}),new objj_method(sel_getUid("init"),function(a){with(a){if(CPApp=a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPApplication").super_class},
"init"))_eventListeners=[],_windows=[],objj_msgSend(_windows,"addObject:",nil);return a}}),new objj_method(sel_getUid("setDelegate:"),function(a,b,f){with(a){if(_delegate==f)return;b=objj_msgSend(CPNotificationCenter,"defaultCenter");var c=[CPApplicationWillFinishLaunchingNotification,sel_getUid("applicationWillFinishLaunching:"),CPApplicationDidFinishLaunchingNotification,sel_getUid("applicationDidFinishLaunching:"),CPApplicationWillBecomeActiveNotification,sel_getUid("applicationWillBecomeActive:"),
CPApplicationDidBecomeActiveNotification,sel_getUid("applicationDidBecomeActive:"),CPApplicationWillResignActiveNotification,sel_getUid("applicationWillResignActive:"),CPApplicationDidResignActiveNotification,sel_getUid("applicationDidResignActive:"),CPApplicationWillTerminateNotification,sel_getUid("applicationWillTerminate:")],e=objj_msgSend(c,"count");if(_delegate)for(var j=0;j<e;j+=2){var k=c[j],g=c[j+1];objj_msgSend(_delegate,"respondsToSelector:",g)&&objj_msgSend(b,"removeObserver:name:object:",
_delegate,k,a)}_delegate=f;for(j=0;j<e;j+=2)k=c[j],g=c[j+1],objj_msgSend(_delegate,"respondsToSelector:",g)&&objj_msgSend(b,"addObserver:selector:name:object:",_delegate,g,k,a)}}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("finishLaunching"),function(a){with(a){window.status=" ";objj_msgSend(objj_msgSend(CPCursor,"arrowCursor"),"set");var b=objj_msgSend(CPBundle,"mainBundle"),f=objj_msgSend(b,"objectForInfoDictionaryKey:","CPBundleDocumentTypes");
objj_msgSend(f,"count")>0&&(_documentController=objj_msgSend(CPDocumentController,"sharedDocumentController"));if(b=objj_msgSend(b,"objectForInfoDictionaryKey:","CPApplicationDelegateClass"))(b=objj_getClass(b))&&(objj_msgSend(_documentController,"class")==b?objj_msgSend(a,"setDelegate:",_documentController):objj_msgSend(a,"setDelegate:",objj_msgSend(objj_msgSend(b,"alloc"),"init")));b=objj_msgSend(CPNotificationCenter,"defaultCenter");objj_msgSend(b,"postNotificationName:object:",CPApplicationWillFinishLaunchingNotification,
a);f=!!_documentController;for(var c=window.cpOpeningURLStrings&&window.cpOpeningURLStrings(),e=0,j=objj_msgSend(c,"count");e<j;++e)f=!objj_msgSend(a,"_openURL:",objj_msgSend(CPURL,"URLWithString:",c[e]))||f;f&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("applicationShouldOpenUntitledFile:"))&&(f=objj_msgSend(_delegate,"applicationShouldOpenUntitledFile:",a));f&&objj_msgSend(_documentController,"newDocument:",a);objj_msgSend(_documentController,"_updateRecentDocumentsMenu");objj_msgSend(b,
"postNotificationName:object:",CPApplicationDidFinishLaunchingNotification,a);objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode);_finishedLaunching=YES}}),new objj_method(sel_getUid("terminate:"),function(a){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPApplicationWillTerminateNotification,a),objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(objj_msgSend(objj_msgSend(a,"keyWindow"),"platformWindow"),
"_propagateCurrentDOMEvent:",YES):objj_msgSend(objj_msgSend(CPDocumentController,"sharedDocumentController"),"closeAllDocumentsWithDelegate:didCloseAllSelector:contextInfo:",a,sel_getUid("_documentController:didCloseAll:context:"),nil)}),new objj_method(sel_getUid("setApplicationIconImage:"),function(a,b,f){with(a)_applicationIconImage=f}),new objj_method(sel_getUid("applicationIconImage"),function(a){with(a){if(_applicationIconImage)return _applicationIconImage;(a=objj_msgSend(objj_msgSend(CPBundle,
"mainBundle"),"objectForInfoDictionaryKey:","CPApplicationIcon"))&&(_applicationIconImage=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:",a));return _applicationIconImage}}),new objj_method(sel_getUid("orderFrontStandardAboutPanel:"),function(a){with(a)objj_msgSend(a,"orderFrontStandardAboutPanelWithOptions:",nil)}),new objj_method(sel_getUid("orderFrontStandardAboutPanelWithOptions:"),function(a,b,f){with(a){if(!_aboutPanel){var c=objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),
"infoDictionary");b=objj_msgSend(f,"objectForKey:","ApplicationName")||objj_msgSend(c,"objectForKey:","CPBundleName");var e=objj_msgSend(f,"objectForKey:","ApplicationIcon")||objj_msgSend(a,"applicationIconImage"),j=objj_msgSend(f,"objectForKey:","Version")||objj_msgSend(c,"objectForKey:","CPBundleVersion"),k=objj_msgSend(f,"objectForKey:","ApplicationVersion")||objj_msgSend(c,"objectForKey:","CPBundleShortVersionString");f=objj_msgSend(f,"objectForKey:","Copyright")||objj_msgSend(c,"objectForKey:",
"CPHumanReadableCopyright");c=objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPWindowController,"class")),"pathForResource:","AboutPanel.cib");var g=objj_msgSend(CPWindowController,"alloc");g=objj_msgSend(g,"initWithWindowCibPath:owner:",c,g);c=objj_msgSend(g,"window");var r=objj_msgSend(c,"contentView");g=objj_msgSend(r,"viewWithTag:",1);var p=objj_msgSend(r,"viewWithTag:",2),n=objj_msgSend(r,"viewWithTag:",3);r=objj_msgSend(r,"viewWithTag:",4);var s=objj_msgSend(objj_msgSend(CPBundle,
"bundleForClass:",objj_msgSend(a,"class")),"pathForResource:","standardApplicationIcon.png");objj_msgSend(p,"setFont:",objj_msgSend(CPFont,"boldSystemFontOfSize:",14));objj_msgSend(p,"setAlignment:",CPCenterTextAlignment);objj_msgSend(n,"setAlignment:",CPCenterTextAlignment);objj_msgSend(r,"setAlignment:",CPCenterTextAlignment);objj_msgSend(g,"setImage:",e||objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",s,CGSizeMake(256,256)));objj_msgSend(p,"setStringValue:",b||"");k&&
j?objj_msgSend(n,"setStringValue:","Version "+k+" ("+j+")"):k||j?objj_msgSend(n,"setStringValue:","Version "+(k||j)):objj_msgSend(n,"setStringValue:","");objj_msgSend(r,"setStringValue:",f||"");objj_msgSend(c,"center");_aboutPanel=c}objj_msgSend(_aboutPanel,"orderFront:",a)}}),new objj_method(sel_getUid("_documentController:didCloseAll:context:"),function(a,b,f,c){with(a)c&&(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("applicationShouldTerminate:"))?objj_msgSend(a,"replyToApplicationShouldTerminate:",
objj_msgSend(_delegate,"applicationShouldTerminate:",a)):objj_msgSend(a,"replyToApplicationShouldTerminate:",YES))}),new objj_method(sel_getUid("replyToApplicationShouldTerminate:"),function(a,b,f){with(a)f==CPTerminateNow&&(objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPApplicationWillTerminateNotification,a),objj_msgSend(CPPlatform,"terminateApplication"))}),new objj_method(sel_getUid("activateIgnoringOtherApps:"),function(a,b,f){with(a)objj_msgSend(a,
"_willBecomeActive"),objj_msgSend(CPPlatform,"activateIgnoringOtherApps:",f),_isActive=YES,objj_msgSend(a,"_willResignActive")}),new objj_method(sel_getUid("deactivate"),function(a){with(a)objj_msgSend(a,"_willResignActive"),objj_msgSend(CPPlatform,"deactivate"),_isActive=NO,objj_msgSend(a,"_didResignActive")}),new objj_method(sel_getUid("isActive"),function(a){with(a)return _isActive}),new objj_method(sel_getUid("hideOtherApplications:"),function(a){with(a)objj_msgSend(CPPlatform,"hideOtherApplications:",
a)}),new objj_method(sel_getUid("run"),function(a){with(a)objj_msgSend(a,"finishLaunching")}),new objj_method(sel_getUid("runModalForWindow:"),function(a,b,f){with(a)objj_msgSend(a,"runModalSession:",objj_msgSend(a,"beginModalSessionForWindow:",f))}),new objj_method(sel_getUid("stopModalWithCode:"),function(a,b,f){with(a){if(!_currentSession)return;_currentSession._state=f;_currentSession=_currentSession._previous;objj_msgSend(a,"_removeRunModalLoop")}}),new objj_method(sel_getUid("_removeRunModalLoop"),
function(a){with(a)for(a=_eventListeners.length;a--;)if(_eventListeners[a]._callback===_CPRunModalLoop){_eventListeners.splice(a,1);break}}),new objj_method(sel_getUid("stopModal"),function(a){with(a)objj_msgSend(a,"stopModalWithCode:",CPRunStoppedResponse)}),new objj_method(sel_getUid("abortModal"),function(a){with(a)objj_msgSend(a,"stopModalWithCode:",CPRunAbortedResponse)}),new objj_method(sel_getUid("beginModalSessionForWindow:"),function(a,b,f){with(a)return{_window:f,_state:CPRunContinuesResponse,
_previous:nil}}),new objj_method(sel_getUid("runModalSession:"),function(a,b,f){with(a)f._previous=_currentSession,_currentSession=f,b=f._window,objj_msgSend(b,"center"),objj_msgSend(b,"makeKeyWindow"),objj_msgSend(b,"orderFront:",a),objj_msgSend(CPApp,"setCallback:forNextEventMatchingMask:untilDate:inMode:dequeue:",_CPRunModalLoop,CPAnyEventMask,nil,0,NO)}),new objj_method(sel_getUid("modalWindow"),function(a){with(a){if(!_currentSession)return nil;return _currentSession._window}}),new objj_method(sel_getUid("_handleKeyEquivalent:"),
function(a,b,f){with(a)return objj_msgSend(objj_msgSend(a,"keyWindow"),"performKeyEquivalent:",f)||objj_msgSend(objj_msgSend(a,"mainMenu"),"performKeyEquivalent:",f)}),new objj_method(sel_getUid("sendEvent:"),function(a,b,f){with(a){_currentEvent=f;b=objj_msgSend(objj_msgSend(objj_msgSend(f,"window"),"platformWindow"),"_willPropagateCurrentDOMEvent");objj_msgSend(objj_msgSend(objj_msgSend(f,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",NO);if(objj_msgSend(f,"_couldBeKeyEquivalent")&&objj_msgSend(a,
"_handleKeyEquivalent:",f)){a=objj_msgSend(f,"characters");b=objj_msgSend(f,"modifierFlags");(a=="c"||a=="x"||a=="v")&&b&CPPlatformActionKeyMask&&objj_msgSend(objj_msgSend(objj_msgSend(f,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES);return}objj_msgSend(objj_msgSend(objj_msgSend(f,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",b);if(_eventListeners.length){_eventListeners[_eventListeners.length-1]._mask&1<<objj_msgSend(f,"type")&&_eventListeners.pop()._callback(f);return}objj_msgSend(objj_msgSend(f,
"window"),"sendEvent:",f)}}),new objj_method(sel_getUid("doCommandBySelector:"),function(a,b,f){with(a)objj_msgSend(_delegate,"respondsToSelector:",f)?objj_msgSend(_delegate,"performSelector:",f):objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPApplication").super_class},"doCommandBySelector:",f)}),new objj_method(sel_getUid("keyWindow"),function(a){with(a)return _keyWindow}),new objj_method(sel_getUid("mainWindow"),function(a){with(a)return _mainWindow}),new objj_method(sel_getUid("windowWithWindowNumber:"),
function(a,b,f){with(a)return _windows[f]}),new objj_method(sel_getUid("windows"),function(a){with(a)return _windows}),new objj_method(sel_getUid("orderedWindows"),function(a){with(a)return CPWindowObjectList()}),new objj_method(sel_getUid("hide:"),function(a){with(a)objj_msgSend(CPPlatform,"hide:",a)}),new objj_method(sel_getUid("mainMenu"),function(a){with(a)return objj_msgSend(a,"menu")}),new objj_method(sel_getUid("setMainMenu:"),function(a,b,f){with(a)objj_msgSend(a,"setMenu:",f)}),new objj_method(sel_getUid("setMenu:"),
function(a,b,f){with(a)if(objj_msgSend(f,"_menuName")==="CPMainMenu"){if(objj_msgSend(a,"menu")===f)return;objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPApplication").super_class},"setMenu:",f);objj_msgSend(CPPlatform,"supportsNativeMainMenu")&&window.cpSetMainMenu(objj_msgSend(a,"menu"))}else objj_msgSend(f,"_setMenuName:","CPMainMenu")}),new objj_method(sel_getUid("orderFrontColorPanel:"),function(a){with(a)objj_msgSend(objj_msgSend(CPColorPanel,"sharedColorPanel"),"orderFront:",a)}),
new objj_method(sel_getUid("tryToPerform:with:"),function(a,b,f,c){with(a){if(!f)return NO;if(objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPApplication").super_class},"tryToPerform:with:",f,c))return YES;if(objj_msgSend(_delegate,"respondsToSelector:",f))return objj_msgSend(_delegate,"performSelector:withObject:",f,c),YES;return NO}}),new objj_method(sel_getUid("sendAction:to:from:"),function(a,b,f,c,e){with(a){a=objj_msgSend(a,"targetForAction:to:from:",f,c,e);if(!a)return NO;objj_msgSend(a,
"performSelector:withObject:",f,e);return YES}}),new objj_method(sel_getUid("targetForAction:to:from:"),function(a,b,f,c){with(a){if(!f)return nil;if(c)return c;return objj_msgSend(a,"targetForAction:",f)}}),new objj_method(sel_getUid("_targetForWindow:action:"),function(a,b,f,c){with(a){a=objj_msgSend(f,"firstResponder");for(b=YES;a;){if(objj_msgSend(a,"respondsToSelector:",c))return a;a==f&&(b=NO);a=objj_msgSend(a,"nextResponder")}if(b&&objj_msgSend(f,"respondsToSelector:",c))return f;a=objj_msgSend(f,
"delegate");if(objj_msgSend(a,"respondsToSelector:",c))return a;f=objj_msgSend(f,"windowController");if(objj_msgSend(f,"respondsToSelector:",c))return f;f=objj_msgSend(f,"document");if(f!==a&&objj_msgSend(f,"respondsToSelector:",c))return f;return nil}}),new objj_method(sel_getUid("targetForAction:"),function(a,b,f){with(a){if(!f)return nil;if(b=objj_msgSend(a,"_targetForWindow:action:",objj_msgSend(a,"keyWindow"),f))return b;if(b=objj_msgSend(a,"_targetForWindow:action:",objj_msgSend(a,"mainWindow"),
f))return b;if(objj_msgSend(a,"respondsToSelector:",f))return a;if(objj_msgSend(_delegate,"respondsToSelector:",f))return _delegate;if(objj_msgSend(_documentController,"respondsToSelector:",f))return _documentController;return nil}}),new objj_method(sel_getUid("setCallback:forNextEventMatchingMask:untilDate:inMode:dequeue:"),function(a,b,f,c){with(a)_eventListeners.push({_mask:c,_callback:f})}),new objj_method(sel_getUid("setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:"),function(a,
b,f,c,e){with(a)_eventListeners.push({_mask:e,_callback:function(a){objj_msgSend(f,c,a)}})}),new objj_method(sel_getUid("currentEvent"),function(a){with(a)return _currentEvent}),new objj_method(sel_getUid("beginSheet:modalForWindow:modalDelegate:didEndSelector:contextInfo:"),function(a,b,f,c,e,j,k){with(a){if(!(objj_msgSend(f,"styleMask")&CPDocModalWindowMask)){objj_msgSend(CPException,"raise:reason:",CPInternalInconsistencyException,"Currently only CPDocModalWindowMask style mask is supported for attached sheets");
return}objj_msgSend(c,"orderFront:",a);objj_msgSend(f,"setPlatformWindow:",objj_msgSend(c,"platformWindow"));objj_msgSend(c,"_attachSheet:modalDelegate:didEndSelector:contextInfo:",f,e,j,k)}}),new objj_method(sel_getUid("endSheet:returnCode:"),function(a,b,f,c){with(a)for(a=objj_msgSend(_windows,"count");--a>=0;){b=objj_msgSend(_windows,"objectAtIndex:",a);var e=b._sheetContext;if(e!=nil&&e.sheet===f){e.returnCode=c;objj_msgSend(b,"_detachSheetWindow");break}}}),new objj_method(sel_getUid("endSheet:"),
function(a,b,f){with(a)objj_msgSend(a,"endSheet:returnCode:",f,0)}),new objj_method(sel_getUid("arguments"),function(a){with(a)return _fullArgsString!==window.location.hash&&objj_msgSend(a,"_reloadArguments"),_args}),new objj_method(sel_getUid("setArguments:"),function(a,b,f){with(a){if(!f||f.length==0){_args=[];window.location.hash="#";return}objj_msgSend(f,"isKindOfClass:",CPArray)||(f=objj_msgSend(CPArray,"arrayWithObject:",f));_args=f;a=objj_msgSend(_args,"copy");b=0;for(f=a.length;b<f;b++)a[b]=
encodeURIComponent(a[b]);a=objj_msgSend(a,"componentsJoinedByString:","/");window.location.hash="#"+a}}),new objj_method(sel_getUid("_reloadArguments"),function(a){with(a)if(_fullArgsString=window.location.hash,_fullArgsString.length){a=_fullArgsString.substring(1).split("/");for(var b=0,f=a.length;b<f;b++)a[b]=decodeURIComponent(a[b]);_args=a}else _args=[]}),new objj_method(sel_getUid("namedArguments"),function(a){with(a)return _namedArgs}),new objj_method(sel_getUid("_openURL:"),function(a,b,f){with(a){if(_delegate&&
objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("application:openFile:")))return CPLog.warn("application:openFile: is deprecated, use application:openURL: instead."),objj_msgSend(_delegate,"application:openFile:",a,objj_msgSend(f,"absoluteString"));if(_delegate&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("application:openURL:")))return objj_msgSend(_delegate,"application:openURL:",a,f);return!!objj_msgSend(_documentController,"openDocumentWithContentsOfURL:display:error:",f,YES,
NULL)}}),new objj_method(sel_getUid("_willBecomeActive"),function(a){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPApplicationWillBecomeActiveNotification,a,nil)}),new objj_method(sel_getUid("_didBecomeActive"),function(a){with(a)!objj_msgSend(a,"keyWindow")&&_previousKeyWindow&&objj_msgSend(objj_msgSend(a,"windows"),"indexOfObjectIdenticalTo:",_previousKeyWindow)!==CPNotFound&&objj_msgSend(_previousKeyWindow,"makeKeyWindow"),!objj_msgSend(a,
"mainWindow")&&_previousMainWindow&&objj_msgSend(objj_msgSend(a,"windows"),"indexOfObjectIdenticalTo:",_previousMainWindow)!==CPNotFound&&objj_msgSend(_previousMainWindow,"makeMainWindow"),objj_msgSend(a,"keyWindow")?objj_msgSend(objj_msgSend(a,"keyWindow"),"orderFront:",a):objj_msgSend(a,"mainWindow")?objj_msgSend(objj_msgSend(a,"mainWindow"),"makeKeyAndOrderFront:",a):objj_msgSend(objj_msgSend(a,"mainMenu")._menuWindow,"makeKeyWindow"),_previousMainWindow=_previousKeyWindow=nil,objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:userInfo:",CPApplicationDidBecomeActiveNotification,a,nil)}),new objj_method(sel_getUid("_willResignActive"),function(a){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPApplicationWillResignActiveNotification,a,nil)}),new objj_method(sel_getUid("_didResignActive"),function(a){with(a)a._activeMenu&&objj_msgSend(a._activeMenu,"cancelTracking"),objj_msgSend(a,"keyWindow")&&(_previousKeyWindow=
objj_msgSend(a,"keyWindow"),objj_msgSend(_previousKeyWindow,"resignKeyWindow")),objj_msgSend(a,"mainWindow")&&(_previousMainWindow=objj_msgSend(a,"mainWindow"),objj_msgSend(_previousMainWindow,"resignMainWindow")),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPApplicationDidResignActiveNotification,a,nil)})]);class_addMethods(c,[new objj_method(sel_getUid("sharedApplication"),function(a){with(a)return CPApp||(CPApp=objj_msgSend(objj_msgSend(CPApplication,
"alloc"),"init")),CPApp}),new objj_method(sel_getUid("defaultThemeName"),function(a){with(a)return objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"objectForInfoDictionaryKey:","CPDefaultTheme")||"Aristo"})]);_CPRunModalLoop=function(a){objj_msgSend(CPApp,"setCallback:forNextEventMatchingMask:untilDate:inMode:dequeue:",_CPRunModalLoop,CPAnyEventMask,nil,0,NO);var b=objj_msgSend(a,"window");(b==CPApp._currentSession._window||objj_msgSend(b,"worksWhenModal"))&&objj_msgSend(b,"sendEvent:",a)};CPApplicationMain=
function(a,b){window.parent!==window&&typeof window.parent._childAppIsStarting==="function"&&window.parent._childAppIsStarting(window);var f=objj_msgSend(CPBundle,"mainBundle");(f=objj_msgSend(f,"principalClass"))||(f=objj_msgSend(CPApplication,"class"));objj_msgSend(f,"sharedApplication");objj_msgSend(a,"containsObject:","debug")&&CPLogRegister(CPLogPopup);CPApp._args=a;CPApp._namedArgs=b;objj_msgSend(_CPAppBootstrapper,"performActions")};var a=nil;e=objj_allocateClassPair(CPObject,"_CPAppBootstrapper");
c=e.isa;objj_registerClassPair(e);class_addMethods(c,[new objj_method(sel_getUid("actions"),function(a){with(a)return[sel_getUid("bootstrapPlatform"),sel_getUid("loadDefaultTheme"),sel_getUid("loadMainCibFile")]}),new objj_method(sel_getUid("performActions"),function(d){with(d){for(a||(a=objj_msgSend(d,"actions"));a.length;){var b=a.shift();if(objj_msgSend(d,b))return}objj_msgSend(CPApp,"run")}}),new objj_method(sel_getUid("bootstrapPlatform"),function(a){with(a)return objj_msgSend(CPPlatform,"bootstrap")}),
new objj_method(sel_getUid("loadDefaultTheme"),function(a){with(a){var b=objj_msgSend(CPApplication,"defaultThemeName"),f=nil;f=b==="Aristo"?objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPApplication,"class")),"pathForResource:",b+".blend"):objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"pathForResource:",b+".blend");b=objj_msgSend(objj_msgSend(CPThemeBlend,"alloc"),"initWithContentsOfURL:",f);objj_msgSend(b,"loadWithDelegate:",a);return YES}}),new objj_method(sel_getUid("blendDidFinishLoading:"),
function(a,b,f){with(a)objj_msgSend(objj_msgSend(CPApplication,"sharedApplication"),"setThemeBlend:",f),objj_msgSend(CPTheme,"setDefaultTheme:",objj_msgSend(CPTheme,"themeNamed:",objj_msgSend(CPApplication,"defaultThemeName"))),objj_msgSend(a,"performActions")}),new objj_method(sel_getUid("loadMainCibFile"),function(a){with(a){var b=objj_msgSend(CPBundle,"mainBundle"),f=objj_msgSend(b,"objectForInfoDictionaryKey:","CPMainCibFile")||objj_msgSend(b,"objectForInfoDictionaryKey:","Main cib file base name");
if(f)return objj_msgSend(b,"loadCibFile:externalNameTable:loadDelegate:",f,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",CPApp,CPCibOwner),a),YES;else objj_msgSend(a,"loadCiblessBrowserMainMenu");return NO}}),new objj_method(sel_getUid("loadCiblessBrowserMainMenu"),function(a){with(a){a=objj_msgSend(objj_msgSend(CPMenu,"alloc"),"initWithTitle:","MainMenu");objj_msgSend(a,"setAutoenablesItems:",NO);var b=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPApplication,"class")),f=objj_msgSend(objj_msgSend(CPMenuItem,
"alloc"),"initWithTitle:action:keyEquivalent:","New",sel_getUid("newDocument:"),"n");objj_msgSend(f,"setImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPApplication/New.png"),CGSizeMake(16,16)));objj_msgSend(f,"setAlternateImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPApplication/NewHighlighted.png"),CGSizeMake(16,16)));objj_msgSend(a,"addItem:",f);f=objj_msgSend(objj_msgSend(CPMenuItem,
"alloc"),"initWithTitle:action:keyEquivalent:","Open",sel_getUid("openDocument:"),"o");objj_msgSend(f,"setImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPApplication/Open.png"),CGSizeMake(16,16)));objj_msgSend(f,"setAlternateImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPApplication/OpenHighlighted.png"),CGSizeMake(16,16)));objj_msgSend(a,"addItem:",f);f=objj_msgSend(objj_msgSend(CPMenu,
"alloc"),"initWithTitle:","Save");var c=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Save",sel_getUid("saveDocument:"),nil);objj_msgSend(c,"setImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPApplication/Save.png"),CGSizeMake(16,16)));objj_msgSend(c,"setAlternateImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPApplication/SaveHighlighted.png"),
CGSizeMake(16,16)));objj_msgSend(f,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Save",sel_getUid("saveDocument:"),"s"));objj_msgSend(f,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Save As",sel_getUid("saveDocumentAs:"),nil));objj_msgSend(c,"setSubmenu:",f);objj_msgSend(a,"addItem:",c);b=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Edit",nil,nil);f=objj_msgSend(objj_msgSend(CPMenu,
"alloc"),"initWithTitle:","Edit");c=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Undo",sel_getUid("undo:"),CPUndoKeyEquivalent);var e=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Redo",sel_getUid("redo:"),CPRedoKeyEquivalent);objj_msgSend(c,"setKeyEquivalentModifierMask:",CPUndoKeyEquivalentModifierMask);objj_msgSend(e,"setKeyEquivalentModifierMask:",CPRedoKeyEquivalentModifierMask);objj_msgSend(f,"addItem:",c);objj_msgSend(f,
"addItem:",e);objj_msgSend(f,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Cut",sel_getUid("cut:"),"x"));objj_msgSend(f,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Copy",sel_getUid("copy:"),"c"));objj_msgSend(f,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Paste",sel_getUid("paste:"),"v"));objj_msgSend(b,"setSubmenu:",f);objj_msgSend(b,"setHidden:",
YES);objj_msgSend(a,"addItem:",b);objj_msgSend(a,"addItem:",objj_msgSend(CPMenuItem,"separatorItem"));objj_msgSend(CPApp,"setMainMenu:",a)}}),new objj_method(sel_getUid("cibDidFinishLoading:"),function(a){with(a)objj_msgSend(a,"performActions")}),new objj_method(sel_getUid("cibDidFailToLoad:"),function(a){with(a)throw Error("Could not load main cib file (Did you forget to nib2cib it?).");}),new objj_method(sel_getUid("reset"),function(d){with(d)a=nil})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CGContext.j",baseURL),function(h,g){g("CGAffineTransform.j",YES);g("CPCompatibility.j",YES);g("CGGeometry.j",YES);g("CGPath.j",YES);kCGLineCapButt=0;kCGLineCapRound=1;kCGLineCapSquare=2;kCGLineJoinMiter=0;kCGLineJoinRound=1;kCGLineJoinBevel=2;kCGPathFill=0;kCGPathEOFill=1;kCGPathStroke=2;kCGPathFillStroke=3;kCGPathEOFillStroke=4;kCGBlendModeNormal=0;kCGBlendModeMultiply=1;kCGBlendModeScreen=2;kCGBlendModeOverlay=3;kCGBlendModeDarken=
4;kCGBlendModeLighten=5;kCGBlendModeColorDodge=6;kCGBlendModeColorBurn=7;kCGBlendModeSoftLight=8;kCGBlendModeHardLight=9;kCGBlendModeDifference=10;kCGBlendModeExclusion=11;kCGBlendModeHue=12;kCGBlendModeSaturation=13;kCGBlendModeColor=14;kCGBlendModeLuminosity=15;kCGBlendModeClear=16;kCGBlendModeCopy=17;kCGBlendModeSourceIn=18;kCGBlendModeSourceOut=19;kCGBlendModeSourceAtop=20;kCGBlendModeDestinationOver=21;kCGBlendModeDestinationIn=22;kCGBlendModeDestinationOut=23;kCGBlendModeDestinationAtop=24;
kCGBlendModeXOR=25;kCGBlendModePlusDarker=26;kCGBlendModePlusLighter=27;CGContextRelease=function(){};CGContextRetain=function(a){return a};CPFeatureIsCompatible(CPHTMLCanvasFeature)||(CGGStateCreate=function(){return{alpha:1,strokeStyle:"#000",fillStyle:"#ccc",lineWidth:1,lineJoin:kCGLineJoinMiter,lineCap:kCGLineCapButt,miterLimit:10,globalAlpha:1,blendMode:kCGBlendModeNormal,shadowOffset:{width:0,height:0},shadowBlur:0,shadowColor:NULL,CTM:{a:1,b:0,c:0,d:1,tx:0,ty:0}}},CGGStateCreateCopy=function(a){return{alpha:a.alpha,
strokeStyle:a.strokeStyle,fillStyle:a.fillStyle,lineWidth:a.lineWidth,lineJoin:a.lineJoin,lineCap:a.lineCap,miterLimit:a.miterLimit,globalAlpha:a.globalAlpha,blendMode:a.blendMode,shadowOffset:{width:a.shadowOffset.width,height:a.shadowOffset.height},shadowBlur:a.shadowBlur,shadowColor:a.shadowColor,CTM:{a:a.CTM.a,b:a.CTM.b,c:a.CTM.c,d:a.CTM.d,tx:a.CTM.tx,ty:a.CTM.ty}}},CGBitmapGraphicsContextCreate=function(){return{DOMElement:document.createElement("div"),path:NULL,gState:CGGStateCreate(),gStateStack:[]}},
CGContextSaveGState=function(a){a.gStateStack.push(CGGStateCreateCopy(a.gState))},CGContextRestoreGState=function(a){a.gState=a.gStateStack.pop()},CGContextSetLineCap=function(a,b){a.gState.lineCap=b},CGContextSetLineJoin=function(a,b){a.gState.lineJoin=b},CGContextSetLineWidth=function(a,b){a.gState.lineWidth=b},CGContextSetMiterLimit=function(a,b){a.gState.miterLimit=b},CGContextSetBlendMode=function(a,b){a.gState.blendMode=b},CGContextAddArc=function(a,b,d,f,c,i,e){CGPathAddArc(a.path,a.gState.CTM,
b,d,f,c,i,e)},CGContextAddArcToPoint=function(a,b,d,f,c,i){CGPathAddArcToPoint(a.path,a.gState.CTM,b,d,f,c,i)},CGContextAddCurveToPoint=function(a,b,d,f,c,i,e){CGPathAddCurveToPoint(a.path,a.gState.CTM,b,d,f,c,i,e)},CGContextAddLines=function(a,b,d){CGPathAddLines(a.path,a.gState.CTM,b,d)},CGContextAddLineToPoint=function(a,b,d){CGPathAddLineToPoint(a.path,a.gState.CTM,b,d)},CGContextAddPath=function(a,b){if(a&&!CGPathIsEmpty(b)){if(!a.path)a.path=CGPathCreateMutable();CGPathAddPath(a.path,a.gState.CTM,
b)}},CGContextAddQuadCurveToPoint=function(a,b,d,f,c){CGPathAddQuadCurveToPoint(a.path,a.gState.CTM,b,d,f,c)},CGContextAddRect=function(a,b){CGPathAddRect(a.path,a.gState.CTM,b)},CGContextAddRects=function(a,b,d){CGPathAddRects(a.path,a.gState.CTM,b,d)},CGContextBeginPath=function(a){a.path=CGPathCreateMutable()},CGContextClosePath=function(a){CGPathCloseSubpath(a.path)},CGContextMoveToPoint=function(a,b,d){if(!a.path)a.path=CGPathCreateMutable();CGPathMoveToPoint(a.path,a.gState.CTM,b,d)},CGContextFillRect=
function(a,b){CGContextFillRects(a,[b],1)},CGContextFillRects=function(a,b,d){if(d===void 0)d=b.length;CGContextBeginPath(a);CGContextAddRects(a,b,d);CGContextClosePath(a);CGContextDrawPath(a,kCGPathFill)},CGContextStrokeRect=function(a,b){CGContextBeginPath(a);CGContextAddRect(a,b);CGContextClosePath(a);CGContextDrawPath(a,kCGPathStroke)},CGContextStrokeRectWithWidth=function(a,b,d){CGContextSaveGState(a);CGContextSetLineWidth(a,d);CGContextStrokeRect(a,b);CGContextRestoreGState(a)},CGContextConcatCTM=
function(a,b){var d=a.gState.CTM,f=d.tx*b.a+d.ty*b.c+b.tx;d.ty=d.tx*b.b+d.ty*b.d+b.ty;d.tx=f;f=d.a*b.a+d.b*b.c;var c=d.a*b.b+d.b*b.d,i=d.c*b.a+d.d*b.c;d.d=d.c*b.b+d.d*b.d;d.a=f;d.b=c;d.c=i},CGContextGetCTM=function(a){return a.gState.CTM},CGContextRotateCTM=function(a,b){var d=a.gState;d.CTM=CGAffineTransformRotate(d.CTM,b)},CGContextScaleCTM=function(a,b,d){a=a.gState;a.CTM={a:a.CTM.a*b,b:a.CTM.b*b,c:a.CTM.c*d,d:a.CTM.d*d,tx:a.CTM.tx,ty:a.CTM.ty}},CGContextTranslateCTM=function(a,b,d){a=a.gState;
a.CTM={a:a.CTM.a,b:a.CTM.b,c:a.CTM.c,d:a.CTM.d,tx:a.CTM.tx+a.CTM.a*b+a.CTM.c*d,ty:a.CTM.ty+a.CTM.b*b+a.CTM.d*d}},CGContextSetShadow=function(a,b,d){a=a.gState;a.shadowOffset={width:b.width,height:b.height};a.shadowBlur=d;a.shadowColor=objj_msgSend(CPColor,"shadowColor")},CGContextSetShadowWithColor=function(a,b,d,f){a=a.gState;a.shadowOffset={width:b.width,height:b.height};a.shadowBlur=d;a.shadowColor=f},CGContextSetAlpha=function(a,b){a.gState.alpha=MAX(MIN(b,1),0)});CGContextEOFillPath=function(a){CGContextDrawPath(a,
kCGPathEOFill)};CGContextFillPath=function(a){CGContextDrawPath(a,kCGPathFill);CGContextClosePath(a)};CGContextAddEllipseInRect=function(a,b){CGContextBeginPath(a);CGContextAddPath(a,CGPathWithEllipseInRect(b));CGContextClosePath(a)};CGContextFillEllipseInRect=function(a,b){CGContextBeginPath(a);CGContextAddEllipseInRect(a,b);CGContextClosePath(a);CGContextFillPath(a)};CGContextStrokeEllipseInRect=function(a,b){CGContextBeginPath(a);CGContextAddEllipseInRect(a,b);CGContextClosePath(a);CGContextStrokePath(a)};
CGContextStrokePath=function(a){CGContextDrawPath(a,kCGPathStroke);CGContextClosePath(a)};CGContextStrokeLineSegments=function(a,b,d){var f=0;if(d===NULL)d=b.length;for(CGContextBeginPath(a);f<d;f+=2)CGContextMoveToPoint(a,b[f].x,b[f].y),CGContextAddLineToPoint(a,b[f+1].x,b[f+1].y);CGContextStrokePath(a)};CGContextSetFillColor=function(a,b){if(b)a.gState.fillStyle=objj_msgSend(b,"cssString")};CGContextSetStrokeColor=function(a,b){if(b)a.gState.strokeStyle=objj_msgSend(b,"cssString")};CGContextFillRoundedRectangleInRect=
function(a,b,d,f,c,i,e){CGContextBeginPath(a);CGContextAddPath(a,CGPathWithRoundedRectangleInRect(b,d,d,f,c,i,e));CGContextClosePath(a);CGContextFillPath(a)};CGContextStrokeRoundedRectangleInRect=function(a,b,d,f,c,i,e){CGContextBeginPath(a);CGContextAddPath(a,CGPathWithRoundedRectangleInRect(b,d,d,f,c,i,e));CGContextClosePath(a);CGContextStrokePath(a)};if(CPFeatureIsCompatible(CPHTMLCanvasFeature)){var e=["butt","round","square"],c=["miter","round","bevel"],a=["source-over","source-over","source-over",
"source-over","darker","lighter","source-over","source-over","source-over","source-over","source-over","source-over","source-over","source-over","source-over","source-over","source-over","copy","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","xor","source-over","source-over"];CGContextSaveGState=function(a){a.save()};CGContextRestoreGState=function(a){a.restore()};CGContextSetLineCap=function(a,b){a.lineCap=e[b]};CGContextSetLineJoin=
function(a,b){a.lineJoin=c[b]};CGContextSetLineWidth=function(a,b){a.lineWidth=b};CGContextSetMiterLimit=function(a,b){a.miterLimit=b};CGContextSetBlendMode=function(b,d){b.globalCompositeOperation=a[d]};CGContextAddArc=function(a,b,d,f,c,i,e){a.arc(b,d,f,c,i,!e)};CGContextAddArcToPoint=function(a,b,d,f,c,i){a.arcTo(b,d,f,c,i)};CGContextAddCurveToPoint=function(a,b,d,f,c,i,e){a.bezierCurveTo(b,d,f,c,i,e)};CGContextAddLineToPoint=function(a,b,d){a.lineTo(b,d)};CGContextAddPath=function(a,b){if(a&&
!CGPathIsEmpty(b))for(var d=b.elements,f=0,c=b.count;f<c;++f){var i=d[f];switch(i.type){case kCGPathElementMoveToPoint:a.moveTo(i.x,i.y);break;case kCGPathElementAddLineToPoint:a.lineTo(i.x,i.y);break;case kCGPathElementAddQuadCurveToPoint:a.quadraticCurveTo(i.cpx,i.cpy,i.x,i.y);break;case kCGPathElementAddCurveToPoint:a.bezierCurveTo(i.cp1x,i.cp1y,i.cp2x,i.cp2y,i.x,i.y);break;case kCGPathElementCloseSubpath:a.closePath();break;case kCGPathElementAddArc:a.arc(i.x,i.y,i.radius,i.startAngle,i.endAngle,
i.clockwise)}}};CGContextAddRect=function(a,b){a.rect(b.origin.x,b.origin.y,b.size.width,b.size.height)};CGContextAddRects=function(a,b,d){var f=0;if(d===NULL)d=b.length;for(;f<d;++f){var c=b[f];a.rect(c.origin.x,c.origin.y,c.size.width,c.size.height)}};CGContextBeginPath=function(a){a.beginPath()};CGContextClosePath=function(a){a.closePath()};CGContextMoveToPoint=function(a,b,d){a.moveTo(b,d)};CGContextClearRect=function(a,b){a.clearRect(b.origin.x,b.origin.y,b.size.width,b.size.height)};CGContextDrawPath=
function(a,b){b==kCGPathFill||b==kCGPathFillStroke?a.fill():(b==kCGPathEOFill||b==kCGPathEOFillStroke)&&alert("not implemented!!!");(b==kCGPathStroke||b==kCGPathFillStroke||b==kCGPathEOFillStroke)&&a.stroke()};CGContextFillRect=function(a,b){a.fillRect(b.origin.x,b.origin.y,b.size.width,b.size.height)};CGContextFillRects=function(a,b,d){var f=0;if(d===NULL)d=b.length;for(;f<d;++f){var c=b[f];a.fillRect(c.origin.x,c.origin.y,c.size.width,c.size.height)}};CGContextStrokeRect=function(a,b){a.strokeRect(b.origin.x,
b.origin.y,b.size.width,b.size.height)};CGContextClip=function(a){a.clip()};CGContextClipToRect=function(a,b){a.beginPath();a.rect(b.origin.x,b.origin.y,b.size.width,b.size.height);a.closePath();a.clip()};CGContextClipToRects=function(a,b,d){if(d===NULL)d=b.length;a.beginPath();CGContextAddRects(a,b,d);a.clip()};CGContextSetAlpha=function(a,b){a.globalAlpha=b};CGContextSetFillColor=function(a,b){if(objj_msgSend(b,"patternImage")){var d=objj_msgSend(b,"patternImage"),f=objj_msgSend(d,"size");f=f?new Image(f.width,
f.height):new Image;f.src=objj_msgSend(d,"filename");d=a.createPattern(f,"repeat");a.fillStyle=d}else a.fillStyle=objj_msgSend(b,"cssString")};CGContextSetStrokeColor=function(a,b){a.strokeStyle=objj_msgSend(b,"cssString")};CGContextSetShadow=function(a,b,d){a.shadowOffsetX=b.width;a.shadowOffsetY=b.height;a.shadowBlur=d};CGContextSetShadowWithColor=function(a,b,d,f){a.shadowOffsetX=b.width;a.shadowOffsetY=b.height;a.shadowBlur=d;a.shadowColor=objj_msgSend(f,"cssString")};CGContextRotateCTM=function(a,
b){a.rotate(b)};CGContextScaleCTM=function(a,b,d){a.scale(b,d)};CGContextTranslateCTM=function(a,b,d){a.translate(b,d)};eigen=function(){alert("IMPLEMENT ME!")};CGContextConcatCTM=CPFeatureIsCompatible(CPJavaScriptCanvasTransformFeature)?function(a,b){a.transform(b.a,b.b,b.c,b.d,b.tx,b.ty)}:function(a,b){var d=b.a,f=b.b,c=b.c,i=b.d,e=b.tx,t=b.ty,g=1,l=1,m=0,h=0;if(f==0&&c==0)g=d,l=i;else if(d*f==-c*i){g=d*i<0||f*c>0?-1:1;h=(ATAN2(f,i)+ATAN2(-g*c,g*d))/2;l=COS(h);var q=SIN(h);l==0?(g=-c/q,l=f/q):q==
0?(g=d/l,l=i/l):(abs_cos=ABS(l),abs_sin=ABS(q),g=(abs_cos*d/l+abs_sin*-c/q)/(abs_cos+abs_sin),l=(abs_cos*i/l+abs_sin*f/q)/(abs_cos+abs_sin))}else if(d*c==-f*i)g=d*i<0||f*c>0?-1:1,m=(Math.atan2(g*f,g*d)+Math.atan2(-c,i))/2,l=COS(m),q=SIN(m),l==0?(g=f/q,l=-c/q):q==0?(g=d/l,l=i/l):(abs_cos=ABS(l),abs_sin=ABS(q),g=(abs_cos*d/l+abs_sin*f/q)/(abs_cos+abs_sin),l=(abs_cos*i/l+abs_sin*-c/q)/(abs_cos+abs_sin));else{f=CGAffineTransformMake(d,c,f,i,0,0);d=eigen(CGAffineTransformConcat(b,f));f=eigen(CGAffineTransformConcat(f,
b));m=CGAffineTransformMake(d.vector_1.x,d.vector_2.x,d.vector_1.y,d.vector_2.y,0,0);i=CGAffineTransformMake(f.vector_1.x,f.vector_1.y,f.vector_2.x,f.vector_2.y,0,0);var w=CGAffineTransformConcat(CGAffineTransformConcat(CGAffineTransformInvert(m),b),CGAffineTransformInvert(i));d=i.a;f=i.b;c=i.c;i=i.d;g=d*i<0||f*c>0?-1:1;h=(ATAN2(f,i)+ATAN2(-g*c,g*d))/2;l=COS(h);q=SIN(h);l==0?(g=-c/q,l=f/q):q==0?(g=d/l,l=i/l):(abs_cos=ABS(l),abs_sin=ABS(q),g=(abs_cos*d/l+abs_sin*-c/q)/(abs_cos+abs_sin),l=(abs_cos*
i/l+abs_sin*f/q)/(abs_cos+abs_sin));w.a*=g;w.d*=l;d=m.a;f=m.b;c=m.c;i=m.d;g=d*i<0||f*c>0?-1:1;m=(Math.atan2(g*f,g*d)+Math.atan2(-c,i))/2;l=COS(m);q=SIN(m);l==0?(g=f/q,l=-c/q):q==0?(g=d/l,l=i/l):(abs_cos=ABS(l),abs_sin=ABS(q),g=(abs_cos*d/l+abs_sin*f/q)/(abs_cos+abs_sin),l=(abs_cos*i/l+abs_sin*-c/q)/(abs_cos+abs_sin));g*=w.a;l*=w.d}(e!=0||t!=0)&&CGContextTranslateCTM(a,e,t);m!=0&&CGContextRotateCTM(a,m);(g!=1||l!=1)&&CGContextScaleCTM(a,g,l);h!=0&&CGContextRotateCTM(a,h)};CGContextDrawImage=function(a,
b,d){a.drawImage(d._image,b.origin.x,b.origin.y,b.size.width,b.size.height)};to_string=function(a){return"rgba("+ROUND(a.components[0]*255)+", "+ROUND(a.components[1]*255)+", "+ROUND(255*a.components[2])+", "+a.components[3]+")"};CGContextDrawLinearGradient=function(a,b,d,f){var c=b.colors,i=c.length;for(d=a.createLinearGradient(d.x,d.y,f.x,f.y);i--;)d.addColorStop(b.locations[i],to_string(c[i]));a.fillStyle=d;a.fill()};CGBitmapGraphicsContextCreate=function(){var a=document.createElement("canvas"),
b=a.getContext("2d");b.DOMElement=a;return b}}else if(CPFeatureIsCompatible(CPVMLFeature)){var d=["f","t"],b=["flat","round","square"],f=["miter","round","bevel"],i=[" m "," l ","qb"," c "," x ",[" at "," wa "]],t=CGBitmapGraphicsContextCreate;CGBitmapGraphicsContextCreate=function(){document.namespaces.add("cg_vml_","urn:schemas-microsoft-com:vml");document.createStyleSheet().cssText="cg_vml_\\:*{behavior:url(#default#VML)}";CGBitmapGraphicsContextCreate=t;return t()};CGContextSetFillColor=function(a,
b){a.gState.fillStyle=objj_msgSend(b,"patternImage")?"!"+objj_msgSend(objj_msgSend(b,"patternImage"),"filename"):objj_msgSend(b,"cssString")};CGContextClearRect=function(a){a.buffer!=nil?a.buffer="":a.DOMElement.innerHTML="";a.path=NULL};CGContextDrawImage=function(a,b,d){var f="";if(d.buffer!=nil)f=d.buffer;else{f=a.gState.CTM;var c=CGPointApplyAffineTransform(b.origin,f),i=['<cg_vml_:group coordsize="1,1" coordorigin="0,0" style="width:1;height:1;position:absolute'],e=CGRectApplyAffineTransform(b,
f);i.push(";padding:0 ",ROUND(e.origin.x+e.size.width),"px ",ROUND(e.origin.y+e.size.height),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(","M11='",f.a,"',M12='",f.c,"',M21='",f.b,"',M22='",f.d,"',","Dx='",ROUND(c.x),"', Dy='",ROUND(c.y),"', sizingmethod='clip');");i.push('"><cg_vml_:image src="',d._image.src,'" style="width:',b.size.width,"px;height:",b.size.height,'px;"/></g_vml_:group>');f=i.join("")}a.buffer!=nil?a.buffer+=f:a.DOMElement.insertAdjacentHTML("BeforeEnd",f)};CGContextDrawPath=
function(a,c){if(a&&!CGPathIsEmpty(a.path)){var e=a.path.elements,t=0,g=a.path.count,n=a.gState,h=c==kCGPathFill||c==kCGPathFillStroke?1:0,u=c==kCGPathStroke||c==kCGPathFillStroke?1:0,z=n.alpha,l=["<cg_vml_:shape"];n.fillStyle.charAt(0)!=="!"&&l.push(' fillcolor="',n.fillStyle,'"');for(l.push(' filled="',d[h],'" style="position:absolute;width:',10,";height:",10,';" coordorigin="0 0" coordsize="',100," ",100,'" stroked="',d[u],'" strokeweight="',n.lineWidth,'" strokecolor="',n.strokeStyle,'" path="');t<
g;++t){var m=e[t],A=m.type;switch(A){case kCGPathElementMoveToPoint:case kCGPathElementAddLineToPoint:l.push(i[A],m.x===0?0:ROUND(10*m.x-5),",",m.y===0?0:ROUND(10*m.y-5));break;case kCGPathElementAddQuadCurveToPoint:l.push(i[A],m.cpx===0?0:ROUND(10*m.cpx-5),",",m.cpy===0?0:ROUND(10*m.cpy-5),",",m.x===0?0:ROUND(10*m.x-5),",",m.y===0?0:ROUND(10*m.y-5));break;case kCGPathElementAddCurveToPoint:l.push(i[A],m.cp1x===0?0:ROUND(10*m.cp1x-5),",",m.cp1y===0?0:ROUND(10*m.cp1y-5),",",m.cp2x===0?0:ROUND(10*m.cp2x-
5),",",m.cp2y===0?0:ROUND(10*m.cp2y-5),",",m.x===0?0:ROUND(10*m.x-5),",",m.y===0?0:ROUND(10*m.y-5));break;case kCGPathElementCloseSubpath:l.push(i[A]);break;case kCGPathElementAddArc:var q=m.x,w=m.y,x=m.radius,C=m.clockwise?1:0,B=m.endAngle;m=m.startAngle;var v={x:q+x*COS(m),y:w+x*SIN(m)};if(m==B&&!C){l.push(i[kCGPathElementMoveToPoint],v.x===0?0:ROUND(10*v.x-5),",",v.y===0?0:ROUND(10*v.y-5));continue}var y={x:q+x*COS(B),y:w+x*SIN(B)};C&&m!=B&&v.x==y.x&&v.y==y.y&&(v.x>=q?v.y<w?v.x+=0.125:v.y+=0.125:
y.y<=w?y.x+=0.125:y.y+=0.125);l.push(i[A][C],q-x===0?0:ROUND(10*(q-x)-5),",",w-x===0?0:ROUND(10*(w-x)-5)," ",q+x===0?0:ROUND(10*(q+x)-5),",",w+x===0?0:ROUND(10*(w+x)-5)," ",v.x===0?0:ROUND(10*v.x-5),",",v.y===0?0:ROUND(10*v.y-5)," ",y.x===0?0:ROUND(10*y.x-5),",",y.y===0?0:ROUND(10*y.y-5))}}l.push('">');n.gradient?l.push(n.gradient):h&&(n.fillStyle.charAt(0)==="!"?l.push('<cg_vml_:fill type="tile" src="',n.fillStyle.substring(1),'" opacity="',z,'" />'):l.push('<cg_vml_:fill color="',n.fillStyle,'" opacity="',
z,'" />'));u&&l.push('<cg_vml_:stroke opacity="',z,'" joinstyle="',f[n.lineJoin],'" miterlimit="',n.miterLimit,'" endcap="',b[n.lineCap],'" weight="',n.lineWidth,"",'px" color="',n.strokeStyle,'" />');if(e=n.shadowColor)n=n.shadowOffset,l.push('<cg_vml_:shadow on="t" offset="',n.width,"pt ",n.height,'pt" opacity="',objj_msgSend(e,"alphaComponent"),'" color=black />');l.push("</cg_vml_:shape>");a.buffer!=nil?a.buffer+=l.join(""):a.DOMElement.insertAdjacentHTML("BeforeEnd",l.join(""))}};to_string=function(a){return"rgb("+
ROUND(a.components[0]*255)+", "+ROUND(a.components[1]*255)+", "+ROUND(255*a.components[2])+")"};CGContextDrawLinearGradient=function(a,b){if(a&&b){var d=nil;if(b.vml_gradient){var f=objj_msgSend(objj_msgSend(b.vml_gradient,"stops"),"sortedArrayUsingSelector:",sel_getUid("comparePosition:")),c=objj_msgSend(f,"count");d=['<cg_vml_:fill type="gradient" method="linear sigma" '];d.push('angle="'+(objj_msgSend(b.vml_gradient,"angle")+90)+'" ');d.push('colors="');for(var i=0;i<c;i++)d.push((objj_msgSend(f[i],
"position")*100).toFixed(0)+"% "),d.push(objj_msgSend(objj_msgSend(objj_msgSend(f[i],"color"),"colorForSlideBase:",nil),"cssString")),i<c-1&&d.push(",")}else{f=b.colors;c=f.length;d=['<cg_vml_:fill type="gradient" '];d.push('colors="');for(i=0;i<c;i++)d.push((b.locations[i]*100).toFixed(0)+"% "+to_string(f[i])+(i<c-1?",":""))}d.push('" />');a.gState.gradient=d.join("")}}}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPArrayController.j",baseURL),function(h,g){g("Foundation/CPIndexSet.j",NO);g("CPObjectController.j",YES);g("CPKeyValueBinding.j",YES);var e=objj_allocateClassPair(CPObjectController,"CPArrayController"),c=e.isa;class_addIvars(e,[new objj_ivar("_avoidsEmptySelection"),new objj_ivar("_clearsFilterPredicateOnInsertion"),new objj_ivar("_filterRestrictsInsertion"),new objj_ivar("_preservesSelection"),new objj_ivar("_selectsInsertedObjects"),
new objj_ivar("_alwaysUsesMultipleValuesMarker"),new objj_ivar("_automaticallyRearrangesObjects"),new objj_ivar("_selectionIndexes"),new objj_ivar("_sortDescriptors"),new objj_ivar("_filterPredicate"),new objj_ivar("_arrangedObjects"),new objj_ivar("_disableSetContent")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("init"),function(a){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPArrayController").super_class},"init"))_clearsFilterPredicateOnInsertion=
_avoidsEmptySelection=_selectsInsertedObjects=_preservesSelection=YES,_automaticallyRearrangesObjects=_alwaysUsesMultipleValuesMarker=NO,_filterRestrictsInsertion=YES,objj_msgSend(a,"_init");return a}}),new objj_method(sel_getUid("_init"),function(a){with(a)_sortDescriptors=objj_msgSend(CPArray,"array"),_filterPredicate=nil,_selectionIndexes=objj_msgSend(CPIndexSet,"indexSet"),objj_msgSend(a,"__setArrangedObjects:",objj_msgSend(CPArray,"array"))}),new objj_method(sel_getUid("prepareContent"),function(a){with(a)objj_msgSend(a,
"_setContentArray:",[objj_msgSend(a,"newObject")])}),new objj_method(sel_getUid("preservesSelection"),function(a){with(a)return _preservesSelection}),new objj_method(sel_getUid("setPreservesSelection:"),function(a,d,b){with(a)_preservesSelection=b}),new objj_method(sel_getUid("selectsInsertedObjects"),function(a){with(a)return _selectsInsertedObjects}),new objj_method(sel_getUid("setSelectsInsertedObjects:"),function(a,d,b){with(a)_selectsInsertedObjects=b}),new objj_method(sel_getUid("avoidsEmptySelection"),
function(a){with(a)return _avoidsEmptySelection}),new objj_method(sel_getUid("setAvoidsEmptySelection:"),function(a,d,b){with(a)_avoidsEmptySelection=b}),new objj_method(sel_getUid("clearsFilterPredicateOnInsertion"),function(a){with(a)return _clearsFilterPredicateOnInsertion}),new objj_method(sel_getUid("setClearsFilterPredicateOnInsertion:"),function(a,d,b){with(a)_clearsFilterPredicateOnInsertion=b}),new objj_method(sel_getUid("alwaysUsesMultipleValuesMarker"),function(a){with(a)return _alwaysUsesMultipleValuesMarker}),
new objj_method(sel_getUid("setAlwaysUsesMultipleValuesMarker:"),function(a,d,b){with(a)_alwaysUsesMultipleValuesMarker=b}),new objj_method(sel_getUid("automaticallyRearrangesObjects"),function(a){with(a)return _automaticallyRearrangesObjects}),new objj_method(sel_getUid("setAutomaticallyRearrangesObjects:"),function(a,d,b){with(a)_automaticallyRearrangesObjects=b}),new objj_method(sel_getUid("setContent:"),function(a,d,b){with(a){if(_disableSetContent)return;b===nil&&(b=[]);objj_msgSend(b,"isKindOfClass:",
objj_msgSend(CPArray,"class"))||(b=[b]);var f=d=nil;objj_msgSend(a,"preservesSelection")?d=objj_msgSend(a,"selectedObjects"):f=objj_msgSend(a,"selectionIndexes");_clearsFilterPredicateOnInsertion&&objj_msgSend(a,"willChangeValueForKey:","filterPredicate");_contentObject=b;_clearsFilterPredicateOnInsertion&&_filterPredicate!=nil?objj_msgSend(a,"__setFilterPredicate:",nil):objj_msgSend(a,"_rearrangeObjects");objj_msgSend(a,"preservesSelection")?objj_msgSend(a,"__setSelectedObjects:",d):objj_msgSend(a,
"__setSelectionIndexes:",f);_clearsFilterPredicateOnInsertion&&objj_msgSend(a,"didChangeValueForKey:","filterPredicate")}}),new objj_method(sel_getUid("_setContentArray:"),function(a,d,b){with(a)objj_msgSend(a,"setContent:",b)}),new objj_method(sel_getUid("_setContentSet:"),function(a,d,b){with(a)objj_msgSend(a,"setContent:",objj_msgSend(b,"allObjects"))}),new objj_method(sel_getUid("contentArray"),function(a){with(a)return objj_msgSend(a,"content")}),new objj_method(sel_getUid("contentSet"),function(a){with(a)return objj_msgSend(CPSet,
"setWithArray:",objj_msgSend(a,"content"))}),new objj_method(sel_getUid("arrangeObjects:"),function(a,d,b){with(a){d=objj_msgSend(a,"filterPredicate");a=objj_msgSend(a,"sortDescriptors");if(d&&objj_msgSend(a,"count")>0)return b=objj_msgSend(b,"filteredArrayUsingPredicate:",d),objj_msgSend(b,"sortUsingDescriptors:",a),b;else if(d)return objj_msgSend(b,"filteredArrayUsingPredicate:",d);else if(objj_msgSend(a,"count")>0)return objj_msgSend(b,"sortedArrayUsingDescriptors:",a);return objj_msgSend(b,"copy")}}),
new objj_method(sel_getUid("rearrangeObjects"),function(a){with(a)objj_msgSend(a,"willChangeValueForKey:","arrangedObjects"),objj_msgSend(a,"_rearrangeObjects"),objj_msgSend(a,"didChangeValueForKey:","arrangedObjects")}),new objj_method(sel_getUid("_rearrangeObjects"),function(a){with(a){var d=nil,b=nil;objj_msgSend(a,"preservesSelection")?d=objj_msgSend(a,"selectedObjects"):b=objj_msgSend(a,"selectionIndexes");objj_msgSend(a,"__setArrangedObjects:",objj_msgSend(a,"arrangeObjects:",objj_msgSend(a,
"contentArray")));objj_msgSend(a,"preservesSelection")?objj_msgSend(a,"__setSelectedObjects:",d):objj_msgSend(a,"__setSelectionIndexes:",b)}}),new objj_method(sel_getUid("__setArrangedObjects:"),function(a,d,b){with(a){if(_arrangedObjects===b)return;_arrangedObjects=objj_msgSend(objj_msgSend(_CPObservableArray,"alloc"),"initWithArray:",b)}}),new objj_method(sel_getUid("arrangedObjects"),function(a){with(a)return _arrangedObjects}),new objj_method(sel_getUid("sortDescriptors"),function(a){with(a)return _sortDescriptors}),
new objj_method(sel_getUid("setSortDescriptors:"),function(a,d,b){with(a){if(_sortDescriptors===b)return;_sortDescriptors=objj_msgSend(b,"copy");objj_msgSend(a,"_rearrangeObjects")}}),new objj_method(sel_getUid("filterPredicate"),function(a){with(a)return _filterPredicate}),new objj_method(sel_getUid("setFilterPredicate:"),function(a,d,b){with(a)objj_msgSend(a,"__setFilterPredicate:",b)}),new objj_method(sel_getUid("__setFilterPredicate:"),function(a,d,b){with(a){if(_filterPredicate===b)return;_filterPredicate=
b;objj_msgSend(a,"_rearrangeObjects")}}),new objj_method(sel_getUid("alwaysUsesMultipleValuesMarker"),function(a){with(a)return _alwaysUsesMultipleValuesMarker}),new objj_method(sel_getUid("selectionIndex"),function(a){with(a)return objj_msgSend(_selectionIndexes,"firstIndex")}),new objj_method(sel_getUid("setSelectionIndex:"),function(a,d,b){with(a)return objj_msgSend(a,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSetWithIndex:",b))}),new objj_method(sel_getUid("selectionIndexes"),function(a){with(a)return _selectionIndexes}),
new objj_method(sel_getUid("setSelectionIndexes:"),function(a,d,b){with(a)objj_msgSend(a,"_selectionWillChange"),objj_msgSend(a,"__setSelectionIndexes:",b),objj_msgSend(a,"_selectionDidChange")}),new objj_method(sel_getUid("__setSelectionIndex:"),function(a,d,b){with(a)objj_msgSend(a,"__setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSetWithIndex:",b))}),new objj_method(sel_getUid("__setSelectionIndexes:"),function(a,d,b){with(a){b||(b=objj_msgSend(CPIndexSet,"indexSet"));objj_msgSend(b,"count")?
(d=objj_msgSend(objj_msgSend(a,"arrangedObjects"),"count"),objj_msgSend(b,"removeIndexesInRange:",CPMakeRange(d,objj_msgSend(b,"lastIndex")+1)),!objj_msgSend(b,"count")&&_avoidsEmptySelection&&d&&(b=objj_msgSend(CPIndexSet,"indexSetWithIndex:",d-1))):_avoidsEmptySelection&&objj_msgSend(objj_msgSend(a,"arrangedObjects"),"count")&&(b=objj_msgSend(CPIndexSet,"indexSetWithIndex:",0));if(objj_msgSend(_selectionIndexes,"isEqualToIndexSet:",b))return NO;_selectionIndexes=objj_msgSend(b,"copy");b=objj_msgSend(objj_msgSend(a,
"class"),"_binderClassForBinding:","selectionIndexes");objj_msgSend(objj_msgSend(b,"getBinding:forObject:","selectionIndexes",a),"reverseSetValueFor:","selectionIndexes");return YES}}),new objj_method(sel_getUid("selectedObjects"),function(a){with(a)return a=objj_msgSend(objj_msgSend(a,"arrangedObjects"),"objectsAtIndexes:",objj_msgSend(a,"selectionIndexes")),objj_msgSend(_CPObservableArray,"arrayWithArray:",a||[])}),new objj_method(sel_getUid("setSelectedObjects:"),function(a,d,b){with(a)objj_msgSend(a,
"willChangeValueForKey:","selectionIndexes"),objj_msgSend(a,"_selectionWillChange"),objj_msgSend(a,"__setSelectedObjects:",b),objj_msgSend(a,"didChangeValueForKey:","selectionIndexes"),objj_msgSend(a,"_selectionDidChange")}),new objj_method(sel_getUid("__setSelectedObjects:"),function(a,d,b){with(a){d=objj_msgSend(CPIndexSet,"indexSet");for(var f=objj_msgSend(b,"count"),c=objj_msgSend(a,"arrangedObjects"),e=0;e<f;e++){var g=objj_msgSend(c,"indexOfObject:",objj_msgSend(b,"objectAtIndex:",e));g!==CPNotFound&&
objj_msgSend(d,"addIndex:",g)}objj_msgSend(a,"__setSelectionIndexes:",d);return YES}}),new objj_method(sel_getUid("canSelectPrevious"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"selectionIndexes"),"firstIndex")>0}),new objj_method(sel_getUid("selectPrevious:"),function(a){with(a){var d=objj_msgSend(objj_msgSend(a,"selectionIndexes"),"firstIndex")-1;d>=0&&objj_msgSend(a,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSetWithIndex:",d))}}),new objj_method(sel_getUid("canSelectNext"),
function(a){with(a)return objj_msgSend(objj_msgSend(a,"selectionIndexes"),"firstIndex")<objj_msgSend(objj_msgSend(a,"arrangedObjects"),"count")-1}),new objj_method(sel_getUid("selectNext:"),function(a){with(a){var d=objj_msgSend(objj_msgSend(a,"selectionIndexes"),"firstIndex")+1;d<objj_msgSend(objj_msgSend(a,"arrangedObjects"),"count")&&objj_msgSend(a,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSetWithIndex:",d))}}),new objj_method(sel_getUid("addObject:"),function(a,d,b){with(a){if(!objj_msgSend(a,
"canAdd"))return;_clearsFilterPredicateOnInsertion&&objj_msgSend(a,"willChangeValueForKey:","filterPredicate");objj_msgSend(a,"willChangeValueForKey:","content");_disableSetContent=YES;objj_msgSend(_contentObject,"addObject:",b);_disableSetContent=NO;_clearsFilterPredicateOnInsertion&&objj_msgSend(a,"__setFilterPredicate:",nil);_filterPredicate===nil||objj_msgSend(_filterPredicate,"evaluateWithObject:",b)?(d=objj_msgSend(_arrangedObjects,"insertObject:inArraySortedByDescriptors:",b,_sortDescriptors),
_selectsInsertedObjects?objj_msgSend(a,"__setSelectionIndex:",d):objj_msgSend(_selectionIndexes,"shiftIndexesStartingAtIndex:by:",d,1)):objj_msgSend(a,"_rearrangeObjects");objj_msgSend(a,"didChangeValueForKey:","content");_clearsFilterPredicateOnInsertion&&objj_msgSend(a,"didChangeValueForKey:","filterPredicate")}}),new objj_method(sel_getUid("insertObject:atArrangedObjectIndex:"),function(a,d,b,f){with(a){if(!objj_msgSend(a,"canAdd"))return;_clearsFilterPredicateOnInsertion&&objj_msgSend(a,"willChangeValueForKey:",
"filterPredicate");objj_msgSend(a,"willChangeValueForKey:","content");_disableSetContent=YES;objj_msgSend(_contentObject,"insertObject:atIndex:",b,f);_disableSetContent=NO;_clearsFilterPredicateOnInsertion&&objj_msgSend(a,"__setFilterPredicate:",nil);objj_msgSend(objj_msgSend(a,"arrangedObjects"),"insertObject:atIndex:",b,f);objj_msgSend(a,"selectsInsertedObjects")?objj_msgSend(a,"__setSelectionIndex:",f):objj_msgSend(objj_msgSend(a,"selectionIndexes"),"shiftIndexesStartingAtIndex:by:",f,1);objj_msgSend(a,
"avoidsEmptySelection")&&objj_msgSend(objj_msgSend(a,"selectionIndexes"),"count")<=0&&objj_msgSend(_contentObject,"count")>0&&objj_msgSend(a,"__setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSetWithIndex:",0));objj_msgSend(a,"didChangeValueForKey:","content");_clearsFilterPredicateOnInsertion&&objj_msgSend(a,"didChangeValueForKey:","filterPredicate")}}),new objj_method(sel_getUid("removeObject:"),function(a,d,b){with(a){objj_msgSend(a,"willChangeValueForKey:","content");_disableSetContent=YES;
objj_msgSend(_contentObject,"removeObject:",b);_disableSetContent=NO;if(_filterPredicate===nil||objj_msgSend(_filterPredicate,"evaluateWithObject:",b))d=objj_msgSend(_arrangedObjects,"indexOfObject:",b),objj_msgSend(_arrangedObjects,"removeObjectAtIndex:",d),objj_msgSend(_selectionIndexes,"shiftIndexesStartingAtIndex:by:",d,-1);objj_msgSend(a,"didChangeValueForKey:","content")}}),new objj_method(sel_getUid("add:"),function(a,d,b){with(a){if(!objj_msgSend(a,"canAdd"))return;objj_msgSend(a,"insert:",
b)}}),new objj_method(sel_getUid("insert:"),function(a){with(a){if(!objj_msgSend(a,"canInsert"))return;var d=objj_msgSend(a,"automaticallyPreparesContent")?objj_msgSend(a,"newObject"):objj_msgSend(a,"_defaultNewObject");objj_msgSend(a,"addObject:",d)}}),new objj_method(sel_getUid("remove:"),function(a){with(a)objj_msgSend(a,"removeObjects:",objj_msgSend(objj_msgSend(a,"arrangedObjects"),"objectsAtIndexes:",objj_msgSend(a,"selectionIndexes")))}),new objj_method(sel_getUid("removeObjectsAtArrangedObjectIndexes:"),
function(a,d,b){with(a)objj_msgSend(a,"_removeObjects:",objj_msgSend(objj_msgSend(a,"arrangedObjects"),"objectsAtIndexes:",b))}),new objj_method(sel_getUid("addObjects:"),function(a,d,b){with(a){if(!objj_msgSend(a,"canAdd"))return;d=objj_msgSend(a,"contentArray");for(var f=objj_msgSend(b,"count"),c=0;c<f;c++)objj_msgSend(d,"addObject:",objj_msgSend(b,"objectAtIndex:",c));objj_msgSend(a,"setContent:",d)}}),new objj_method(sel_getUid("removeObjects:"),function(a,d,b){with(a)objj_msgSend(a,"_removeObjects:",
b)}),new objj_method(sel_getUid("_removeObjects:"),function(a,d,b){with(a){objj_msgSend(a,"willChangeValueForKey:","content");_disableSetContent=YES;objj_msgSend(_contentObject,"removeObjectsInArray:",b);_disableSetContent=NO;var f=objj_msgSend(a,"arrangedObjects");d=objj_msgSend(f,"indexOfObject:",objj_msgSend(b,"objectAtIndex:",0));objj_msgSend(f,"removeObjectsInArray:",b);b=objj_msgSend(f,"count");f=objj_msgSend(CPIndexSet,"indexSet");if(objj_msgSend(a,"preservesSelection")||objj_msgSend(a,"avoidsEmptySelection"))f=
objj_msgSend(CPIndexSet,"indexSetWithIndex:",d),b<=0?f=objj_msgSend(CPIndexSet,"indexSet"):d>=b&&(f=objj_msgSend(CPIndexSet,"indexSetWithIndex:",b-1));_selectionIndexes=f;objj_msgSend(a,"didChangeValueForKey:","content")}}),new objj_method(sel_getUid("canInsert"),function(a){with(a)return objj_msgSend(a,"isEditable")})]);class_addMethods(c,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!==objj_msgSend(CPArrayController,"class"))return;objj_msgSend(a,"exposeBinding:","contentArray");
objj_msgSend(a,"exposeBinding:","contentSet")}}),new objj_method(sel_getUid("keyPathsForValuesAffectingContentArray"),function(a){with(a)return objj_msgSend(CPSet,"setWithObjects:","content")}),new objj_method(sel_getUid("keyPathsForValuesAffectingArrangedObjects"),function(a){with(a)return objj_msgSend(CPSet,"setWithObjects:","content","filterPredicate","sortDescriptors")}),new objj_method(sel_getUid("keyPathsForValuesAffectingSelection"),function(a){with(a)return objj_msgSend(CPSet,"setWithObjects:",
"selectionIndexes")}),new objj_method(sel_getUid("keyPathsForValuesAffectingSelectionIndex"),function(a){with(a)return objj_msgSend(CPSet,"setWithObjects:","selectionIndexes")}),new objj_method(sel_getUid("keyPathsForValuesAffectingSelectionIndexes"),function(a){with(a)return objj_msgSend(CPSet,"setWithObjects:","arrangedObjects")}),new objj_method(sel_getUid("keyPathsForValuesAffectingSelectedObjects"),function(a){with(a)return objj_msgSend(CPSet,"setWithObjects:","selectionIndexes")}),new objj_method(sel_getUid("keyPathsForValuesAffectingCanRemove"),
function(a){with(a)return objj_msgSend(CPSet,"setWithObjects:","selectionIndexes")}),new objj_method(sel_getUid("keyPathsForValuesAffectingCanSelectNext"),function(a){with(a)return objj_msgSend(CPSet,"setWithObjects:","selectionIndexes")}),new objj_method(sel_getUid("keyPathsForValuesAffectingCanSelectPrevious"),function(a){with(a)return objj_msgSend(CPSet,"setWithObjects:","selectionIndexes")})]);e=objj_getClass("CPArrayController");if(!e)throw new SyntaxError('*** Could not find definition for class "CPArrayController"');
c=e.isa;class_addMethods(c,[new objj_method(sel_getUid("_binderClassForBinding:"),function(a,d,b){with(a){if(b=="contentArray")return objj_msgSend(_CPArrayControllerContentBinder,"class");return objj_msgSendSuper({receiver:a,super_class:objj_getMetaClass("CPArrayController").super_class},"_binderClassForBinding:",b)}})]);e=objj_allocateClassPair(CPBinder,"_CPArrayControllerContentBinder");c=e.isa;objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("setValueFor:"),function(a,d,
b){with(a){var f=objj_msgSend(_info,"objectForKey:",CPObservedObjectKey),c=objj_msgSend(_info,"objectForKey:",CPObservedKeyPathKey);d=objj_msgSend(_info,"objectForKey:",CPOptionsKey);f=objj_msgSend(f,"mutableArrayValueForKeyPath:",c);f=objj_msgSend(a,"transformValue:withOptions:",f,d);objj_msgSend(_source,"setValue:forKey:",f,b)}})]);e=objj_getClass("CPArrayController");if(!e)throw new SyntaxError('*** Could not find definition for class "CPArrayController"');c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("initWithCoder:"),
function(a,d,b){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPArrayController").super_class},"initWithCoder:",b))_avoidsEmptySelection=objj_msgSend(b,"decodeBoolForKey:","CPArrayControllerAvoidsEmptySelection"),_clearsFilterPredicateOnInsertion=objj_msgSend(b,"decodeBoolForKey:","CPArrayControllerClearsFilterPredicateOnInsertion"),_filterRestrictsInsertion=objj_msgSend(b,"decodeBoolForKey:","CPArrayControllerFilterRestrictsInsertion"),_preservesSelection=objj_msgSend(b,"decodeBoolForKey:",
"CPArrayControllerPreservesSelection"),_selectsInsertedObjects=objj_msgSend(b,"decodeBoolForKey:","CPArrayControllerSelectsInsertedObjects"),_alwaysUsesMultipleValuesMarker=objj_msgSend(b,"decodeBoolForKey:","CPArrayControllerAlwaysUsesMultipleValuesMarker"),_automaticallyRearrangesObjects=objj_msgSend(b,"decodeBoolForKey:","CPArrayControllerAutomaticallyRearrangesObjects"),_sortDescriptors=objj_msgSend(CPArray,"array"),!objj_msgSend(a,"content")&&objj_msgSend(a,"automaticallyPreparesContent")?objj_msgSend(a,
"prepareContent"):objj_msgSend(a,"content")||objj_msgSend(a,"_setContentArray:",[]);return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,d,b){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPArrayController").super_class},"encodeWithCoder:",b),objj_msgSend(b,"encodeBool:forKey:",_avoidsEmptySelection,"CPArrayControllerAvoidsEmptySelection"),objj_msgSend(b,"encodeBool:forKey:",_clearsFilterPredicateOnInsertion,"CPArrayControllerClearsFilterPredicateOnInsertion"),objj_msgSend(b,
"encodeBool:forKey:",_filterRestrictsInsertion,"CPArrayControllerFilterRestrictsInsertion"),objj_msgSend(b,"encodeBool:forKey:",_preservesSelection,"CPArrayControllerPreservesSelection"),objj_msgSend(b,"encodeBool:forKey:",_selectsInsertedObjects,"CPArrayControllerSelectsInsertedObjects"),objj_msgSend(b,"encodeBool:forKey:",_alwaysUsesMultipleValuesMarker,"CPArrayControllerAlwaysUsesMultipleValuesMarker"),objj_msgSend(b,"encodeBool:forKey:",_automaticallyRearrangesObjects,"CPArrayControllerAutomaticallyRearrangesObjects")}),
new objj_method(sel_getUid("awakeFromCib"),function(a){with(a)objj_msgSend(a,"_selectionWillChange"),objj_msgSend(a,"_selectionDidChange")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPDocument.j",baseURL),function(h,g){g("Foundation/CPString.j",NO);g("Foundation/CPArray.j",NO);g("CPApplication.j",YES);g("CPResponder.j",YES);g("CPSavePanel.j",YES);g("CPViewController.j",YES);g("CPWindowController.j",YES);CPSaveOperation=0;CPSaveAsOperation=1;CPSaveToOperation=2;CPAutosaveOperation=3;CPChangeDone=0;CPChangeUndone=1;CPChangeCleared=2;CPChangeReadOtherContents=3;CPChangeAutosaved=4;CPDocumentWillSaveNotification=
"CPDocumentWillSaveNotification";CPDocumentDidSaveNotification="CPDocumentDidSaveNotification";CPDocumentDidFailToSaveNotification="CPDocumentDidFailToSaveNotification";var e=0,c=objj_allocateClassPair(CPResponder,"CPDocument");class_addIvars(c,[new objj_ivar("_window"),new objj_ivar("_view"),new objj_ivar("_viewControllersForWindowControllers"),new objj_ivar("_fileURL"),new objj_ivar("_fileType"),new objj_ivar("_windowControllers"),new objj_ivar("_untitledDocumentIndex"),new objj_ivar("_hasUndoManager"),
new objj_ivar("_undoManager"),new objj_ivar("_changeCount"),new objj_ivar("_readConnection"),new objj_ivar("_writeRequest"),new objj_ivar("_canCloseAlert")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("init"),function(a){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPDocument").super_class},"init"))_windowControllers=[],_viewControllersForWindowControllers=objj_msgSend(CPDictionary,"dictionary"),_hasUndoManager=YES,_changeCount=0,objj_msgSend(a,
"setNextResponder:",CPApp);return a}}),new objj_method(sel_getUid("initWithType:error:"),function(a,d,b){with(a)return(a=objj_msgSend(a,"init"))&&objj_msgSend(a,"setFileType:",b),a}),new objj_method(sel_getUid("initWithContentsOfURL:ofType:delegate:didReadSelector:contextInfo:"),function(a,d,b,f,c,e,g){with(a){if(a=objj_msgSend(a,"init"))objj_msgSend(a,"setFileURL:",b),objj_msgSend(a,"setFileType:",f),objj_msgSend(a,"readFromURL:ofType:delegate:didReadSelector:contextInfo:",b,f,c,e,g);return a}}),
new objj_method(sel_getUid("initForURL:withContentsOfURL:ofType:delegate:didReadSelector:contextInfo:"),function(a,d,b,f,c,e,g,k){with(a){if(a=objj_msgSend(a,"init"))objj_msgSend(a,"setFileURL:",b),objj_msgSend(a,"setFileType:",c),objj_msgSend(a,"readFromURL:ofType:delegate:didReadSelector:contextInfo:",f,c,e,g,k);return a}}),new objj_method(sel_getUid("dataOfType:error:"),function(a){with(a)objj_msgSend(CPException,"raise:reason:",CPUnsupportedMethodException,"dataOfType:error: must be overridden by the document subclass.")}),
new objj_method(sel_getUid("readFromData:ofType:error:"),function(a){with(a)objj_msgSend(CPException,"raise:reason:",CPUnsupportedMethodException,"readFromData:ofType: must be overridden by the document subclass.")}),new objj_method(sel_getUid("viewControllerWillLoadCib:"),function(a){with(a);}),new objj_method(sel_getUid("viewControllerDidLoadCib:"),function(a){with(a);}),new objj_method(sel_getUid("firstEligibleExistingWindowController"),function(a){with(a)return nil}),new objj_method(sel_getUid("makeWindowControllers"),
function(a){with(a)objj_msgSend(a,"makeViewAndWindowControllers")}),new objj_method(sel_getUid("makeViewAndWindowControllers"),function(a){with(a){var d=objj_msgSend(a,"viewCibName"),b=nil,f=nil;objj_msgSend(d,"length")&&(b=objj_msgSend(objj_msgSend(CPViewController,"alloc"),"initWithCibName:bundle:owner:",d,nil,a));b&&(f=objj_msgSend(a,"firstEligibleExistingWindowController"));if(!f)if(d=objj_msgSend(a,"windowCibName"),objj_msgSend(d,"length"))f=objj_msgSend(objj_msgSend(CPWindowController,"alloc"),
"initWithWindowCibName:owner:",d,a);else if(b)f=objj_msgSend(b,"view"),f=objj_msgSend(f,"frame"),f.origin=CGPointMake(50,50),f=objj_msgSend(objj_msgSend(CPWindow,"alloc"),"initWithContentRect:styleMask:",f,CPTitledWindowMask|CPClosableWindowMask|CPMiniaturizableWindowMask|CPResizableWindowMask),f=objj_msgSend(objj_msgSend(CPWindowController,"alloc"),"initWithWindow:",f);f&&b&&objj_msgSend(f,"setSupportsMultipleDocuments:",YES);f&&objj_msgSend(a,"addWindowController:",f);b&&objj_msgSend(a,"addViewController:forWindowController:",
b,f)}}),new objj_method(sel_getUid("windowControllers"),function(a){with(a)return _windowControllers}),new objj_method(sel_getUid("addWindowController:"),function(a,d,b){with(a)objj_msgSend(_windowControllers,"addObject:",b),objj_msgSend(b,"document")!==a&&objj_msgSend(b,"setDocument:",a)}),new objj_method(sel_getUid("removeWindowController:"),function(a,d,b){with(a)b&&objj_msgSend(_windowControllers,"removeObject:",b),objj_msgSend(b,"document")===a&&objj_msgSend(b,"setDocument:",nil)}),new objj_method(sel_getUid("view"),
function(a){with(a)return _view}),new objj_method(sel_getUid("viewControllers"),function(a){with(a)return objj_msgSend(_viewControllersForWindowControllers,"allValues")}),new objj_method(sel_getUid("addViewController:forWindowController:"),function(a,d,b,f){with(a)objj_msgSend(_viewControllersForWindowControllers,"setObject:forKey:",b,objj_msgSend(f,"UID")),objj_msgSend(f,"document")===a&&objj_msgSend(f,"setViewController:",b)}),new objj_method(sel_getUid("removeViewController:"),function(a,d,b){with(a)objj_msgSend(_viewControllersForWindowControllers,
"removeObject:",b)}),new objj_method(sel_getUid("viewControllerForWindowController:"),function(a,d,b){with(a)return objj_msgSend(_viewControllersForWindowControllers,"objectForKey:",objj_msgSend(b,"UID"))}),new objj_method(sel_getUid("showWindows"),function(a){with(a)objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocument:"),a),objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("showWindow:"),a)}),new objj_method(sel_getUid("displayName"),
function(a){with(a){if(_fileURL)return objj_msgSend(_fileURL,"lastPathComponent");_untitledDocumentIndex||(_untitledDocumentIndex=++e);if(_untitledDocumentIndex==1)return"Untitled";return"Untitled "+_untitledDocumentIndex}}),new objj_method(sel_getUid("viewCibName"),function(a){with(a)return nil}),new objj_method(sel_getUid("windowCibName"),function(a){with(a)return nil}),new objj_method(sel_getUid("windowControllerDidLoadCib:"),function(a){with(a);}),new objj_method(sel_getUid("windowControllerWillLoadCib:"),
function(a){with(a);}),new objj_method(sel_getUid("readFromURL:ofType:delegate:didReadSelector:contextInfo:"),function(a,d,b,f,c,e,g){with(a)objj_msgSend(_readConnection,"cancel"),_readConnection=objj_msgSend(CPURLConnection,"connectionWithRequest:delegate:",objj_msgSend(CPURLRequest,"requestWithURL:",b),a),_readConnection.session={fileType:f,delegate:c,didReadSelector:e,contextInfo:g}}),new objj_method(sel_getUid("fileURL"),function(a){with(a)return _fileURL}),new objj_method(sel_getUid("setFileURL:"),
function(a,d,b){with(a){if(_fileURL===b)return;_fileURL=b;objj_msgSend(_windowControllers,"makeObjectsPerformSelector:",sel_getUid("synchronizeWindowTitleWithDocumentName"))}}),new objj_method(sel_getUid("saveToURL:ofType:forSaveOperation:delegate:didSaveSelector:contextInfo:"),function(a,d,b,f,c,e,g,k){with(a)f=objj_msgSend(a,"dataOfType:error:",objj_msgSend(a,"fileType"),nil),d=_changeCount,_writeRequest=objj_msgSend(CPURLRequest,"requestWithURL:",b),objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(_writeRequest,
"setHTTPMethod:","POST"):objj_msgSend(_writeRequest,"setHTTPMethod:","PUT"),objj_msgSend(_writeRequest,"setHTTPBody:",objj_msgSend(f,"rawString")),objj_msgSend(_writeRequest,"setValue:forHTTPHeaderField:","close","Connection"),c===CPSaveOperation&&objj_msgSend(_writeRequest,"setValue:forHTTPHeaderField:","true","x-cappuccino-overwrite"),c!==CPSaveToOperation&&objj_msgSend(a,"updateChangeCount:",CPChangeCleared),a=objj_msgSend(CPURLConnection,"connectionWithRequest:delegate:",_writeRequest,a),a.session=
{absoluteURL:b,saveOperation:c,changeCount:d,delegate:e,didSaveSelector:g,contextInfo:k,connection:a}}),new objj_method(sel_getUid("connection:didReceiveResponse:"),function(a,d,b,f){with(a){if(!objj_msgSend(f,"isKindOfClass:",objj_msgSend(CPHTTPURLResponse,"class")))return;d=objj_msgSend(f,"statusCode");if(d===200)return;f=b.session;b==_readConnection?(objj_msgSend(b,"cancel"),alert("There was an error retrieving the document."),objj_msgSend(f.delegate,f.didReadSelector,a,NO,f.contextInfo)):d==409&&
(objj_msgSend(b,"cancel"),confirm("There already exists a file with that name, would you like to overwrite it?")?(objj_msgSend(_writeRequest,"setValue:forHTTPHeaderField:","true","x-cappuccino-overwrite"),objj_msgSend(b,"start")):(f.saveOperation!=CPSaveToOperation&&(_changeCount+=f.changeCount,objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocumentEdited:"),objj_msgSend(a,"isDocumentEdited"))),_writeRequest=nil,objj_msgSend(f.delegate,f.didSaveSelector,a,
NO,f.contextInfo),objj_msgSend(a,"_sendDocumentSavedNotification:",NO)))}}),new objj_method(sel_getUid("connection:didReceiveData:"),function(a,d,b,f){with(a)d=b.session,b==_readConnection?(objj_msgSend(a,"readFromData:ofType:error:",objj_msgSend(CPData,"dataWithRawString:",f),d.fileType,nil),objj_msgSend(d.delegate,d.didReadSelector,a,YES,d.contextInfo)):(d.saveOperation!=CPSaveToOperation&&objj_msgSend(a,"setFileURL:",d.absoluteURL),_writeRequest=nil,objj_msgSend(d.delegate,d.didSaveSelector,a,
YES,d.contextInfo),objj_msgSend(a,"_sendDocumentSavedNotification:",YES))}),new objj_method(sel_getUid("connection:didFailWithError:"),function(a,d,b){with(a)d=b.session,_readConnection==b?objj_msgSend(d.delegate,d.didReadSelector,a,NO,d.contextInfo):(d.saveOperation!=CPSaveToOperation&&(_changeCount+=d.changeCount,objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocumentEdited:"),objj_msgSend(a,"isDocumentEdited"))),_writeRequest=nil,alert("There was an error saving the document."),
objj_msgSend(d.delegate,d.didSaveSelector,a,NO,d.contextInfo),objj_msgSend(a,"_sendDocumentSavedNotification:",NO))}),new objj_method(sel_getUid("connectionDidFinishLoading:"),function(a,d,b){with(a)_readConnection==b&&(_readConnection=nil)}),new objj_method(sel_getUid("isDocumentEdited"),function(a){with(a)return _changeCount!=0}),new objj_method(sel_getUid("updateChangeCount:"),function(a,d,b){with(a)b==CPChangeDone?++_changeCount:b==CPChangeUndone?--_changeCount:b==CPChangeCleared&&(_changeCount=
0),objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocumentEdited:"),objj_msgSend(a,"isDocumentEdited"))}),new objj_method(sel_getUid("setFileType:"),function(a,d,b){with(a)_fileType=b}),new objj_method(sel_getUid("fileType"),function(a){with(a)return _fileType}),new objj_method(sel_getUid("hasUndoManager"),function(a){with(a)return _hasUndoManager}),new objj_method(sel_getUid("setHasUndoManager:"),function(a,d,b){with(a){if(_hasUndoManager==b)return;(_hasUndoManager=
b)||objj_msgSend(a,"setUndoManager:",nil)}}),new objj_method(sel_getUid("_undoManagerWillCloseGroup:"),function(a,d,b){with(a){d=objj_msgSend(b,"object");if(objj_msgSend(d,"isUndoing")||objj_msgSend(d,"isRedoing"))return;objj_msgSend(a,"updateChangeCount:",CPChangeDone)}}),new objj_method(sel_getUid("_undoManagerDidUndoChange:"),function(a){with(a)objj_msgSend(a,"updateChangeCount:",CPChangeUndone)}),new objj_method(sel_getUid("_undoManagerDidRedoChange:"),function(a){with(a)objj_msgSend(a,"updateChangeCount:",
CPChangeDone)}),new objj_method(sel_getUid("setUndoManager:"),function(a,d,b){with(a)if(d=objj_msgSend(CPNotificationCenter,"defaultCenter"),_undoManager&&(objj_msgSend(d,"removeObserver:name:object:",a,CPUndoManagerDidUndoChangeNotification,_undoManager),objj_msgSend(d,"removeObserver:name:object:",a,CPUndoManagerDidRedoChangeNotification,_undoManager),objj_msgSend(d,"removeObserver:name:object:",a,CPUndoManagerWillCloseUndoGroupNotification,_undoManager)),_undoManager=b)objj_msgSend(d,"addObserver:selector:name:object:",
a,sel_getUid("_undoManagerDidUndoChange:"),CPUndoManagerDidUndoChangeNotification,_undoManager),objj_msgSend(d,"addObserver:selector:name:object:",a,sel_getUid("_undoManagerDidRedoChange:"),CPUndoManagerDidRedoChangeNotification,_undoManager),objj_msgSend(d,"addObserver:selector:name:object:",a,sel_getUid("_undoManagerWillCloseGroup:"),CPUndoManagerWillCloseUndoGroupNotification,_undoManager)}),new objj_method(sel_getUid("undoManager"),function(a){with(a)return _hasUndoManager&&!_undoManager&&objj_msgSend(a,
"setUndoManager:",objj_msgSend(objj_msgSend(CPUndoManager,"alloc"),"init")),_undoManager}),new objj_method(sel_getUid("windowWillReturnUndoManager:"),function(a){with(a)return objj_msgSend(a,"undoManager")}),new objj_method(sel_getUid("saveDocument:"),function(a){with(a)objj_msgSend(a,"saveDocumentWithDelegate:didSaveSelector:contextInfo:",nil,nil,nil)}),new objj_method(sel_getUid("saveDocumentWithDelegate:didSaveSelector:contextInfo:"),function(a,d,b,f,c){with(a)_fileURL?(objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPDocumentWillSaveNotification,a),objj_msgSend(a,"saveToURL:ofType:forSaveOperation:delegate:didSaveSelector:contextInfo:",_fileURL,objj_msgSend(a,"fileType"),CPSaveOperation,b,f,c)):objj_msgSend(a,"_saveDocumentAsWithDelegate:didSaveSelector:contextInfo:",b,f,c)}),new objj_method(sel_getUid("saveDocumentAs:"),function(a){with(a)objj_msgSend(a,"_saveDocumentAsWithDelegate:didSaveSelector:contextInfo:",nil,nil,nil)}),new objj_method(sel_getUid("_saveDocumentAsWithDelegate:didSaveSelector:contextInfo:"),
function(a,d,b,f,c){with(a){d=objj_msgSend(CPSavePanel,"savePanel");if(!objj_msgSend(d,"runModal"))return;d=objj_msgSend(d,"URL");objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPDocumentWillSaveNotification,a);objj_msgSend(a,"saveToURL:ofType:forSaveOperation:delegate:didSaveSelector:contextInfo:",d,objj_msgSend(a,"fileType"),CPSaveAsOperation,b,f,c)}}),new objj_method(sel_getUid("_sendDocumentSavedNotification:"),function(a,d,b){with(a)b?objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPDocumentDidSaveNotification,a):objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPDocumentDidFailToSaveNotification,a)})]);c=objj_getClass("CPDocument");if(!c)throw new SyntaxError('*** Could not find definition for class "CPDocument"');class_addMethods(c,[new objj_method(sel_getUid("close"),function(a){with(a)objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("removeDocumentAndCloseIfNecessary:"),
a),objj_msgSend(objj_msgSend(CPDocumentController,"sharedDocumentController"),"removeDocument:",a)}),new objj_method(sel_getUid("shouldCloseWindowController:delegate:shouldCloseSelector:contextInfo:"),function(a,d,b,f,c,e){with(a)objj_msgSend(b,"shouldCloseDocument")||objj_msgSend(_windowControllers,"count")<2&&objj_msgSend(_windowControllers,"indexOfObject:",b)!==CPNotFound?objj_msgSend(a,"canCloseDocumentWithDelegate:shouldCloseSelector:contextInfo:",a,sel_getUid("_document:shouldClose:context:"),
{delegate:f,selector:c,context:e}):objj_msgSend(f,"respondsToSelector:",c)&&objj_msgSend(f,c,a,YES,e)}),new objj_method(sel_getUid("_document:shouldClose:context:"),function(a,d,b,f,c){with(a)b===a&&f&&objj_msgSend(a,"close"),objj_msgSend(c.delegate,c.selector,b,f,c.context)}),new objj_method(sel_getUid("canCloseDocumentWithDelegate:shouldCloseSelector:contextInfo:"),function(a,d,b,f,c){with(a){if(!objj_msgSend(a,"isDocumentEdited"))return objj_msgSend(b,"respondsToSelector:",f)&&objj_msgSend(b,f,
a,YES,c);_canCloseAlert=objj_msgSend(objj_msgSend(CPAlert,"alloc"),"init");objj_msgSend(_canCloseAlert,"setDelegate:",a);objj_msgSend(_canCloseAlert,"setAlertStyle:",CPWarningAlertStyle);objj_msgSend(_canCloseAlert,"setTitle:","Unsaved Document");objj_msgSend(_canCloseAlert,"setMessageText:","Do you want to save the changes you've made to the document \""+(objj_msgSend(a,"displayName")||objj_msgSend(a,"fileName"))+'"?');objj_msgSend(_canCloseAlert,"addButtonWithTitle:","Save");objj_msgSend(_canCloseAlert,
"addButtonWithTitle:","Cancel");objj_msgSend(_canCloseAlert,"addButtonWithTitle:","Don't Save");_canCloseAlert._context={delegate:b,selector:f,context:c};objj_msgSend(_canCloseAlert,"runModal")}}),new objj_method(sel_getUid("alertDidEnd:returnCode:"),function(a,d,b,f){with(a){if(b!==_canCloseAlert)return;d=b._context.delegate;var c=b._context.selector;b=b._context.context;f===0?objj_msgSend(a,"saveDocumentWithDelegate:didSaveSelector:contextInfo:",d,c,b):objj_msgSend(d,c,a,f===2,b);_canCloseAlert=
nil}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPMenuItem.j",baseURL),function(h,g){g("Foundation/CPCoder.j",NO);g("Foundation/CPObject.j",NO);g("Foundation/CPString.j",NO);g("CPImage.j",YES);g("CPMenu.j",YES);g("CPView.j",YES);g("_CPMenuItemView.j",YES);var e=objj_allocateClassPair(CPObject,"CPMenuItem"),c=e.isa;class_addIvars(e,[new objj_ivar("_isSeparator"),new objj_ivar("_title"),new objj_ivar("_font"),new objj_ivar("_target"),new objj_ivar("_action"),new objj_ivar("_isEnabled"),new objj_ivar("_isHidden"),
new objj_ivar("_tag"),new objj_ivar("_state"),new objj_ivar("_image"),new objj_ivar("_alternateImage"),new objj_ivar("_onStateImage"),new objj_ivar("_offStateImage"),new objj_ivar("_mixedStateImage"),new objj_ivar("_submenu"),new objj_ivar("_menu"),new objj_ivar("_keyEquivalent"),new objj_ivar("_keyEquivalentModifierMask"),new objj_ivar("_mnemonicLocation"),new objj_ivar("_isAlternate"),new objj_ivar("_indentationLevel"),new objj_ivar("_toolTip"),new objj_ivar("_representedObject"),new objj_ivar("_view"),
new objj_ivar("_changeCount"),new objj_ivar("_menuItemView")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,"initWithTitle:action:keyEquivalent:","",nil,nil)}),new objj_method(sel_getUid("initWithTitle:action:keyEquivalent:"),function(a,d,b,f,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPMenuItem").super_class},"init"))_changeCount=0,_isSeparator=NO,_title=b,_action=f,_isEnabled=YES,_isHidden=
NO,_tag=0,_state=CPOffState,_keyEquivalent=c||"",_keyEquivalentModifierMask=CPPlatformActionKeyMask,_indentationLevel=0,_mnemonicLocation=CPNotFound;return a}}),new objj_method(sel_getUid("setEnabled:"),function(a,d,b){with(a){if(objj_msgSend(_menu,"autoenablesItems"))return;objj_msgSend(a,"_setEnabled:",b)}}),new objj_method(sel_getUid("_setEnabled:"),function(a,d,b){with(a){if(_isEnabled===b)return;_isEnabled=!!b;objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,"itemChanged:",a)}}),new objj_method(sel_getUid("isEnabled"),
function(a){with(a)return _isEnabled}),new objj_method(sel_getUid("setHidden:"),function(a,d,b){with(a){if(_isHidden==b)return;_isHidden=b;objj_msgSend(_menu,"itemChanged:",a)}}),new objj_method(sel_getUid("isHidden"),function(a){with(a)return _isHidden}),new objj_method(sel_getUid("isHiddenOrHasHiddenAncestor"),function(a){with(a){if(_isHidden)return YES;a=objj_msgSend(_menu,"supermenu");if(objj_msgSend(objj_msgSend(a,"itemAtIndex:",objj_msgSend(a,"indexOfItemWithSubmenu:",_menu)),"isHiddenOrHasHiddenAncestor"))return YES;
return NO}}),new objj_method(sel_getUid("setTarget:"),function(a,d,b){with(a)_target=b}),new objj_method(sel_getUid("target"),function(a){with(a)return _target}),new objj_method(sel_getUid("setAction:"),function(a,d,b){with(a)_action=b}),new objj_method(sel_getUid("action"),function(a){with(a)return _action}),new objj_method(sel_getUid("setTitle:"),function(a,d,b){with(a){_mnemonicLocation=CPNotFound;if(_title==b)return;_title=b;objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,"itemChanged:",
a)}}),new objj_method(sel_getUid("title"),function(a){with(a)return _title}),new objj_method(sel_getUid("setTextColor:"),function(a){with(a);}),new objj_method(sel_getUid("setFont:"),function(a,d,b){with(a){if(_font==b)return;_font=b;objj_msgSend(_menu,"itemChanged:",a);objj_msgSend(_menuItemView,"setDirty")}}),new objj_method(sel_getUid("font"),function(a){with(a)return _font}),new objj_method(sel_getUid("setTag:"),function(a,d,b){with(a)_tag=b}),new objj_method(sel_getUid("tag"),function(a){with(a)return _tag}),
new objj_method(sel_getUid("setState:"),function(a,d,b){with(a){if(_state==b)return;_state=b;objj_msgSend(_menu,"itemChanged:",a);objj_msgSend(_menuItemView,"setDirty")}}),new objj_method(sel_getUid("state"),function(a){with(a)return _state}),new objj_method(sel_getUid("setImage:"),function(a,d,b){with(a){if(_image==b)return;_image=b;objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,"itemChanged:",a)}}),new objj_method(sel_getUid("image"),function(a){with(a)return _image}),new objj_method(sel_getUid("setAlternateImage:"),
function(a,d,b){with(a)_alternateImage=b}),new objj_method(sel_getUid("alternateImage"),function(a){with(a)return _alternateImage}),new objj_method(sel_getUid("setOnStateImage:"),function(a,d,b){with(a){if(_onStateImage==b)return;_onStateImage=b;objj_msgSend(_menu,"itemChanged:",a)}}),new objj_method(sel_getUid("onStateImage"),function(a){with(a)return _onStateImage}),new objj_method(sel_getUid("setOffStateImage:"),function(a,d,b){with(a){if(_offStateImage==b)return;_offStateImage=b;objj_msgSend(_menu,
"itemChanged:",a)}}),new objj_method(sel_getUid("offStateImage"),function(a){with(a)return _offStateImage}),new objj_method(sel_getUid("setMixedStateImage:"),function(a,d,b){with(a){if(_mixedStateImage==b)return;_mixedStateImage=b;objj_msgSend(_menu,"itemChanged:",a)}}),new objj_method(sel_getUid("mixedStateImage"),function(a){with(a)return _mixedStateImage}),new objj_method(sel_getUid("setSubmenu:"),function(a,d,b){with(a){if(_submenu===b)return;objj_msgSend(_submenu,"supermenu")&&objj_msgSend(CPException,
"raise:reason:",CPInvalidArgumentException,"Can't add submenu \""+objj_msgSend(b,"title")+'" to item "'+objj_msgSend(a,"title")+'", because it is already submenu of "'+objj_msgSend(objj_msgSend(b,"supermenu"),"title")+'"');(_submenu=b)?(objj_msgSend(_submenu,"setSupermenu:",_menu),objj_msgSend(a,"setTarget:",_menu),objj_msgSend(a,"setAction:",sel_getUid("submenuAction:"))):(objj_msgSend(a,"setTarget:",nil),objj_msgSend(a,"setAction:",NULL));objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,
"itemChanged:",a)}}),new objj_method(sel_getUid("submenu"),function(a){with(a)return _submenu}),new objj_method(sel_getUid("hasSubmenu"),function(a){with(a)return _submenu?YES:NO}),new objj_method(sel_getUid("isSeparatorItem"),function(a){with(a)return _isSeparator}),new objj_method(sel_getUid("setMenu:"),function(a,d,b){with(a)_menu=b}),new objj_method(sel_getUid("menu"),function(a){with(a)return _menu}),new objj_method(sel_getUid("setKeyEquivalent:"),function(a,d,b){with(a)_keyEquivalent=b||""}),
new objj_method(sel_getUid("keyEquivalent"),function(a){with(a)return _keyEquivalent}),new objj_method(sel_getUid("setKeyEquivalentModifierMask:"),function(a,d,b){with(a)_keyEquivalentModifierMask=b}),new objj_method(sel_getUid("keyEquivalentModifierMask"),function(a){with(a)return _keyEquivalentModifierMask}),new objj_method(sel_getUid("keyEquivalentStringRepresentation"),function(a){with(a){if(!objj_msgSend(_keyEquivalent,"length"))return"";a=_keyEquivalent.toUpperCase();var d=_keyEquivalentModifierMask&
CPShiftKeyMask||a===_keyEquivalent&&_keyEquivalent.toLowerCase()!==_keyEquivalent.toUpperCase();if(CPBrowserIsOperatingSystem(CPMacOperatingSystem))_keyEquivalentModifierMask&CPCommandKeyMask&&(a=""+a),d&&(a=""+a),_keyEquivalentModifierMask&CPAlternateKeyMask&&(a=""+a),_keyEquivalentModifierMask&CPControlKeyMask&&(a="^"+a);else if(d&&(a="Shift-"+a),_keyEquivalentModifierMask&CPAlternateKeyMask&&(a="Alt-"+a),_keyEquivalentModifierMask&CPControlKeyMask||_keyEquivalentModifierMask&CPCommandKeyMask)a=
"Ctrl-"+a;return a}}),new objj_method(sel_getUid("setMnemonicLocation:"),function(a,d,b){with(a)_mnemonicLocation=b}),new objj_method(sel_getUid("mnemonicLocation"),function(a){with(a)return _mnemonicLocation}),new objj_method(sel_getUid("setTitleWithMnemonicLocation:"),function(a,d,b){with(a)d=objj_msgSend(b,"rangeOfString:","&").location,d==CPNotFound?objj_msgSend(a,"setTitle:",b):(objj_msgSend(a,"setTitle:",objj_msgSend(b,"substringToIndex:",d)+objj_msgSend(b,"substringFromIndex:",d+1)),objj_msgSend(a,
"setMnemonicLocation:",d))}),new objj_method(sel_getUid("mnemonic"),function(a){with(a)return _mnemonicLocation==CPNotFound?"":objj_msgSend(_title,"characterAtIndex:",_mnemonicLocation)}),new objj_method(sel_getUid("setAlternate:"),function(a,d,b){with(a)_isAlternate=b}),new objj_method(sel_getUid("isAlternate"),function(a){with(a)return _isAlternate}),new objj_method(sel_getUid("setIndentationLevel:"),function(a,d,b){with(a)b<0&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,
"setIndentationLevel: argument must be greater than or equal to 0."),_indentationLevel=MIN(15,b)}),new objj_method(sel_getUid("indentationLevel"),function(a){with(a)return _indentationLevel}),new objj_method(sel_getUid("setToolTip:"),function(a,d,b){with(a)_toolTip=b}),new objj_method(sel_getUid("toolTip"),function(a){with(a)return _toolTip}),new objj_method(sel_getUid("setRepresentedObject:"),function(a,d,b){with(a)_representedObject=b}),new objj_method(sel_getUid("representedObject"),function(a){with(a)return _representedObject}),
new objj_method(sel_getUid("setView:"),function(a,d,b){with(a){if(_view===b)return;_view=b;objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,"itemChanged:",a)}}),new objj_method(sel_getUid("view"),function(a){with(a)return _view}),new objj_method(sel_getUid("isHighlighted"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"menu"),"highlightedItem")==a}),new objj_method(sel_getUid("copy"),function(a){with(a)return a=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"init"),a._isSeparator=
_isSeparator,objj_msgSend(a,"setTitle:",_title),objj_msgSend(a,"setFont:",_font),objj_msgSend(a,"setTarget:",_target),objj_msgSend(a,"setAction:",_action),objj_msgSend(a,"setEnabled:",_isEnabled),objj_msgSend(a,"setHidden:",_isHidden),objj_msgSend(a,"setTag:",_tag),objj_msgSend(a,"setState:",_state),objj_msgSend(a,"setImage:",_image),objj_msgSend(a,"setAlternateImage:",_alternateImage),objj_msgSend(a,"setOnStateImage:",_onStateImage),objj_msgSend(a,"setOffStateImage:",_offStateImage),objj_msgSend(a,
"setMixedStateImage:",_mixedStateImage),objj_msgSend(a,"setKeyEquivalent:",_keyEquivalent),objj_msgSend(a,"setKeyEquivalentModifierMask:",_keyEquivalentModifierMask),objj_msgSend(a,"setMnemonicLocation:",_mnemonicLocation),objj_msgSend(a,"setAlternate:",_isAlternate),objj_msgSend(a,"setIndentationLevel:",_indentationLevel),objj_msgSend(a,"setToolTip:",_toolTip),objj_msgSend(a,"setRepresentedObject:",_representedObject),a}),new objj_method(sel_getUid("mutableCopy"),function(a){with(a)return objj_msgSend(a,
"copy")}),new objj_method(sel_getUid("_menuItemView"),function(a){with(a)return _menuItemView||(_menuItemView=objj_msgSend(objj_msgSend(_CPMenuItemView,"alloc"),"initWithFrame:forMenuItem:",CGRectMakeZero(),a)),_menuItemView}),new objj_method(sel_getUid("_isSelectable"),function(a){with(a)return!objj_msgSend(a,"submenu")||objj_msgSend(a,"action")!==sel_getUid("submenuAction:")||objj_msgSend(a,"target")!==objj_msgSend(a,"menu")}),new objj_method(sel_getUid("_isMenuBarButton"),function(a){with(a)return!objj_msgSend(a,
"submenu")&&objj_msgSend(a,"menu")===objj_msgSend(CPApp,"mainMenu")}),new objj_method(sel_getUid("description"),function(a){with(a)return objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPMenuItem").super_class},"description")+" target: "+objj_msgSend(a,"target")+" action: "+CPStringFromSelector(objj_msgSend(a,"action"))})]);class_addMethods(c,[new objj_method(sel_getUid("separatorItem"),function(a){with(a)return a=objj_msgSend(objj_msgSend(a,"alloc"),"initWithTitle:action:keyEquivalent:",
"",nil,nil),a._isSeparator=YES,a})]);e=objj_getClass("CPMenuItem");if(!e)throw new SyntaxError('*** Could not find definition for class "CPMenuItem"');c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("initWithCoder:"),function(a,d,b){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPMenuItem").super_class},"init"))_changeCount=0,_isSeparator=objj_msgSend(b,"containsValueForKey:","CPMenuItemIsSeparatorKey")&&objj_msgSend(b,"decodeBoolForKey:","CPMenuItemIsSeparatorKey"),
_title=objj_msgSend(b,"decodeObjectForKey:","CPMenuItemTitleKey"),_target=objj_msgSend(b,"decodeObjectForKey:","CPMenuItemTargetKey"),_action=objj_msgSend(b,"decodeObjectForKey:","CPMenuItemActionKey"),_isEnabled=objj_msgSend(b,"containsValueForKey:","CPMenuItemIsEnabledKey")?objj_msgSend(b,"decodeObjectForKey:","CPMenuItemIsEnabledKey"):YES,_isHidden=objj_msgSend(b,"containsValueForKey:","CPMenuItemIsHiddenKey")?objj_msgSend(b,"decodeObjectForKey:","CPMenuItemIsHiddenKey"):NO,_tag=objj_msgSend(b,
"containsValueForKey:","CPMenuItemTagKey")?objj_msgSend(b,"decodeObjectForKey:","CPMenuItemTagKey"):0,_state=objj_msgSend(b,"containsValueForKey:","CPMenuItemStateKey")?objj_msgSend(b,"decodeObjectForKey:","CPMenuItemStateKey"):CPOffState,_image=objj_msgSend(b,"containsValueForKey:","CPMenuItemImageKey")?objj_msgSend(b,"decodeObjectForKey:","CPMenuItemImageKey"):nil,_alternateImage=objj_msgSend(b,"containsValueForKey:","CPMenuItemAlternateImageKey")?objj_msgSend(b,"decodeObjectForKey:","CPMenuItemAlternateImageKey"):
nil,_menu=objj_msgSend(b,"containsValueForKey:","CPMenuItemMenuKey")?objj_msgSend(b,"decodeObjectForKey:","CPMenuItemMenuKey"):nil,objj_msgSend(a,"setSubmenu:",objj_msgSend(b,"containsValueForKey:","CPMenuItemSubmenuKey")?objj_msgSend(b,"decodeObjectForKey:","CPMenuItemSubmenuKey"):nil),_keyEquivalent=objj_msgSend(b,"decodeObjectForKey:","CPMenuItemKeyEquivalentKey")||"",_keyEquivalentModifierMask=objj_msgSend(b,"decodeObjectForKey:","CPMenuItemKeyEquivalentModifierMaskKey")||0,objj_msgSend(a,"setIndentationLevel:",
objj_msgSend(b,"decodeIntForKey:","CPMenuItemIndentationLevelKey")||0),_representedObject=objj_msgSend(b,"containsValueForKey:","CPMenuItemRepresentedObjectKey")?objj_msgSend(b,"decodeObjectForKey:","CPMenuItemRepresentedObjectKey"):nil,_view=objj_msgSend(b,"containsValueForKey:","CPMenuItemViewKey")?objj_msgSend(b,"decodeObjectForKey:","CPMenuItemViewKey"):nil;return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,d,b){with(a)_isSeparator&&objj_msgSend(b,"encodeBool:forKey:",_isSeparator,
"CPMenuItemIsSeparatorKey"),objj_msgSend(b,"encodeObject:forKey:",_title,"CPMenuItemTitleKey"),objj_msgSend(b,"encodeObject:forKey:",_target,"CPMenuItemTargetKey"),objj_msgSend(b,"encodeObject:forKey:",_action,"CPMenuItemActionKey"),_isEnabled!==YES&&objj_msgSend(b,"encodeObject:forKey:",_isEnabled,"CPMenuItemIsEnabledKey"),_isHidden!==NO&&objj_msgSend(b,"encodeObject:forKey:",_isHidden,"CPMenuItemIsHiddenKey"),_tag!==0&&objj_msgSend(b,"encodeObject:forKey:",_tag,"CPMenuItemTagKey"),_state!==CPOffState&&
objj_msgSend(b,"encodeObject:forKey:",_state,"CPMenuItemStateKey"),_image!==nil&&objj_msgSend(b,"encodeObject:forKey:",_image,"CPMenuItemImageKey"),_alternateImage!==nil&&objj_msgSend(b,"encodeObject:forKey:",_alternateImage,"CPMenuItemAlternateImageKey"),_submenu!==nil&&objj_msgSend(b,"encodeObject:forKey:",_submenu,"CPMenuItemSubmenuKey"),_menu!==nil&&objj_msgSend(b,"encodeObject:forKey:",_menu,"CPMenuItemMenuKey"),_keyEquivalent&&_keyEquivalent.length&&objj_msgSend(b,"encodeObject:forKey:",_keyEquivalent,
"CPMenuItemKeyEquivalentKey"),_keyEquivalentModifierMask&&objj_msgSend(b,"encodeObject:forKey:",_keyEquivalentModifierMask,"CPMenuItemKeyEquivalentModifierMaskKey"),_indentationLevel>0&&objj_msgSend(b,"encodeInt:forKey:",_indentationLevel,"CPMenuItemIndentationLevelKey"),_representedObject!==nil&&objj_msgSend(b,"encodeObject:forKey:",_representedObject,"CPMenuItemRepresentedObjectKey"),_view!==nil&&objj_msgSend(b,"encodeObject:forKey:",_view,"CPMenuItemViewKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPImageAndTextView.j",baseURL),function(h,g){g("Foundation/CPString.j",NO);g("CPColor.j",YES);g("CPFont.j",YES);g("CPImage.j",YES);g("CPView.j",YES);g("CPControl.j",YES);var e=objj_allocateClassPair(CPView,"_CPImageAndTextView");class_addIvars(e,[new objj_ivar("_alignment"),new objj_ivar("_verticalAlignment"),new objj_ivar("_lineBreakMode"),new objj_ivar("_textColor"),new objj_ivar("_font"),new objj_ivar("_textShadowColor"),new objj_ivar("_textShadowOffset"),
new objj_ivar("_imagePosition"),new objj_ivar("_imageScaling"),new objj_ivar("_imageOffset"),new objj_ivar("_shouldDimImage"),new objj_ivar("_image"),new objj_ivar("_text"),new objj_ivar("_textSize"),new objj_ivar("_flags"),new objj_ivar("_DOMImageElement"),new objj_ivar("_DOMTextElement"),new objj_ivar("_DOMTextShadowElement")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithFrame:control:"),function(c,a,d,b){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("_CPImageAndTextView").super_class},
"initWithFrame:",d))_textShadowOffset={width:0,height:0},objj_msgSend(c,"setVerticalAlignment:",CPTopVerticalTextAlignment),b?(objj_msgSend(c,"setLineBreakMode:",objj_msgSend(b,"lineBreakMode")),objj_msgSend(c,"setTextColor:",objj_msgSend(b,"textColor")),objj_msgSend(c,"setAlignment:",objj_msgSend(b,"alignment")),objj_msgSend(c,"setVerticalAlignment:",objj_msgSend(b,"verticalAlignment")),objj_msgSend(c,"setFont:",objj_msgSend(b,"font")),objj_msgSend(c,"setImagePosition:",objj_msgSend(b,"imagePosition")),
objj_msgSend(c,"setImageScaling:",objj_msgSend(b,"imageScaling")),objj_msgSend(c,"setImageOffset:",objj_msgSend(b,"imageOffset"))):(objj_msgSend(c,"setLineBreakMode:",CPLineBreakByClipping),objj_msgSend(c,"setAlignment:",CPCenterTextAlignment),objj_msgSend(c,"setFont:",objj_msgSend(CPFont,"systemFontOfSize:",12)),objj_msgSend(c,"setImagePosition:",CPNoImage),objj_msgSend(c,"setImageScaling:",CPScaleNone)),_textSize=nil;return c}}),new objj_method(sel_getUid("initWithFrame:"),function(c,a,d){with(c)return objj_msgSend(c,
"initWithFrame:control:",d,nil)}),new objj_method(sel_getUid("setAlignment:"),function(c,a,d){with(c){if(_alignment===d)return;_alignment=d;switch(_alignment){case CPLeftTextAlignment:_DOMElement.style.textAlign="left";break;case CPRightTextAlignment:_DOMElement.style.textAlign="right";break;case CPCenterTextAlignment:_DOMElement.style.textAlign="center";break;case CPJustifiedTextAlignment:_DOMElement.style.textAlign="justify";break;case CPNaturalTextAlignment:_DOMElement.style.textAlign=""}}}),new objj_method(sel_getUid("alignment"),
function(c){with(c)return _alignment}),new objj_method(sel_getUid("setVerticalAlignment:"),function(c,a,d){with(c){if(_verticalAlignment===d)return;_verticalAlignment=d;_flags|=16;objj_msgSend(c,"setNeedsLayout")}}),new objj_method(sel_getUid("verticalAlignment"),function(c){with(c)return _verticalAlignment}),new objj_method(sel_getUid("setLineBreakMode:"),function(c,a,d){with(c){if(_lineBreakMode===d)return;_lineBreakMode=d;_flags|=32;objj_msgSend(c,"setNeedsLayout")}}),new objj_method(sel_getUid("lineBreakMode"),
function(c){with(c)return _lineBreakMode}),new objj_method(sel_getUid("setImagePosition:"),function(c,a,d){with(c){if(_imagePosition==d)return;_imagePosition==CPNoImage&&(_flags|=2);_imagePosition=d;_flags|=512;objj_msgSend(c,"setNeedsLayout")}}),new objj_method(sel_getUid("imagePosition"),function(c){with(c)return _imagePosition}),new objj_method(sel_getUid("setImageScaling:"),function(c,a,d){with(c){if(_imageScaling==d)return;_imageScaling=d;_flags|=1024;objj_msgSend(c,"setNeedsLayout")}}),new objj_method(sel_getUid("imageScaling"),
function(c){with(c)return _imageScaling}),new objj_method(sel_getUid("setDimsImage:"),function(c,a,d){with(c)d=!!d,_shouldDimImage!==d&&(_shouldDimImage=d,objj_msgSend(c,"setNeedsLayout"))}),new objj_method(sel_getUid("setTextColor:"),function(c,a,d){with(c){if(_textColor===d)return;_textColor=d;_DOMElement.style.color=objj_msgSend(_textColor,"cssString")}}),new objj_method(sel_getUid("textColor"),function(c){with(c)return _textColor}),new objj_method(sel_getUid("setFont:"),function(c,a,d){with(c){if(_font===
d)return;_font=d;_flags|=128;_textSize=nil;objj_msgSend(c,"setNeedsLayout")}}),new objj_method(sel_getUid("font"),function(c){with(c)return _font}),new objj_method(sel_getUid("setTextShadowColor:"),function(c,a,d){with(c){if(_textShadowColor===d)return;_textShadowColor=d;_flags|=256;objj_msgSend(c,"setNeedsLayout")}}),new objj_method(sel_getUid("textShadowColor"),function(c){with(c)return _textShadowColor}),new objj_method(sel_getUid("setTextShadowOffset:"),function(c,a,d){with(c){if(_textShadowOffset.width==
d.width&&_textShadowOffset.height==d.height)return;_textShadowOffset={width:d.width,height:d.height};objj_msgSend(c,"setNeedsLayout")}}),new objj_method(sel_getUid("textShadowOffset"),function(c){with(c)return _textShadowOffset}),new objj_method(sel_getUid("setImage:"),function(c,a,d){with(c){if(_image==d)return;objj_msgSend(_image,"delegate")===c&&objj_msgSend(_image,"setDelegate:",nil);_image=d;_flags|=2;objj_msgSend(_image,"loadStatus")!==CPImageLoadStatusCompleted&&objj_msgSend(_image,"setDelegate:",
c);objj_msgSend(c,"setNeedsLayout")}}),new objj_method(sel_getUid("setImageOffset:"),function(c,a,d){with(c){if(_imageOffset===d)return;_imageOffset=d;objj_msgSend(c,"setNeedsLayout")}}),new objj_method(sel_getUid("imageOffset"),function(c){with(c)return _imageOffset}),new objj_method(sel_getUid("imageDidLoad:"),function(c,a,d){with(c)d===_image&&(_flags|=2,objj_msgSend(c,"setNeedsLayout"))}),new objj_method(sel_getUid("image"),function(c){with(c)return _image}),new objj_method(sel_getUid("setText:"),
function(c,a,d){with(c){if(_text===d)return;_text=d;_flags|=4;_textSize=nil;objj_msgSend(c,"setNeedsLayout")}}),new objj_method(sel_getUid("text"),function(c){with(c)return _text}),new objj_method(sel_getUid("layoutSubviews"),function(c){with(c){var a=_imagePosition!==CPImageOnly&&objj_msgSend(_text,"length")>0,d=!!_DOMTextElement;if(a!==d)d?(_DOMElement.removeChild(_DOMTextElement),_DOMTextElement=nil,d=NO):(_DOMTextElement=document.createElement("div"),a=_DOMTextElement.style,a.position="absolute",
a.whiteSpace="pre",a.zIndex=200,a.overflow="hidden",_DOMElement.appendChild(_DOMTextElement),d=YES,_flags|=164);a=d?_DOMTextElement.style:nil;var b=!!_DOMTextShadowElement;if((d&&!!_textShadowColor)!==b)b?(_DOMElement.removeChild(_DOMTextShadowElement),_DOMTextShadowElement=nil,b=NO):(_DOMTextShadowElement=document.createElement("div"),b=_DOMTextShadowElement.style,b.font=objj_msgSend(_font?_font:objj_msgSend(CPFont,"systemFontOfSize:",12),"cssString"),b.position="absolute",b.whiteSpace=a.whiteSpace,
b.wordWrap=a.wordWrap,b.color=objj_msgSend(_textShadowColor,"cssString"),b.zIndex=150,b.textOverflow=a.textOverflow,document.attachEvent?b.overflow=a.overflow:(b.overflowX=a.overflowX,b.overflowY=a.overflowY),_DOMElement.appendChild(_DOMTextShadowElement),b=YES,_flags|=4);b=b?_DOMTextShadowElement.style:nil;if(d){if(_flags&4)if(CPFeatureIsCompatible(CPJavaScriptInnerTextFeature)){if(_DOMTextElement.innerText=_text,_DOMTextShadowElement)_DOMTextShadowElement.innerText=_text}else if(CPFeatureIsCompatible(CPJavaScriptTextContentFeature)&&
(_DOMTextElement.textContent=_text,_DOMTextShadowElement))_DOMTextShadowElement.textContent=_text;if(_flags&128){var f=objj_msgSend(_font?_font:objj_msgSend(CPFont,"systemFontOfSize:",12),"cssString");a.font=f;if(b)b.font=f}if(_flags&32){switch(_lineBreakMode){case CPLineBreakByClipping:a.overflow="hidden";a.textOverflow="clip";a.whiteSpace="pre";a.wordWrap="normal";break;case CPLineBreakByTruncatingHead:case CPLineBreakByTruncatingMiddle:case CPLineBreakByTruncatingTail:a.textOverflow="ellipsis";
a.whiteSpace="nowrap";a.overflow="hidden";a.wordWrap="normal";break;case CPLineBreakByCharWrapping:case CPLineBreakByWordWrapping:a.wordWrap="break-word";try{a.whiteSpace="pre",a.whiteSpace="-o-pre-wrap",a.whiteSpace="-pre-wrap",a.whiteSpace="-moz-pre-wrap",a.whiteSpace="pre-wrap"}catch(i){a.whiteSpace="pre"}a.overflow="hidden";a.textOverflow="clip"}if(b)document.attachEvent?b.overflow=a.overflow:(b.overflowX=a.overflowX,b.overflowY=a.overflowY),b.wordWrap=a.wordWrap,b.whiteSpace=a.whiteSpace,b.textOverflow=
a.textOverflow}}var e=!!_DOMImageElement;if((_image!==nil&&_imagePosition!==CPNoImage)!==e)if(e)_DOMElement.removeChild(_DOMImageElement),_DOMImageElement=nil,e=NO;else{_DOMImageElement=document.createElement("img");objj_msgSend(CPPlatform,"supportsDragAndDrop")&&(_DOMImageElement.setAttribute("draggable","true"),_DOMImageElement.style["-khtml-user-drag"]="element");var g=_DOMImageElement.style;g.top="0px";g.left="0px";g.position="absolute";g.zIndex=100;_DOMElement.appendChild(_DOMImageElement);e=
YES}f=objj_msgSend(c,"bounds").size;c={origin:{x:0,y:0},size:{width:f.width,height:f.height}};if(e){if(!g)g=_DOMImageElement.style;if(_flags&2)_DOMImageElement.src=objj_msgSend(_image,"filename");e=f.width/2;var k=f.height/2,o=objj_msgSend(_image,"size"),h=o.width;o=o.height;if(_imageScaling===CPScaleToFit)h=f.width,o=f.height;else if(_imageScaling===CPScaleProportionally){var p=MIN(MIN(f.width,h)/h,MIN(f.height,o)/o);h*=p;o*=p}CPFeatureIsCompatible(CPOpacityRequiresFilterFeature)?g.filter="alpha(opacity="+
_shouldDimImage?35:"100)":g.opacity=_shouldDimImage?0.35:1;_DOMImageElement.width=h;_DOMImageElement.height=o;g.width=MAX(h,0)+"px";g.height=MAX(o,0)+"px";if(_imagePosition===CPImageBelow)g.left=FLOOR(e-h/2)+"px",g.top=FLOOR(f.height-o)+"px",c.size.height=f.height-o-_imageOffset;else if(_imagePosition===CPImageAbove)g.left=FLOOR(e-h/2)+"px",g.top="0px",c.origin.y+=o+_imageOffset,c.size.height=f.height-o-_imageOffset;else if(_imagePosition===CPImageLeft)g.top=FLOOR(k-o/2)+"px",g.left="0px",c.origin.x=
h+_imageOffset,c.size.width-=h+_imageOffset;else if(_imagePosition===CPImageRight)g.top=FLOOR(k-o/2)+"px",g.left=FLOOR(f.width-h)+"px",c.size.width-=h+_imageOffset;else if(_imagePosition===CPImageOnly||_imagePosition==CPImageOverlaps)g.top=FLOOR(k-o/2)+"px",g.left=FLOOR(e-h/2)+"px"}if(d){d=c.origin.x;g=c.origin.y;f=c.size.width;c=c.size.height;if(_verticalAlignment!==CPTopVerticalTextAlignment)_textSize||(_textSize=_lineBreakMode===CPLineBreakByCharWrapping||_lineBreakMode===CPLineBreakByWordWrapping?
objj_msgSend(_text,"sizeWithFont:inWidth:",_font,f):objj_msgSend(_text,"sizeWithFont:",_font)),_verticalAlignment===CPCenterVerticalTextAlignment?g+=(c-_textSize.height)/2:g=g+c-_textSize.height,c=_textSize.height;a.top=ROUND(g)+"px";a.left=ROUND(d)+"px";a.width=MAX(ROUND(f),0)+"px";a.height=MAX(ROUND(c),0)+"px";if(b){if(_flags&256)b.color=objj_msgSend(_textShadowColor,"cssString");b.top=ROUND(g+_textShadowOffset.height)+"px";b.left=ROUND(d+_textShadowOffset.width)+"px";b.width=MAX(ROUND(f),0)+"px";
b.height=MAX(ROUND(c),0)+"px"}}_flags=0}}),new objj_method(sel_getUid("sizeToFit"),function(c){with(c){var a=CGSizeMakeZero();if(_imagePosition!==CPNoImage&&_image){var d=objj_msgSend(_image,"size");a.width+=d.width;a.height+=d.height}if(_imagePosition!==CPImageOnly&&objj_msgSend(_text,"length")>0)if(_textSize||(_textSize=objj_msgSend(_text,"sizeWithFont:",_font?_font:objj_msgSend(CPFont,"systemFontOfSize:",12))),!_image||_imagePosition===CPImageOverlaps)a.width=MAX(a.width,_textSize.width),a.height=
MAX(a.height,_textSize.height);else if(_imagePosition===CPImageLeft||_imagePosition===CPImageRight)a.width+=_textSize.width+_imageOffset,a.height=MAX(a.height,_textSize.height);else if(_imagePosition===CPImageAbove||_imagePosition===CPImageBelow)a.width=MAX(a.width,_textSize.width),a.height+=_textSize.height+_imageOffset;objj_msgSend(c,"setFrameSize:",a)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPIndexSet.j",baseURL),function(h,g){g("CPArray.j",YES);g("CPObject.j",YES);g("CPRange.j",YES);var e=objj_allocateClassPair(CPObject,"CPIndexSet"),c=e.isa;class_addIvars(e,[new objj_ivar("_count"),new objj_ivar("_ranges")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,"initWithIndexesInRange:",{location:0,length:0})}),new objj_method(sel_getUid("initWithIndex:"),
function(a,d,c){with(a)return objj_msgSend(a,"initWithIndexesInRange:",{location:c,length:1})}),new objj_method(sel_getUid("initWithIndexesInRange:"),function(a,d,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPIndexSet").super_class},"init"))_count=MAX(0,c.length),_ranges=_count>0?[c]:[];return a}}),new objj_method(sel_getUid("initWithIndexSet:"),function(a,d,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPIndexSet").super_class},"init")){_count=
objj_msgSend(c,"count");_ranges=[];d=c._ranges;for(c=d.length;c--;)_ranges[c]={location:d[c].location,length:d[c].length}}return a}}),new objj_method(sel_getUid("isEqual:"),function(a,d,c){with(a){if(a===c)return YES;if(!c||!objj_msgSend(c,"isKindOfClass:",objj_msgSend(CPIndexSet,"class")))return NO;return objj_msgSend(a,"isEqualToIndexSet:",c)}}),new objj_method(sel_getUid("isEqualToIndexSet:"),function(a,d,c){with(a){if(!c)return NO;if(a===c)return YES;a=_ranges.length;d=c._ranges;if(a!==d.length||
_count!==c._count)return NO;for(;a--;)if(!CPEqualRanges(_ranges[a],d[a]))return NO;return YES}}),new objj_method(sel_getUid("isEqual:"),function(a,d,c){with(a)return a===c||objj_msgSend(c,"isKindOfClass:",objj_msgSend(a,"class"))&&objj_msgSend(a,"isEqualToIndexSet:",c)}),new objj_method(sel_getUid("containsIndex:"),function(b,d,c){with(b)return a(_ranges,c)!==CPNotFound}),new objj_method(sel_getUid("containsIndexesInRange:"),function(b,d,c){with(b){if(c.length<=0)return NO;if(_count<c.length)return NO;
b=a(_ranges,c.location);if(b===CPNotFound)return NO;return CPIntersectionRange(_ranges[b],c).length===c.length}}),new objj_method(sel_getUid("containsIndexes:"),function(a,d,c){with(a){d=c._count;if(d<=0)return YES;if(_count<d)return NO;c=c._ranges;for(d=c.length;d--;)if(!objj_msgSend(a,"containsIndexesInRange:",c[d]))return NO;return YES}}),new objj_method(sel_getUid("intersectsIndexesInRange:"),function(a,f,c){with(a){if(_count<=0)return NO;a=d(_ranges,c.location);if(FLOOR(a)===a)return YES;c=d(_ranges,
c.location+c.length-1);if(FLOOR(c)===c)return YES;return a!==c}}),new objj_method(sel_getUid("count"),function(a){with(a)return _count}),new objj_method(sel_getUid("firstIndex"),function(a){with(a){if(_count>0)return _ranges[0].location;return CPNotFound}}),new objj_method(sel_getUid("lastIndex"),function(a){with(a){if(_count>0)return _ranges[_ranges.length-1].location+_ranges[_ranges.length-1].length-1;return CPNotFound}}),new objj_method(sel_getUid("indexGreaterThanIndex:"),function(a,f,c){with(a){++c;
a=d(_ranges,c);if(a===CPNotFound)return CPNotFound;a=CEIL(a);if(a>=_ranges.length)return CPNotFound;a=_ranges[a];if(CPLocationInRange(c,a))return c;return a.location}}),new objj_method(sel_getUid("indexLessThanIndex:"),function(a,f,c){with(a){--c;a=d(_ranges,c);if(a===CPNotFound)return CPNotFound;a=FLOOR(a);if(a<0)return CPNotFound;a=_ranges[a];if(CPLocationInRange(c,a))return c;return a.location+a.length-1}}),new objj_method(sel_getUid("indexGreaterThanOrEqualToIndex:"),function(a,d,c){with(a)return objj_msgSend(a,
"indexGreaterThanIndex:",c-1)}),new objj_method(sel_getUid("indexLessThanOrEqualToIndex:"),function(a,d,c){with(a)return objj_msgSend(a,"indexLessThanIndex:",c+1)}),new objj_method(sel_getUid("getIndexes:maxCount:inIndexRange:"),function(a,f,c,e,g){with(a){if(!_count||e===0||g&&!g.length){if(g)g.length=0;return 0}f=0;if(g){var k=g.location;a=g.location+g.length-1;var o=CEIL(d(_ranges,k)),h=FLOOR(d(_ranges,a))}else k=objj_msgSend(a,"firstIndex"),a=objj_msgSend(a,"lastIndex"),o=0,h=_ranges.length-1;
for(;o<=h;){var p=_ranges[o],n=MAX(k,p.location);for(p=MIN(a+1,p.location+p.length);n<p;++n)if(c[f++]=n,f===e){if(g)g.location=n+1,g.length=a+1-n-1;return e}++o}if(g)g.location=CPNotFound,g.length=0;return f}}),new objj_method(sel_getUid("description"),function(a){with(a){a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPIndexSet").super_class},"description");if(_count){var d=0,c=_ranges.length;a+="[number of indexes: "+_count+" (in "+c;for(a+=c===1?" range), indexes: (":" ranges), indexes: (";d<
c;++d){var e=_ranges[d];a+=e.location;e.length>1&&(a+="-"+(CPMaxRange(e)-1));d+1<c&&(a+=" ")}a+=")]"}else a+="(no indexes)";return a}})]);class_addMethods(c,[new objj_method(sel_getUid("indexSet"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"init")}),new objj_method(sel_getUid("indexSetWithIndex:"),function(a,d,c){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithIndex:",c)}),new objj_method(sel_getUid("indexSetWithIndexesInRange:"),function(a,d,c){with(a)return objj_msgSend(objj_msgSend(a,
"alloc"),"initWithIndexesInRange:",c)})]);e=objj_getClass("CPIndexSet");if(!e)throw new SyntaxError('*** Could not find definition for class "CPIndexSet"');c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("addIndex:"),function(a,d,c){with(a)objj_msgSend(a,"addIndexesInRange:",{location:c,length:1})}),new objj_method(sel_getUid("addIndexes:"),function(a,d,c){with(a){d=c._ranges;for(c=d.length;c--;)objj_msgSend(a,"addIndexesInRange:",d[c])}}),new objj_method(sel_getUid("addIndexesInRange:"),function(a,
f,c){with(a){if(c.length<=0)return;if(_count<=0){_count=c.length;_ranges=[c];return}f=_ranges.length;var e=d(_ranges,c.location-1);a=CEIL(e);a===e&&a<f&&(c=CPUnionRange(c,_ranges[a]));f=d(_ranges,CPMaxRange(c));e=FLOOR(f);e===f&&e>=0&&(c=CPUnionRange(c,_ranges[e]));f=e-a+1;if(f===_ranges.length)_ranges=[c],_count=c.length;else if(f===1)a<_ranges.length&&(_count-=_ranges[a].length),_count+=c.length,_ranges[a]=c;else{if(f>0){e=a;for(var g=a+f-1;e<=g;++e)_count-=_ranges[e].length;objj_msgSend(_ranges,
"removeObjectsInRange:",{location:a,length:f})}objj_msgSend(_ranges,"insertObject:atIndex:",c,a);_count+=c.length}}}),new objj_method(sel_getUid("removeIndex:"),function(a,d,c){with(a)objj_msgSend(a,"removeIndexesInRange:",{location:c,length:1})}),new objj_method(sel_getUid("removeIndexes:"),function(a,d,c){with(a){d=c._ranges;for(c=d.length;c--;)objj_msgSend(a,"removeIndexesInRange:",d[c])}}),new objj_method(sel_getUid("removeAllIndexes"),function(a){with(a)_ranges=[],_count=0}),new objj_method(sel_getUid("removeIndexesInRange:"),
function(a,f,c){with(a){if(c.length<=0)return;if(_count<=0)return;f=_ranges.length;var e=d(_ranges,c.location);a=CEIL(e);if(e===a&&a<f&&(e=_ranges[a],c.location!==e.location)){var g=CPMaxRange(c),k=CPMaxRange(e);e.length=c.location-e.location;if(g<k){_count-=c.length;objj_msgSend(_ranges,"insertObject:atIndex:",{location:g,length:k-g},a+1);return}else _count-=k-c.location,a+=1}e=d(_ranges,CPMaxRange(c)-1);f=FLOOR(e);if(e===f&&f>=0&&(g=CPMaxRange(c),e=_ranges[f],k=CPMaxRange(e),g!==k))_count-=g-e.location,
f-=1,e.location=g,e.length=k-g;c=f-a+1;if(c>0){f=a;for(e=a+c-1;f<=e;++f)_count-=_ranges[f].length;objj_msgSend(_ranges,"removeObjectsInRange:",{location:a,length:c})}}}),new objj_method(sel_getUid("shiftIndexesStartingAtIndex:by:"),function(a,d,c,e){with(a){if(!_count||e==0)return;d=_ranges.length-1;for(var g=CPMakeRange(CPNotFound,0);d>=0;--d){var k=_ranges[d],o=CPMaxRange(k);if(c>=o)break;if(c>k.location){g=CPMakeRange(c+e,o-c);k.length=c-k.location;if(e>0)objj_msgSend(_ranges,"insertObject:atIndex:",
g,d+1);else if(g.location<0)g.length=CPMaxRange(g),g.location=0;break}if((k.location+=e)<0)_count-=k.length-CPMaxRange(k),k.length=CPMaxRange(k),k.location=0}if(e<0){c=d+1;e=_ranges.length;for(k=[];c<e;++c)objj_msgSend(k,"addObject:",_ranges[c]),_count-=_ranges[c].length;if((c=d+1)<e){objj_msgSend(_ranges,"removeObjectsInRange:",CPMakeRange(c,e-c));c=0;for(e=k.length;c<e;++c)objj_msgSend(a,"addIndexesInRange:",k[c])}g.location!=CPNotFound&&objj_msgSend(a,"addIndexesInRange:",g)}}})]);e=objj_getClass("CPIndexSet");
if(!e)throw new SyntaxError('*** Could not find definition for class "CPIndexSet"');c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("initWithCoder:"),function(a,d,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPIndexSet").super_class},"init")){_count=objj_msgSend(c,"decodeIntForKey:","CPIndexSetCountKey");_ranges=[];d=objj_msgSend(c,"decodeObjectForKey:","CPIndexSetRangeStringsKey");c=0;for(var e=d.length;c<e;++c)_ranges.push(CPRangeFromString(d[c]))}return a}}),
new objj_method(sel_getUid("encodeWithCoder:"),function(a,d,c){with(a){objj_msgSend(c,"encodeInt:forKey:",_count,"CPIndexSetCountKey");a=0;d=_ranges.length;for(var e=[];a<d;++a)e[a]=CPStringFromRange(_ranges[a]);objj_msgSend(c,"encodeObject:forKey:",e,"CPIndexSetRangeStringsKey")}})]);e=objj_getClass("CPIndexSet");if(!e)throw new SyntaxError('*** Could not find definition for class "CPIndexSet"');c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("copy"),function(a){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,
"class"),"alloc"),"initWithIndexSet:",a)}),new objj_method(sel_getUid("mutableCopy"),function(a){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,"class"),"alloc"),"initWithIndexSet:",a)})]);e=objj_allocateClassPair(CPIndexSet,"CPMutableIndexSet");c=e.isa;objj_registerClassPair(e);var a=function(a,d){for(var c=0,e=a.length-1;c<=e;){var g=FLOOR(c+(e-c)/2),k=a[g];if(d<k.location)e=g-1;else if(d>=CPMaxRange(k))c=g+1;else return g}return CPNotFound},d=function(a,d){var c=a.length;if(c<=0)return CPNotFound;
for(var e=0,g=c*2;e<=g;){var k=FLOOR(e+(g-e)/2),o=k/2,h=FLOOR(o);if(o===h)if(h-1>=0&&d<CPMaxRange(a[h-1]))g=k-1;else if(h<c&&d>=a[h].location)e=k+1;else return h-0.5;else if(o=a[h],d<o.location)g=k-1;else if(d>=CPMaxRange(o))e=k+1;else return h}return CPNotFound}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPArray+KVO.j",baseURL),function(h,g){g("CPArray.j",YES);g("CPNull.j",YES);var e=objj_getClass("CPObject");if(!e)throw new SyntaxError('*** Could not find definition for class "CPObject"');var c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("mutableArrayValueForKey:"),function(a,b,f){with(a)return objj_msgSend(objj_msgSend(_CPKVCArray,"alloc"),"initWithKey:forProxyObject:",f,a)}),new objj_method(sel_getUid("mutableArrayValueForKeyPath:"),
function(a,b,f){with(a){var c=f.indexOf(".");if(c<0)return objj_msgSend(a,"mutableArrayValueForKey:",f);b=f.substring(0,c);f=f.substring(c+1);return objj_msgSend(objj_msgSend(a,"valueForKeyPath:",b),"mutableArrayValueForKeyPath:",f)}})]);e=objj_allocateClassPair(CPMutableArray,"_CPKVCArray");c=e.isa;class_addIvars(e,[new objj_ivar("_proxyObject"),new objj_ivar("_key"),new objj_ivar("_insertSEL"),new objj_ivar("_insert"),new objj_ivar("_removeSEL"),new objj_ivar("_remove"),new objj_ivar("_replaceSEL"),
new objj_ivar("_replace"),new objj_ivar("_insertManySEL"),new objj_ivar("_insertMany"),new objj_ivar("_removeManySEL"),new objj_ivar("_removeMany"),new objj_ivar("_replaceManySEL"),new objj_ivar("_replaceMany"),new objj_ivar("_objectAtIndexSEL"),new objj_ivar("_objectAtIndex"),new objj_ivar("_objectsAtIndexesSEL"),new objj_ivar("_objectsAtIndexes"),new objj_ivar("_countSEL"),new objj_ivar("_count"),new objj_ivar("_accessSEL"),new objj_ivar("_access"),new objj_ivar("_setSEL"),new objj_ivar("_set")]);
objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithKey:forProxyObject:"),function(a,b,f,c){with(a)return a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPKVCArray").super_class},"init"),_key=f,_proxyObject=c,b=_key.charAt(0).toUpperCase()+_key.substring(1),_insertSEL=sel_getName("insertObject:in"+b+"AtIndex:"),objj_msgSend(_proxyObject,"respondsToSelector:",_insertSEL)&&(_insert=objj_msgSend(_proxyObject,"methodForSelector:",_insertSEL)),_removeSEL=sel_getName("removeObjectFrom"+
b+"AtIndex:"),objj_msgSend(_proxyObject,"respondsToSelector:",_removeSEL)&&(_remove=objj_msgSend(_proxyObject,"methodForSelector:",_removeSEL)),_replaceSEL=sel_getName("replaceObjectIn"+b+"AtIndex:withObject:"),objj_msgSend(_proxyObject,"respondsToSelector:",_replaceSEL)&&(_replace=objj_msgSend(_proxyObject,"methodForSelector:",_replaceSEL)),_insertManySEL=sel_getName("insert"+b+":atIndexes:"),objj_msgSend(_proxyObject,"respondsToSelector:",_insertManySEL)&&(_insertMany=objj_msgSend(_proxyObject,
"methodForSelector:",_insertManySEL)),_removeManySEL=sel_getName("remove"+b+"AtIndexes:"),objj_msgSend(_proxyObject,"respondsToSelector:",_removeManySEL)&&(_remove=objj_msgSend(_proxyObject,"methodForSelector:",_removeManySEL)),_replaceManySEL=sel_getName("replace"+b+"AtIndexes:with"+b+":"),objj_msgSend(_proxyObject,"respondsToSelector:",_replaceManySEL)&&(_replace=objj_msgSend(_proxyObject,"methodForSelector:",_replaceManySEL)),_objectAtIndexSEL=sel_getName("objectIn"+b+"AtIndex:"),objj_msgSend(_proxyObject,
"respondsToSelector:",_objectAtIndexSEL)&&(_objectAtIndex=objj_msgSend(_proxyObject,"methodForSelector:",_objectAtIndexSEL)),_objectsAtIndexesSEL=sel_getName(_key+"AtIndexes:"),objj_msgSend(_proxyObject,"respondsToSelector:",_objectsAtIndexesSEL)&&(_objectsAtIndexes=objj_msgSend(_proxyObject,"methodForSelector:",_objectsAtIndexesSEL)),_countSEL=sel_getName("countOf"+b),objj_msgSend(_proxyObject,"respondsToSelector:",_countSEL)&&(_count=objj_msgSend(_proxyObject,"methodForSelector:",_countSEL)),_accessSEL=
sel_getName(_key),objj_msgSend(_proxyObject,"respondsToSelector:",_accessSEL)&&(_access=objj_msgSend(_proxyObject,"methodForSelector:",_accessSEL)),_setSEL=sel_getName("set"+b+":"),objj_msgSend(_proxyObject,"respondsToSelector:",_setSEL)&&(_set=objj_msgSend(_proxyObject,"methodForSelector:",_setSEL)),a}),new objj_method(sel_getUid("copy"),function(a){with(a){for(var b=0,f=[],c=objj_msgSend(a,"count");b<c;b++)objj_msgSend(f,"addObject:",objj_msgSend(a,"objectAtIndex:",b));return f}}),new objj_method(sel_getUid("_representedObject"),
function(a){with(a){if(_access)return _access(_proxyObject,_accessSEL);return objj_msgSend(_proxyObject,"valueForKey:",_key)}}),new objj_method(sel_getUid("_setRepresentedObject:"),function(a,b,f){with(a){if(_set)return _set(_proxyObject,_setSEL,f);objj_msgSend(_proxyObject,"setValue:forKey:",f,_key)}}),new objj_method(sel_getUid("count"),function(a){with(a){if(_count)return _count(_proxyObject,_countSEL);return objj_msgSend(objj_msgSend(a,"_representedObject"),"count")}}),new objj_method(sel_getUid("indexOfObject:inRange:"),
function(a,b,f,c){with(a){b=c.location;c=c.length;for(var e=!!f.isa;b<c;++b){var g=objj_msgSend(a,"objectAtIndex:",b);if(f===g||e&&g.isa&&objj_msgSend(f,"isEqual:",g))return b}return CPNotFound}}),new objj_method(sel_getUid("indexOfObject:"),function(a,b,f){with(a)return objj_msgSend(a,"indexOfObject:inRange:",f,CPMakeRange(0,objj_msgSend(a,"count")))}),new objj_method(sel_getUid("indexOfObjectIdenticalTo:inRange:"),function(a,b,f,c){with(a){b=c.location;for(c=c.length;b<c;++b)if(f===objj_msgSend(a,
"objectAtIndex:",b))return b;return CPNotFound}}),new objj_method(sel_getUid("indexOfObjectIdenticalTo:"),function(a,b,f){with(a)return objj_msgSend(a,"indexOfObjectIdenticalTo:inRange:",f,CPMakeRange(0,objj_msgSend(a,"count")))}),new objj_method(sel_getUid("objectAtIndex:"),function(a,b,f){with(a){if(_objectAtIndex)return _objectAtIndex(_proxyObject,_objectAtIndexSEL,f);return objj_msgSend(objj_msgSend(a,"_representedObject"),"objectAtIndex:",f)}}),new objj_method(sel_getUid("addObject:"),function(a,
b,f){with(a)objj_msgSend(a,"insertObject:atIndex:",f,objj_msgSend(a,"count"))}),new objj_method(sel_getUid("addObjectsFromArray:"),function(a,b,f){with(a)b=objj_msgSend(f,"count"),objj_msgSend(a,"insertObjects:atIndexes:",f,objj_msgSend(CPIndexSet,"indexSetWithIndexesInRange:",CPMakeRange(objj_msgSend(a,"count"),b)))}),new objj_method(sel_getUid("insertObject:atIndex:"),function(a,b,f,c){with(a)objj_msgSend(a,"insertObjects:atIndexes:",[f],objj_msgSend(CPIndexSet,"indexSetWithIndex:",c))}),new objj_method(sel_getUid("insertObjects:atIndexes:"),
function(a,b,f,c){with(a)if(_insertMany)_insertMany(_proxyObject,_insertManySEL,f,c);else if(_insert){a=[];objj_msgSend(c,"getIndexes:maxCount:inIndexRange:",a,-1,nil);for(c=0;c<objj_msgSend(a,"count");c++){b=objj_msgSend(a,"objectAtIndex:",c);var e=objj_msgSend(f,"objectAtIndex:",c);_insert(_proxyObject,_insertSEL,e,b)}}else b=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),objj_msgSend(b,"insertObjects:atIndexes:",f,c),objj_msgSend(a,"_setRepresentedObject:",b)}),new objj_method(sel_getUid("removeObject:"),
function(a,b,f){with(a)objj_msgSend(a,"removeObject:inRange:",f,CPMakeRange(0,objj_msgSend(a,"count")))}),new objj_method(sel_getUid("removeLastObject"),function(a){with(a){if(_remove)return _remove(_proxyObject,_removeSEL,objj_msgSend(a,"count")-1);var b=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy");objj_msgSend(b,"removeLastObject");objj_msgSend(a,"_setRepresentedObject:",b)}}),new objj_method(sel_getUid("removeObjectAtIndex:"),function(a,b,f){with(a){if(_remove)return _remove(_proxyObject,
_removeSEL,f);b=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy");objj_msgSend(b,"removeObjectAtIndex:",f);objj_msgSend(a,"_setRepresentedObject:",b)}}),new objj_method(sel_getUid("replaceObjectAtIndex:withObject:"),function(a,b,f,c){with(a){if(_replace)return _replace(_proxyObject,_replaceSEL,f,c);b=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy");objj_msgSend(b,"replaceObjectAtIndex:withObject:",f,c);objj_msgSend(a,"_setRepresentedObject:",b)}})]);class_addMethods(c,[new objj_method(sel_getUid("alloc"),
function(a){with(a){var b=[];b.isa=a;a=class_copyIvarList(a);for(var f=a.length;f--;)b[ivar_getName(a[f])]=nil;return b}})]);e=objj_getClass("CPArray");if(!e)throw new SyntaxError('*** Could not find definition for class "CPArray"');c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("valueForKey:"),function(a,b,f){with(a)if(f.indexOf("@")===0){f.indexOf(".")!==-1&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"called valueForKey: on an array with a complex key ("+f+"). use valueForKeyPath:");
if(f=="@count")return length;return nil}else{b=[];a=objj_msgSend(a,"objectEnumerator");for(var c;(c=objj_msgSend(a,"nextObject"))!==nil;){c=objj_msgSend(c,"valueForKey:",f);if(c===nil||c===void 0)c=objj_msgSend(CPNull,"null");b.push(c)}return b}}),new objj_method(sel_getUid("valueForKeyPath:"),function(d,b,f){with(d)if(f.indexOf("@")===0){var c=f.indexOf("."),e,g;c!==-1?(e=f.substring(1,c),g=f.substring(c+1)):e=f.substring(1);if(a[e])return a[e](d,b,g);return nil}else{b=[];for(d=objj_msgSend(d,"objectEnumerator");(c=
objj_msgSend(d,"nextObject"))!==nil;){c=objj_msgSend(c,"valueForKeyPath:",f);if(c===nil||c===void 0)c=objj_msgSend(CPNull,"null");b.push(c)}return b}}),new objj_method(sel_getUid("setValue:forKey:"),function(a,b,f,c){with(a)for(a=objj_msgSend(a,"objectEnumerator");b=objj_msgSend(a,"nextObject");)objj_msgSend(b,"setValue:forKey:",f,c)}),new objj_method(sel_getUid("setValue:forKeyPath:"),function(a,b,f,c){with(a)for(a=objj_msgSend(a,"objectEnumerator");b=objj_msgSend(a,"nextObject");)objj_msgSend(b,
"setValue:forKeyPath:",f,c)})]);var a=[];a.avg=function(a,b,f){a=objj_msgSend(a,"valueForKeyPath:",f);f=b=objj_msgSend(a,"count");var c=0;if(!b)return 0;for(;f--;)c+=objj_msgSend(a[f],"doubleValue");return c/b};a.max=function(a,b,f){a=objj_msgSend(a,"valueForKeyPath:",f);b=objj_msgSend(a,"count")-1;for(f=objj_msgSend(a,"lastObject");b--;){var c=a[b];objj_msgSend(f,"compare:",c)<0&&(f=c)}return f};a.min=function(a,b,f){a=objj_msgSend(a,"valueForKeyPath:",f);b=objj_msgSend(a,"count")-1;for(f=objj_msgSend(a,
"lastObject");b--;){var c=a[b];objj_msgSend(f,"compare:",c)>0&&(f=c)}return f};a.count=function(a){return objj_msgSend(a,"count")};a.sum=function(a,b,f){a=objj_msgSend(a,"valueForKeyPath:",f);b=objj_msgSend(a,"count");for(f=0;b--;)f+=objj_msgSend(a[b],"doubleValue");return f};e=objj_getClass("CPArray");if(!e)throw new SyntaxError('*** Could not find definition for class "CPArray"');c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("addObserver:toObjectsAtIndexes:forKeyPath:options:context:"),
function(a,b,f,c,e,g,k){with(a)for(b=objj_msgSend(c,"firstIndex");b>=0;)objj_msgSend(a[b],"addObserver:forKeyPath:options:context:",f,e,g,k),b=objj_msgSend(c,"indexGreaterThanIndex:",b)}),new objj_method(sel_getUid("removeObserver:fromObjectsAtIndexes:forKeyPath:"),function(a,b,f,c,e){with(a)for(b=objj_msgSend(c,"firstIndex");b>=0;)objj_msgSend(a[b],"removeObserver:forKeyPath:",f,e),b=objj_msgSend(c,"indexGreaterThanIndex:",b)}),new objj_method(sel_getUid("addObserver:forKeyPath:options:context:"),
function(a,b,f,c,e,g){with(a)objj_msgSend(isa,"instanceMethodForSelector:",b)===objj_msgSend(CPArray,"instanceMethodForSelector:",b)?objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Unsupported method on CPArray"):objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPArray").super_class},"addObserver:forKeyPath:options:context:",f,c,e,g)}),new objj_method(sel_getUid("removeObserver:forKeyPath:"),function(a,b,f,c){with(a)objj_msgSend(isa,"instanceMethodForSelector:",b)===objj_msgSend(CPArray,
"instanceMethodForSelector:",b)?objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Unsupported method on CPArray"):objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPArray").super_class},"removeObserver:forKeyPath:",f,c)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPSliderColorPicker.j",baseURL),function(h,g){g("CPView.j",YES);g("CPColorPicker.j",YES);var e=objj_allocateClassPair(CPColorPicker,"CPSliderColorPicker");class_addIvars(e,[new objj_ivar("_contentView"),new objj_ivar("_redSlider"),new objj_ivar("_greenSlider"),new objj_ivar("_blueSlider"),new objj_ivar("_hueSlider"),new objj_ivar("_saturationSlider"),new objj_ivar("_brightnessSlider"),new objj_ivar("_rgbLabel"),new objj_ivar("_hsbLabel"),
new objj_ivar("_redLabel"),new objj_ivar("_greenLabel"),new objj_ivar("_blueLabel"),new objj_ivar("_hueLabel"),new objj_ivar("_saturationLabel"),new objj_ivar("_brightnessLabel"),new objj_ivar("_hexLabel"),new objj_ivar("_hexValue"),new objj_ivar("_hexValue"),new objj_ivar("_redValue"),new objj_ivar("_greenValue"),new objj_ivar("_blueValue"),new objj_ivar("_hueValue"),new objj_ivar("_saturationValue"),new objj_ivar("_brightnessValue")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithPickerMask:colorPanel:"),
function(c,a,d,b){with(c)return objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPSliderColorPicker").super_class},"initWithPickerMask:colorPanel:",d,b)}),new objj_method(sel_getUid("initView"),function(c){with(c)aFrame=CGRectMake(0,0,CPColorPickerViewWidth,CPColorPickerViewHeight),_contentView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",aFrame),objj_msgSend(_contentView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),_rgbLabel=objj_msgSend(objj_msgSend(CPTextField,
"alloc"),"initWithFrame:",CGRectMake(0,10,100,20)),objj_msgSend(_rgbLabel,"setStringValue:","Red, Green, Blue"),objj_msgSend(_rgbLabel,"setTextColor:",objj_msgSend(CPColor,"blackColor")),_redLabel=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(0,37,15,20)),objj_msgSend(_redLabel,"setStringValue:","R"),objj_msgSend(_redLabel,"setTextColor:",objj_msgSend(CPColor,"blackColor")),_redSlider=objj_msgSend(objj_msgSend(CPSlider,"alloc"),"initWithFrame:",CGRectMake(15,35,aFrame.size.width-
70,20)),objj_msgSend(_redSlider,"setMaxValue:",1),objj_msgSend(_redSlider,"setMinValue:",0),objj_msgSend(_redSlider,"setTarget:",c),objj_msgSend(_redSlider,"setAction:",sel_getUid("sliderChanged:")),objj_msgSend(_redSlider,"setAutoresizingMask:",CPViewWidthSizable),_redValue=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(aFrame.size.width-45,30,45,28)),objj_msgSend(_redValue,"setAutoresizingMask:",CPViewMinXMargin),objj_msgSend(_redValue,"setEditable:",YES),objj_msgSend(_redValue,
"setBezeled:",YES),objj_msgSend(_redValue,"setDelegate:",c),objj_msgSend(_contentView,"addSubview:",_redValue),_greenLabel=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(0,63,15,20)),objj_msgSend(_greenLabel,"setStringValue:","G"),objj_msgSend(_greenLabel,"setTextColor:",objj_msgSend(CPColor,"blackColor")),_greenSlider=objj_msgSend(objj_msgSend(CPSlider,"alloc"),"initWithFrame:",CGRectMake(15,61,aFrame.size.width-70,20)),objj_msgSend(_greenSlider,"setMaxValue:",1),objj_msgSend(_greenSlider,
"setMinValue:",0),objj_msgSend(_greenSlider,"setTarget:",c),objj_msgSend(_greenSlider,"setAction:",sel_getUid("sliderChanged:")),objj_msgSend(_greenSlider,"setAutoresizingMask:",CPViewWidthSizable),_greenValue=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(aFrame.size.width-45,56,45,28)),objj_msgSend(_greenValue,"setAutoresizingMask:",CPViewMinXMargin),objj_msgSend(_greenValue,"setEditable:",YES),objj_msgSend(_greenValue,"setBezeled:",YES),objj_msgSend(_greenValue,"setDelegate:",
c),objj_msgSend(_contentView,"addSubview:",_greenValue),_blueLabel=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(0,90,15,20)),objj_msgSend(_blueLabel,"setStringValue:","B"),objj_msgSend(_blueLabel,"setTextColor:",objj_msgSend(CPColor,"blackColor")),_blueSlider=objj_msgSend(objj_msgSend(CPSlider,"alloc"),"initWithFrame:",CGRectMake(15,87,aFrame.size.width-70,20)),objj_msgSend(_blueSlider,"setMaxValue:",1),objj_msgSend(_blueSlider,"setMinValue:",0),objj_msgSend(_blueSlider,
"setTarget:",c),objj_msgSend(_blueSlider,"setAction:",sel_getUid("sliderChanged:")),objj_msgSend(_blueSlider,"setAutoresizingMask:",CPViewWidthSizable),_blueValue=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(aFrame.size.width-45,82,45,28)),objj_msgSend(_blueValue,"setAutoresizingMask:",CPViewMinXMargin),objj_msgSend(_blueValue,"setEditable:",YES),objj_msgSend(_blueValue,"setBezeled:",YES),objj_msgSend(_blueValue,"setDelegate:",c),objj_msgSend(_contentView,"addSubview:",
_blueValue),_hsbLabel=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(0,120,190,20)),objj_msgSend(_hsbLabel,"setStringValue:","Hue, Saturation, Brightness"),objj_msgSend(_hsbLabel,"setTextColor:",objj_msgSend(CPColor,"blackColor")),_hueLabel=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(0,145,15,20)),objj_msgSend(_hueLabel,"setStringValue:","H"),objj_msgSend(_hueLabel,"setTextColor:",objj_msgSend(CPColor,"blackColor")),_hueSlider=objj_msgSend(objj_msgSend(CPSlider,
"alloc"),"initWithFrame:",CGRectMake(15,143,aFrame.size.width-70,20)),objj_msgSend(_hueSlider,"setMaxValue:",359),objj_msgSend(_hueSlider,"setMinValue:",0),objj_msgSend(_hueSlider,"setTarget:",c),objj_msgSend(_hueSlider,"setAction:",sel_getUid("sliderChanged:")),objj_msgSend(_hueSlider,"setAutoresizingMask:",CPViewWidthSizable),_hueValue=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(aFrame.size.width-45,138,45,28)),objj_msgSend(_hueValue,"setAutoresizingMask:",CPViewMinXMargin),
objj_msgSend(_hueValue,"setEditable:",YES),objj_msgSend(_hueValue,"setBezeled:",YES),objj_msgSend(_hueValue,"setDelegate:",c),objj_msgSend(_contentView,"addSubview:",_hueValue),_saturationLabel=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(0,170,15,20)),objj_msgSend(_saturationLabel,"setStringValue:","S"),objj_msgSend(_saturationLabel,"setTextColor:",objj_msgSend(CPColor,"blackColor")),_saturationSlider=objj_msgSend(objj_msgSend(CPSlider,"alloc"),"initWithFrame:",CGRectMake(15,
168,aFrame.size.width-70,20)),objj_msgSend(_saturationSlider,"setMaxValue:",100),objj_msgSend(_saturationSlider,"setMinValue:",0),objj_msgSend(_saturationSlider,"setTarget:",c),objj_msgSend(_saturationSlider,"setAction:",sel_getUid("sliderChanged:")),objj_msgSend(_saturationSlider,"setAutoresizingMask:",CPViewWidthSizable),_saturationValue=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(aFrame.size.width-45,164,45,28)),objj_msgSend(_saturationValue,"setAutoresizingMask:",
CPViewMinXMargin),objj_msgSend(_saturationValue,"setEditable:",YES),objj_msgSend(_saturationValue,"setBezeled:",YES),objj_msgSend(_saturationValue,"setDelegate:",c),objj_msgSend(_contentView,"addSubview:",_saturationValue),_brightnessLabel=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(0,196,15,20)),objj_msgSend(_brightnessLabel,"setStringValue:","B"),objj_msgSend(_brightnessLabel,"setTextColor:",objj_msgSend(CPColor,"blackColor")),_brightnessSlider=objj_msgSend(objj_msgSend(CPSlider,
"alloc"),"initWithFrame:",CGRectMake(15,194,aFrame.size.width-70,20)),objj_msgSend(_brightnessSlider,"setMaxValue:",100),objj_msgSend(_brightnessSlider,"setMinValue:",0),objj_msgSend(_brightnessSlider,"setTarget:",c),objj_msgSend(_brightnessSlider,"setAction:",sel_getUid("sliderChanged:")),objj_msgSend(_brightnessSlider,"setAutoresizingMask:",CPViewWidthSizable),_brightnessValue=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(aFrame.size.width-45,190,45,28)),objj_msgSend(_brightnessValue,
"setAutoresizingMask:",CPViewMinXMargin),objj_msgSend(_brightnessValue,"setEditable:",YES),objj_msgSend(_brightnessValue,"setBezeled:",YES),objj_msgSend(_brightnessValue,"setDelegate:",c),objj_msgSend(_contentView,"addSubview:",_brightnessValue),_hexLabel=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(0,230,30,20)),objj_msgSend(_hexLabel,"setStringValue:","Hex"),objj_msgSend(_hexLabel,"setTextColor:",objj_msgSend(CPColor,"blackColor")),_hexValue=objj_msgSend(objj_msgSend(CPTextField,
"alloc"),"initWithFrame:",CGRectMake(32,225,80,28)),objj_msgSend(_hexValue,"setEditable:",YES),objj_msgSend(_hexValue,"setBezeled:",YES),objj_msgSend(_hexValue,"setDelegate:",c),objj_msgSend(_contentView,"addSubview:",_hexValue),objj_msgSend(_contentView,"addSubview:",_rgbLabel),objj_msgSend(_contentView,"addSubview:",_redLabel),objj_msgSend(_contentView,"addSubview:",_greenLabel),objj_msgSend(_contentView,"addSubview:",_blueLabel),objj_msgSend(_contentView,"addSubview:",_redSlider),objj_msgSend(_contentView,
"addSubview:",_greenSlider),objj_msgSend(_contentView,"addSubview:",_blueSlider),objj_msgSend(_contentView,"addSubview:",_hsbLabel),objj_msgSend(_contentView,"addSubview:",_hueLabel),objj_msgSend(_contentView,"addSubview:",_saturationLabel),objj_msgSend(_contentView,"addSubview:",_brightnessLabel),objj_msgSend(_contentView,"addSubview:",_hueSlider),objj_msgSend(_contentView,"addSubview:",_saturationSlider),objj_msgSend(_contentView,"addSubview:",_brightnessSlider),objj_msgSend(_contentView,"addSubview:",
_hexLabel)}),new objj_method(sel_getUid("provideNewView:"),function(c,a,d){with(c)return d&&objj_msgSend(c,"initView"),_contentView}),new objj_method(sel_getUid("currentMode"),function(c){with(c)return CPSliderColorPickerMode}),new objj_method(sel_getUid("supportsMode:"),function(c,a,d){with(c)return d==CPSliderColorPickerMode?YES:NO}),new objj_method(sel_getUid("sliderChanged:"),function(c,a,d){with(c){var b;a=objj_msgSend(c,"colorPanel");var f=objj_msgSend(a,"opacity");switch(d){case _hueSlider:case _saturationSlider:case _brightnessSlider:b=
objj_msgSend(CPColor,"colorWithHue:saturation:brightness:alpha:",objj_msgSend(_hueSlider,"floatValue"),objj_msgSend(_saturationSlider,"floatValue"),objj_msgSend(_brightnessSlider,"floatValue"),f);objj_msgSend(c,"updateRGBSliders:",b);break;case _redSlider:case _greenSlider:case _blueSlider:b=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",objj_msgSend(_redSlider,"floatValue"),objj_msgSend(_greenSlider,"floatValue"),objj_msgSend(_blueSlider,"floatValue"),f),objj_msgSend(c,"updateHSBSliders:",
b)}objj_msgSend(c,"updateLabels");objj_msgSend(c,"updateHex:",b);objj_msgSend(a,"setColor:",b)}}),new objj_method(sel_getUid("setColor:"),function(c,a,d){with(c)objj_msgSend(c,"updateRGBSliders:",d),objj_msgSend(c,"updateHSBSliders:",d),objj_msgSend(c,"updateHex:",d),objj_msgSend(c,"updateLabels")}),new objj_method(sel_getUid("updateHSBSliders:"),function(c,a,d){with(c)c=objj_msgSend(d,"hsbComponents"),objj_msgSend(_hueSlider,"setFloatValue:",c[0]),objj_msgSend(_saturationSlider,"setFloatValue:",
c[1]),objj_msgSend(_brightnessSlider,"setFloatValue:",c[2])}),new objj_method(sel_getUid("updateHex:"),function(c,a,d){with(c)objj_msgSend(_hexValue,"setStringValue:",objj_msgSend(d,"hexString"))}),new objj_method(sel_getUid("updateRGBSliders:"),function(c,a,d){with(c)c=objj_msgSend(d,"components"),objj_msgSend(_redSlider,"setFloatValue:",c[0]),objj_msgSend(_greenSlider,"setFloatValue:",c[1]),objj_msgSend(_blueSlider,"setFloatValue:",c[2])}),new objj_method(sel_getUid("updateLabels"),function(c){with(c)objj_msgSend(_hueValue,
"setStringValue:",ROUND(objj_msgSend(_hueSlider,"floatValue"))),objj_msgSend(_saturationValue,"setStringValue:",ROUND(objj_msgSend(_saturationSlider,"floatValue"))),objj_msgSend(_brightnessValue,"setStringValue:",ROUND(objj_msgSend(_brightnessSlider,"floatValue"))),objj_msgSend(_redValue,"setStringValue:",ROUND(objj_msgSend(_redSlider,"floatValue")*255)),objj_msgSend(_greenValue,"setStringValue:",ROUND(objj_msgSend(_greenSlider,"floatValue")*255)),objj_msgSend(_blueValue,"setStringValue:",ROUND(objj_msgSend(_blueSlider,
"floatValue")*255))}),new objj_method(sel_getUid("provideNewButtonImage"),function(c){with(c)return objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",CPColorPicker),"pathForResource:","slider_button.png"),CGSizeMake(32,32))}),new objj_method(sel_getUid("provideNewAlternateButtonImage"),function(c){with(c)return objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",
CPColorPicker),"pathForResource:","slider_button_h.png"),CGSizeMake(32,32))}),new objj_method(sel_getUid("controlTextDidEndEditing:"),function(c,a,d){with(c)if(a=objj_msgSend(d,"object"),d=objj_msgSend(objj_msgSend(a,"stringValue"),"stringByTrimmingWhitespace"),a===_hexValue){if(a=objj_msgSend(CPColor,"colorWithHexString:",d))objj_msgSend(c,"setColor:",a),objj_msgSend(objj_msgSend(c,"colorPanel"),"setColor:",a)}else switch(a){case _redValue:objj_msgSend(_redSlider,"setFloatValue:",MAX(MIN(ROUND(d),
255)/255,0));objj_msgSend(c,"sliderChanged:",_redSlider);break;case _greenValue:objj_msgSend(_greenSlider,"setFloatValue:",MAX(MIN(ROUND(d),255)/255,0));objj_msgSend(c,"sliderChanged:",_greenSlider);break;case _blueValue:objj_msgSend(_blueSlider,"setFloatValue:",MAX(MIN(ROUND(d),255)/255,0));objj_msgSend(c,"sliderChanged:",_blueSlider);break;case _hueValue:objj_msgSend(_hueSlider,"setFloatValue:",MAX(MIN(ROUND(d),360),0));objj_msgSend(c,"sliderChanged:",_hueSlider);break;case _saturationValue:objj_msgSend(_saturationSlider,
"setFloatValue:",MAX(MIN(ROUND(d),100),0));objj_msgSend(c,"sliderChanged:",_saturationSlider);break;case _brightnessValue:objj_msgSend(_brightnessSlider,"setFloatValue:",MAX(MIN(ROUND(d),100),0)),objj_msgSend(c,"sliderChanged:",_brightnessSlider)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPEvent.j",baseURL),function(h,g){g("Foundation/CPObject.j",NO);g("CPText.j",YES);CPLeftMouseDown=1;CPLeftMouseUp=2;CPRightMouseDown=3;CPRightMouseUp=4;CPMouseMoved=5;CPLeftMouseDragged=6;CPRightMouseDragged=7;CPMouseEntered=8;CPMouseExited=9;CPKeyDown=10;CPKeyUp=11;CPFlagsChanged=12;CPAppKitDefined=13;CPSystemDefined=14;CPApplicationDefined=15;CPPeriodic=16;CPCursorUpdate=17;CPScrollWheel=22;CPOtherMouseDown=25;CPOtherMouseUp=
26;CPOtherMouseDragged=27;CPTouchStart=28;CPTouchMove=29;CPTouchEnd=30;CPTouchCancel=31;CPAlphaShiftKeyMask=65536;CPShiftKeyMask=131072;CPControlKeyMask=262144;CPAlternateKeyMask=524288;CPCommandKeyMask=1048576;CPNumericPadKeyMask=2097152;CPHelpKeyMask=4194304;CPFunctionKeyMask=8388608;CPDeviceIndependentModifierFlagsMask=4294901760;CPLeftMouseDownMask=1<<CPLeftMouseDown;CPLeftMouseUpMask=1<<CPLeftMouseUp;CPRightMouseDownMask=1<<CPRightMouseDown;CPRightMouseUpMask=1<<CPRightMouseUp;CPOtherMouseDownMask=
1<<CPOtherMouseDown;CPOtherMouseUpMask=1<<CPOtherMouseUp;CPMouseMovedMask=1<<CPMouseMoved;CPLeftMouseDraggedMask=1<<CPLeftMouseDragged;CPRightMouseDraggedMask=1<<CPRightMouseDragged;CPOtherMouseDragged=1<<CPOtherMouseDragged;CPMouseEnteredMask=1<<CPMouseEntered;CPMouseExitedMask=1<<CPMouseExited;CPCursorUpdateMask=1<<CPCursorUpdate;CPKeyDownMask=1<<CPKeyDown;CPKeyUpMask=1<<CPKeyUp;CPFlagsChangedMask=1<<CPFlagsChanged;CPAppKitDefinedMask=1<<CPAppKitDefined;CPSystemDefinedMask=1<<CPSystemDefined;CPApplicationDefinedMask=
1<<CPApplicationDefined;CPPeriodicMask=1<<CPPeriodic;CPScrollWheelMask=1<<CPScrollWheel;CPAnyEventMask=4294967295;CPUpArrowFunctionKey="";CPDownArrowFunctionKey="";CPLeftArrowFunctionKey="";CPRightArrowFunctionKey="";CPF1FunctionKey="";CPF2FunctionKey="";CPF3FunctionKey="";CPF4FunctionKey="";CPF5FunctionKey="";CPF6FunctionKey="";CPF7FunctionKey="";CPF8FunctionKey="";CPF9FunctionKey="";CPF10FunctionKey="";CPF11FunctionKey="";CPF12FunctionKey="";CPF13FunctionKey="";CPF14FunctionKey=
"";CPF15FunctionKey="";CPF16FunctionKey="";CPF17FunctionKey="";CPF18FunctionKey="";CPF19FunctionKey="";CPF20FunctionKey="";CPF21FunctionKey="";CPF22FunctionKey="";CPF23FunctionKey="";CPF24FunctionKey="";CPF25FunctionKey="";CPF26FunctionKey="";CPF27FunctionKey="";CPF28FunctionKey="";CPF29FunctionKey="";CPF30FunctionKey="";CPF31FunctionKey="";CPF32FunctionKey="";CPF33FunctionKey="";CPF34FunctionKey="";CPF35FunctionKey="";CPInsertFunctionKey="";CPDeleteFunctionKey="";CPHomeFunctionKey=
"";CPBeginFunctionKey="";CPEndFunctionKey="";CPPageUpFunctionKey="";CPPageDownFunctionKey="";CPPrintScreenFunctionKey="";CPScrollLockFunctionKey="";CPPauseFunctionKey="";CPSysReqFunctionKey="";CPBreakFunctionKey="";CPResetFunctionKey="";CPStopFunctionKey="";CPMenuFunctionKey="";CPUserFunctionKey="";CPSystemFunctionKey="";CPPrintFunctionKey="";CPClearLineFunctionKey="";CPClearDisplayFunctionKey="";CPInsertLineFunctionKey="";CPDeleteLineFunctionKey="";CPInsertCharFunctionKey="";
CPDeleteCharFunctionKey="";CPPrevFunctionKey="";CPNextFunctionKey="";CPSelectFunctionKey="";CPExecuteFunctionKey="";CPUndoFunctionKey="";CPRedoFunctionKey="";CPFindFunctionKey="";CPHelpFunctionKey="";CPModeSwitchFunctionKey="";CPEscapeFunctionKey="";CPSpaceFunctionKey=" ";CPDOMEventDoubleClick="dblclick";CPDOMEventMouseDown="mousedown";CPDOMEventMouseUp="mouseup";CPDOMEventMouseMoved="mousemove";CPDOMEventMouseDragged="mousedrag";CPDOMEventKeyUp="keyup";CPDOMEventKeyDown="keydown";CPDOMEventKeyPress=
"keypress";CPDOMEventCopy="copy";CPDOMEventPaste="paste";CPDOMEventScrollWheel="mousewheel";CPDOMEventTouchStart="touchstart";CPDOMEventTouchMove="touchmove";CPDOMEventTouchEnd="touchend";CPDOMEventTouchCancel="touchcancel";var e=nil,c=/[A-Z]/,a=objj_allocateClassPair(CPObject,"CPEvent"),d=a.isa;class_addIvars(a,[new objj_ivar("_type"),new objj_ivar("_location"),new objj_ivar("_modifierFlags"),new objj_ivar("_timestamp"),new objj_ivar("_context"),new objj_ivar("_eventNumber"),new objj_ivar("_clickCount"),
new objj_ivar("_pressure"),new objj_ivar("_window"),new objj_ivar("_windowNumber"),new objj_ivar("_characters"),new objj_ivar("_isARepeat"),new objj_ivar("_keyCode"),new objj_ivar("_DOMEvent"),new objj_ivar("_deltaX"),new objj_ivar("_deltaY"),new objj_ivar("_deltaZ")]);objj_registerClassPair(a);class_addMethods(a,[new objj_method(sel_getUid("_initWithType:"),function(a,b,d){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPEvent").super_class},"init"))_type=d,_deltaZ=_deltaY=
_deltaX=0;return a}}),new objj_method(sel_getUid("_initMouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:"),function(a,b,d,c,e,g,h,p,n,s,u){with(a){if(a=objj_msgSend(a,"_initWithType:",d))_location=CPPointCreateCopy(c),_modifierFlags=e,_timestamp=g,_context=p,_eventNumber=n,_clickCount=s,_pressure=u,_window=objj_msgSend(CPApp,"windowWithWindowNumber:",h);return a}}),new objj_method(sel_getUid("_initKeyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:"),
function(a,b,d,c,e,g,h,p,n,s,u,z){with(a){if(a=objj_msgSend(a,"_initWithType:",d))_location=CPPointCreateCopy(c),_modifierFlags=e,_timestamp=g,_context=p,_characters=n,_charactersIgnoringModifiers=s,_isARepeat=u,_keyCode=z,_windowNumber=h;return a}}),new objj_method(sel_getUid("_initOtherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:"),function(a,b,d,c,e,g,h,p,n,s,u){with(a){if(a=objj_msgSend(a,"_initWithType:",d))_location=CPPointCreateCopy(c),_modifierFlags=
e,_timestamp=g,_context=p,_subtype=n,_data1=s,_data2=u;return a}}),new objj_method(sel_getUid("locationInWindow"),function(a){with(a)return{x:_location.x,y:_location.y}}),new objj_method(sel_getUid("globalLocation"),function(a){with(a){var b=objj_msgSend(a,"window");a=objj_msgSend(a,"locationInWindow");if(b)return objj_msgSend(b,"convertBaseToGlobal:",a);return a}}),new objj_method(sel_getUid("modifierFlags"),function(a){with(a)return _modifierFlags}),new objj_method(sel_getUid("timestamp"),function(a){with(a)return _timestamp}),
new objj_method(sel_getUid("type"),function(a){with(a)return _type}),new objj_method(sel_getUid("window"),function(a){with(a)return _window||(_window=objj_msgSend(CPApp,"windowWithWindowNumber:",_windowNumber)),_window}),new objj_method(sel_getUid("windowNumber"),function(a){with(a)return _windowNumber}),new objj_method(sel_getUid("buttonNumber"),function(a){with(a){if(_type===CPRightMouseDown||_type===CPRightMouseUp||_type===CPRightMouseDragged)return 1;return 0}}),new objj_method(sel_getUid("clickCount"),
function(a){with(a)return _clickCount}),new objj_method(sel_getUid("characters"),function(a){with(a)return _characters}),new objj_method(sel_getUid("charactersIgnoringModifiers"),function(a){with(a)return _charactersIgnoringModifiers}),new objj_method(sel_getUid("isARepeat"),function(a){with(a)return _isARepeat}),new objj_method(sel_getUid("keyCode"),function(a){with(a)return _keyCode}),new objj_method(sel_getUid("pressure"),function(a){with(a)return _pressure}),new objj_method(sel_getUid("_DOMEvent"),
function(a){with(a)return _DOMEvent}),new objj_method(sel_getUid("deltaX"),function(a){with(a)return _deltaX}),new objj_method(sel_getUid("deltaY"),function(a){with(a)return _deltaY}),new objj_method(sel_getUid("deltaZ"),function(a){with(a)return _deltaZ}),new objj_method(sel_getUid("_triggersKeyEquivalent:withModifierMask:"),function(a,b,d,e){with(a){if(!d)return NO;c.test(d)&&(e|=CPShiftKeyMask);!CPBrowserIsOperatingSystem(CPMacOperatingSystem)&&e&CPCommandKeyMask&&(e|=CPControlKeyMask,e&=~CPCommandKeyMask);
if((_modifierFlags&(CPShiftKeyMask|CPAlternateKeyMask|CPCommandKeyMask|CPControlKeyMask))!==e)return NO;if(_characters===CPNewlineCharacter||_characters===CPCarriageReturnCharacter)return CPNewlineCharacter===d||CPCarriageReturnCharacter===d;return objj_msgSend(_characters,"caseInsensitiveCompare:",d)===CPOrderedSame}}),new objj_method(sel_getUid("_couldBeKeyEquivalent"),function(a){with(a){if(_type!==CPKeyDown)return NO;a=_characters.length;if(!a)return NO;if(_modifierFlags&(CPCommandKeyMask|CPControlKeyMask))return YES;
for(var b=0;b<a;b++)switch(_characters.charAt(b)){case CPBackspaceCharacter:case CPDeleteCharacter:case CPDeleteFunctionKey:case CPTabCharacter:case CPCarriageReturnCharacter:case CPNewlineCharacter:case CPSpaceFunctionKey:case CPEscapeFunctionKey:case CPPageUpFunctionKey:case CPPageDownFunctionKey:case CPLeftArrowFunctionKey:case CPUpArrowFunctionKey:case CPRightArrowFunctionKey:case CPDownArrowFunctionKey:case CPEndFunctionKey:case CPHomeFunctionKey:return YES}return NO}})]);class_addMethods(d,
[new objj_method(sel_getUid("keyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:"),function(a,b,d,c,e,g,h,p,n,s,u,z){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"_initKeyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:",d,c,e,g,h,p,n,s,u,z)}),new objj_method(sel_getUid("mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:"),
function(a,b,d,c,e,g,h,p,n,s,u){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"_initMouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",d,c,e,g,h,p,n,s,u)}),new objj_method(sel_getUid("otherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:"),function(a,b,d,c,e,g,h,p,n,s,u){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"_initOtherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:",
d,c,e,g,h,p,n,s,u)}),new objj_method(sel_getUid("mouseLocation"),function(a){with(a){a=objj_msgSend(CPApp,"currentEvent");var b=objj_msgSend(a,"window");if(b)return objj_msgSend(b,"convertBaseToGlobal:",objj_msgSend(a,"locationInWindow"));return objj_msgSend(a,"locationInWindow")}}),new objj_method(sel_getUid("startPeriodicEventsAfterDelay:withPeriod:"),function(a,b,d,c){with(a)e=window.setTimeout(function(){e=window.setInterval(_CPEventFirePeriodEvent,c*1E3)},d*1E3)}),new objj_method(sel_getUid("stopPeriodicEvents"),
function(a){with(a){if(e===nil)return;window.clearTimeout(e);e=nil}})]);_CPEventFirePeriodEvent=function(){objj_msgSend(CPApp,"sendEvent:",objj_msgSend(CPEvent,"otherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:",CPPeriodic,{x:0,y:0},0,0,0,nil,0,0,0))};var b=objj_msgSend(CPEvent,"class");_CPEventFromNativeMouseEvent=function(a,d,c,e,g,h,r,p,n,s){a.isa=b;a._type=d;a._location=c;a._modifierFlags=e;a._timestamp=g;a._windowNumber=h;a._window=nil;a._context=r;
a._eventNumber=p;a._clickCount=n;a._pressure=s;return a}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPImageView.j",baseURL),function(h,g){g("Foundation/CPNotificationCenter.j",NO);g("CPControl.j",YES);g("CPImage.j",YES);g("CPShadowView.j",YES);CPScaleProportionally=0;CPScaleToFit=1;CPScaleNone=2;CPImageAlignCenter=0;CPImageAlignTop=1;CPImageAlignTopLeft=2;CPImageAlignTopRight=3;CPImageAlignLeft=4;CPImageAlignBottom=5;CPImageAlignBottomLeft=6;CPImageAlignBottomRight=7;CPImageAlignRight=8;var e=nil,c=objj_allocateClassPair(CPControl,
"CPImageView"),a=c.isa;class_addIvars(c,[new objj_ivar("_DOMImageElement"),new objj_ivar("_hasShadow"),new objj_ivar("_shadowView"),new objj_ivar("_isEditable"),new objj_ivar("_imageRect"),new objj_ivar("_imageAlignment")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("initWithFrame:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPImageView").super_class},"initWithFrame:",c))_DOMImageElement=document.createElement("img"),_DOMImageElement.style.position=
"absolute",_DOMImageElement.style.left="0px",_DOMImageElement.style.top="0px",objj_msgSend(CPPlatform,"supportsDragAndDrop")&&(_DOMImageElement.setAttribute("draggable","true"),_DOMImageElement.style["-khtml-user-drag"]="element"),_DOMElement.appendChild(_DOMImageElement),_DOMImageElement.style.visibility="hidden";return a}}),new objj_method(sel_getUid("image"),function(a){with(a)return objj_msgSend(a,"objectValue")}),new objj_method(sel_getUid("setImage:"),function(a,b,c){with(a)objj_msgSend(a,"setObjectValue:",
c)}),new objj_method(sel_getUid("setObjectValue:"),function(a,b,c){with(a){b=objj_msgSend(a,"objectValue");if(b===c)return;objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPImageView").super_class},"setObjectValue:",c);c=objj_msgSend(CPNotificationCenter,"defaultCenter");b&&objj_msgSend(c,"removeObserver:name:object:",a,CPImageDidLoadNotification,b);b=objj_msgSend(a,"objectValue");_DOMImageElement.src=b?objj_msgSend(b,"filename"):objj_msgSend(e,"filename");var g=objj_msgSend(b,"size");g&&
g.width===-1&&g.height===-1?(objj_msgSend(c,"addObserver:selector:name:object:",a,sel_getUid("imageDidLoad:"),CPImageDidLoadNotification,b),_DOMImageElement.width=0,_DOMImageElement.height=0,objj_msgSend(_shadowView,"setHidden:",YES)):(objj_msgSend(a,"hideOrDisplayContents"),objj_msgSend(a,"setNeedsLayout"),objj_msgSend(a,"setNeedsDisplay:",YES))}}),new objj_method(sel_getUid("imageDidLoad:"),function(a){with(a)objj_msgSend(a,"hideOrDisplayContents"),objj_msgSend(a,"setNeedsLayout"),objj_msgSend(a,
"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("hasShadow"),function(a){with(a)return _hasShadow}),new objj_method(sel_getUid("setHasShadow:"),function(a,b,c){with(a){if(_hasShadow==c)return;(_hasShadow=c)?(_shadowView=objj_msgSend(objj_msgSend(CPShadowView,"alloc"),"initWithFrame:",objj_msgSend(a,"bounds")),objj_msgSend(a,"addSubview:",_shadowView),objj_msgSend(a,"setNeedsLayout"),objj_msgSend(a,"setNeedsDisplay:",YES)):(objj_msgSend(_shadowView,"removeFromSuperview"),_shadowView=nil);objj_msgSend(a,
"hideOrDisplayContents")}}),new objj_method(sel_getUid("setImageAlignment:"),function(a,b,c){with(a){if(_imageAlignment==c)return;_imageAlignment=c;if(!objj_msgSend(a,"image"))return;objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("imageAlignment"),function(a){with(a)return _imageAlignment}),new objj_method(sel_getUid("setImageScaling:"),function(a,b,c){with(a){objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPImageView").super_class},
"setImageScaling:",c);if(objj_msgSend(a,"currentValueForThemeAttribute:","image-scaling")===CPScaleToFit)b=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageElement.style.left=ROUND(b.x)+"px",_DOMImageElement.style.top=ROUND(b.y)+"px";objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("imageScaling"),function(a){with(a)return objj_msgSend(a,"currentValueForThemeAttribute:",
"image-scaling")}),new objj_method(sel_getUid("hideOrDisplayContents"),function(a){with(a)objj_msgSend(a,"image")?(_DOMImageElement.style.visibility="visible",objj_msgSend(_shadowView,"setHidden:",NO)):(_DOMImageElement.style.visibility="hidden",objj_msgSend(_shadowView,"setHidden:",YES))}),new objj_method(sel_getUid("imageRect"),function(a){with(a)return _imageRect}),new objj_method(sel_getUid("layoutSubviews"),function(a){with(a){if(!objj_msgSend(a,"image"))return;var b=objj_msgSend(a,"bounds"),
c=objj_msgSend(a,"image"),e=objj_msgSend(a,"currentValueForThemeAttribute:","image-scaling"),g=0,j=0;a=_hasShadow?6:0;var k=_hasShadow?8:0,h=b.size.width,r=b.size.height;b=h-a;var p=r-k;if(e===CPScaleToFit)_DOMImageElement.width=ROUND(b),_DOMImageElement.height=ROUND(p);else{c=objj_msgSend(c,"size");if(c.width==-1&&c.height==-1)return;e===CPScaleProportionally?(b>=c.width&&p>=c.height?(b=c.width,p=c.height):(g=c.width/c.height,b/p>g?b=p*g:p=b/g),_DOMImageElement.width=ROUND(b),_DOMImageElement.height=
ROUND(p)):(b=c.width,p=c.height);if(e==CPScaleNone)_DOMImageElement.width=ROUND(c.width),_DOMImageElement.height=ROUND(c.height);switch(_imageAlignment){case CPImageAlignLeft:case CPImageAlignTopLeft:case CPImageAlignBottomLeft:g=0;break;case CPImageAlignRight:case CPImageAlignTopRight:case CPImageAlignBottomRight:g=h-b;break;default:g=(h-b)/2}switch(_imageAlignment){case CPImageAlignTop:case CPImageAlignTopLeft:case CPImageAlignTopRight:j=0;break;case CPImageAlignBottom:case CPImageAlignBottomLeft:case CPImageAlignBottomRight:j=
r-p;break;default:j=(r-p)/2}e=NULL?{x:CGPointMake(g,j).x*NULL.a+CGPointMake(g,j).y*NULL.c+NULL.tx,y:CGPointMake(g,j).x*NULL.b+CGPointMake(g,j).y*NULL.d+NULL.ty}:{x:g,y:j};_DOMImageElement.style.left=ROUND(e.x)+"px";_DOMImageElement.style.top=ROUND(e.y)+"px"}_imageRect={origin:{x:g,y:j},size:{width:b,height:p}};_hasShadow&&objj_msgSend(_shadowView,"setFrame:",{origin:{x:g-3,y:j-3},size:{width:b+a,height:p+k}})}}),new objj_method(sel_getUid("mouseDown:"),function(a,b,c){with(a)objj_msgSend(objj_msgSend(a,
"nextResponder"),"mouseDown:",c)}),new objj_method(sel_getUid("setEditable:"),function(a,b,c){with(a){if(_isEditable===c)return;(_isEditable=c)?objj_msgSend(a,"registerForDraggedTypes:",[CPImagesPboardType]):(b=objj_msgSend(a,"registeredDraggedTypes"),objj_msgSend(a,"unregisterDraggedTypes"),objj_msgSend(b,"removeObjectIdenticalTo:",CPImagesPboardType),objj_msgSend(a,"registerForDraggedTypes:",b))}}),new objj_method(sel_getUid("isEditable"),function(a){with(a)return _isEditable}),new objj_method(sel_getUid("performDragOperation:"),
function(a,b,c){with(a)return b=objj_msgSend(CPKeyedUnarchiver,"unarchiveObjectWithData:",objj_msgSend(objj_msgSend(c,"draggingPasteboard"),"dataForType:",CPImagesPboardType)),objj_msgSend(b,"count")&&(objj_msgSend(a,"setImage:",b[0]),objj_msgSend(a,"sendAction:to:",objj_msgSend(a,"action"),objj_msgSend(a,"target"))),YES})]);class_addMethods(a,[new objj_method(sel_getUid("initialize"),function(a){with(a)a=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPView,"class")),e=objj_msgSend(objj_msgSend(CPImage,
"alloc"),"initWithContentsOfFile:",objj_msgSend(a,"pathForResource:","empty.png"))})]);c=objj_getClass("CPImageView");if(!c)throw new SyntaxError('*** Could not find definition for class "CPImageView"');a=c.isa;class_addMethods(c,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,c){with(a){_DOMImageElement=document.createElement("img");_DOMImageElement.style.position="absolute";_DOMImageElement.style.left="0px";_DOMImageElement.style.top="0px";_DOMImageElement.style.visibility="hidden";objj_msgSend(CPPlatform,
"supportsDragAndDrop")&&(_DOMImageElement.setAttribute("draggable","true"),_DOMImageElement.style["-khtml-user-drag"]="element");if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPImageView").super_class},"initWithCoder:",c))_DOMElement.appendChild(_DOMImageElement),objj_msgSend(a,"setHasShadow:",objj_msgSend(c,"decodeBoolForKey:","CPImageViewHasShadowKey")),objj_msgSend(a,"setImageAlignment:",objj_msgSend(c,"decodeIntForKey:","CPImageViewImageAlignmentKey")),(objj_msgSend(c,"decodeBoolForKey:",
"CPImageViewIsEditableKey")||NO)&&objj_msgSend(a,"setEditable:",YES),objj_msgSend(a,"setNeedsLayout"),objj_msgSend(a,"setNeedsDisplay:",YES);return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,c){with(a){if(_shadowView){var e=_subviews;_subviews=objj_msgSend(_subviews,"copy");objj_msgSend(_subviews,"removeObjectIdenticalTo:",_shadowView)}objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPImageView").super_class},"encodeWithCoder:",c);_shadowView&&(_subviews=e);objj_msgSend(c,
"encodeBool:forKey:",_hasShadow,"CPImageViewHasShadowKey");objj_msgSend(c,"encodeInt:forKey:",_imageAlignment,"CPImageViewImageAlignmentKey");_isEditable&&objj_msgSend(c,"encodeBool:forKey:",_isEditable,"CPImageViewIsEditableKey")}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPDocumentController.j",baseURL),function(h,g){g("Foundation/CPObject.j",NO);g("Foundation/CPBundle.j",NO);g("CPDocument.j",YES);g("CPOpenPanel.j",YES);var e=nil,c=objj_allocateClassPair(CPObject,"CPDocumentController"),a=c.isa;class_addIvars(c,[new objj_ivar("_documents"),new objj_ivar("_documentTypes")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("init"),function(a){with(a){if(a=objj_msgSendSuper({receiver:a,
super_class:objj_getClass("CPDocumentController").super_class},"init"))_documents=objj_msgSend(objj_msgSend(CPArray,"alloc"),"init"),e||(e=a),_documentTypes=objj_msgSend(objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"infoDictionary"),"objectForKey:","CPBundleDocumentTypes");return a}}),new objj_method(sel_getUid("documentForURL:"),function(a,b,c){with(a){a=0;for(b=objj_msgSend(_documents,"count");a<b;++a){var e=_documents[a];if(objj_msgSend(objj_msgSend(e,"fileURL"),"isEqual:",c))return e}return nil}}),
new objj_method(sel_getUid("openUntitledDocumentOfType:display:"),function(a,b,c,e){with(a)return(b=objj_msgSend(a,"makeUntitledDocumentOfType:error:",c,nil))&&objj_msgSend(a,"addDocument:",b),e&&(objj_msgSend(b,"makeWindowControllers"),objj_msgSend(b,"showWindows")),b}),new objj_method(sel_getUid("makeUntitledDocumentOfType:error:"),function(a,b,c,e){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,"documentClassForType:",c),"alloc"),"initWithType:error:",c,e)}),new objj_method(sel_getUid("openDocumentWithContentsOfURL:display:error:"),
function(a,b,c,e,g){with(a)return(b=objj_msgSend(a,"documentForURL:",c))?e&&objj_msgSend(b,"showWindows"):(g=objj_msgSend(a,"typeForContentsOfURL:error:",c,g),b=objj_msgSend(a,"makeDocumentWithContentsOfURL:ofType:delegate:didReadSelector:contextInfo:",c,g,a,sel_getUid("document:didRead:contextInfo:"),objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",e,"shouldDisplay")),objj_msgSend(a,"addDocument:",b),b&&objj_msgSend(a,"noteNewRecentDocument:",b)),b}),new objj_method(sel_getUid("reopenDocumentForURL:withContentsOfURL:error:"),
function(a,b,c,e){with(a)return objj_msgSend(a,"makeDocumentForURL:withContentsOfURL:ofType:delegate:didReadSelector:contextInfo:",c,e,objj_msgSend(objj_msgSend(_documentTypes,"objectAtIndex:",0),"objectForKey:","CPBundleTypeName"),a,sel_getUid("document:didRead:contextInfo:"),nil)}),new objj_method(sel_getUid("makeDocumentWithContentsOfURL:ofType:delegate:didReadSelector:contextInfo:"),function(a,b,c,e,g,j,k){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,"documentClassForType:",e),"alloc"),
"initWithContentsOfURL:ofType:delegate:didReadSelector:contextInfo:",c,e,g,j,k)}),new objj_method(sel_getUid("makeDocumentForURL:withContentsOfURL:ofType:delegate:didReadSelector:contextInfo:"),function(a,b,c,e,g,j,k,h){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,"documentClassForType:",g),"alloc"),"initForURL:withContentsOfURL:ofType:delegate:didReadSelector:contextInfo:",c,e,g,j,k,h)}),new objj_method(sel_getUid("document:didRead:contextInfo:"),function(a,b,c,e,g){with(a){if(!e)return;
objj_msgSend(c,"makeWindowControllers");objj_msgSend(g,"objectForKey:","shouldDisplay")&&objj_msgSend(c,"showWindows")}}),new objj_method(sel_getUid("newDocument:"),function(a){with(a)objj_msgSend(a,"openUntitledDocumentOfType:display:",objj_msgSend(objj_msgSend(_documentTypes,"objectAtIndex:",0),"objectForKey:","CPBundleTypeName"),YES)}),new objj_method(sel_getUid("openDocument:"),function(a){with(a){var b=objj_msgSend(CPOpenPanel,"openPanel");objj_msgSend(b,"runModal");b=objj_msgSend(b,"URLs");
for(var c=0,e=objj_msgSend(b,"count");c<e;++c)objj_msgSend(a,"openDocumentWithContentsOfURL:display:error:",objj_msgSend(CPURL,"URLWithString:",b[c]),YES,nil)}}),new objj_method(sel_getUid("documents"),function(a){with(a)return _documents}),new objj_method(sel_getUid("addDocument:"),function(a,b,c){with(a)objj_msgSend(_documents,"addObject:",c)}),new objj_method(sel_getUid("removeDocument:"),function(a,b,c){with(a)objj_msgSend(_documents,"removeObjectIdenticalTo:",c)}),new objj_method(sel_getUid("defaultType"),
function(a){with(a)return objj_msgSend(_documentTypes[0],"objectForKey:","CPBundleTypeName")}),new objj_method(sel_getUid("typeForContentsOfURL:error:"),function(a,b,c){with(a){b=0;var e=_documentTypes.length;c=objj_msgSend(objj_msgSend(c,"pathExtension"),"lowercaseString");for(var g=nil;b<e;++b)for(var j=_documentTypes[b],k=objj_msgSend(j,"objectForKey:","CFBundleTypeExtensions"),h=0,r=k.length;h<r;++h){var p=objj_msgSend(k[h],"lowercaseString");if(p===c)return objj_msgSend(j,"objectForKey:","CPBundleTypeName");
p==="****"&&(g=objj_msgSend(j,"objectForKey:","CPBundleTypeName"))}return g||objj_msgSend(a,"defaultType")}}),new objj_method(sel_getUid("_infoForType:"),function(a,b,c){with(a){a=0;for(b=objj_msgSend(_documentTypes,"count");a<b;++a){var e=_documentTypes[a];if(objj_msgSend(e,"objectForKey:","CPBundleTypeName")==c)return e}return nil}}),new objj_method(sel_getUid("documentClassForType:"),function(a,b,c){with(a)return(a=objj_msgSend(objj_msgSend(a,"_infoForType:",c),"objectForKey:","CPDocumentClass"))?
CPClassFromString(a):nil})]);class_addMethods(a,[new objj_method(sel_getUid("sharedDocumentController"),function(a){with(a)return e||objj_msgSend(objj_msgSend(a,"alloc"),"init"),e})]);c=objj_getClass("CPDocumentController");if(!c)throw new SyntaxError('*** Could not find definition for class "CPDocumentController"');a=c.isa;class_addMethods(c,[new objj_method(sel_getUid("closeAllDocumentsWithDelegate:didCloseAllSelector:contextInfo:"),function(a,b,c,e,g){with(a)objj_msgSend(a,"_closeDocumentsStartingWith:shouldClose:context:",
nil,YES,{delegate:c,selector:e,context:g})}),new objj_method(sel_getUid("_closeDocumentsStartingWith:shouldClose:context:"),function(a,b,c,e,g){with(a){if(e&&(objj_msgSend(c,"close"),objj_msgSend(objj_msgSend(a,"documents"),"count")>0)){objj_msgSend(objj_msgSend(objj_msgSend(a,"documents"),"lastObject"),"canCloseDocumentWithDelegate:shouldCloseSelector:contextInfo:",a,sel_getUid("_closeDocumentsStartingWith:shouldClose:context:"),g);return}objj_msgSend(g.delegate,"respondsToSelector:",g.selector)&&
objj_msgSend(g.delegate,g.selector,a,objj_msgSend(objj_msgSend(a,"documents"),"count")===0,g.context)}})]);c=objj_getClass("CPDocumentController");if(!c)throw new SyntaxError('*** Could not find definition for class "CPDocumentController"');a=c.isa;class_addMethods(c,[new objj_method(sel_getUid("recentDocumentURLs"),function(a){with(a){if(typeof window.cpRecentDocumentURLs==="function")return window.cpRecentDocumentURLs();return[]}}),new objj_method(sel_getUid("clearRecentDocuments:"),function(a){with(a)typeof window.cpClearRecentDocuments===
"function"&&window.cpClearRecentDocuments(),objj_msgSend(a,"_updateRecentDocumentsMenu")}),new objj_method(sel_getUid("noteNewRecentDocument:"),function(a,b,c){with(a)objj_msgSend(a,"noteNewRecentDocumentURL:",objj_msgSend(c,"fileURL"))}),new objj_method(sel_getUid("noteNewRecentDocumentURL:"),function(a,b,c){with(a)b=objj_msgSend(c,"isKindOfClass:",CPString)?c:objj_msgSend(c,"absoluteString"),typeof window.cpNoteNewRecentDocumentPath==="function"&&window.cpNoteNewRecentDocumentPath(b),objj_msgSend(a,
"_updateRecentDocumentsMenu")}),new objj_method(sel_getUid("_removeAllRecentDocumentsFromMenu:"),function(a,b,c){with(a){a=objj_msgSend(c,"itemArray");for(b=objj_msgSend(a,"count");b--;)objj_msgSend(a[b],"action")===sel_getUid("_openRecentDocument:")&&objj_msgSend(c,"removeItemAtIndex:",b)}}),new objj_method(sel_getUid("_updateRecentDocumentsMenu"),function(a){with(a){var b=objj_msgSend(objj_msgSend(CPApp,"mainMenu"),"_menuWithName:","_CPRecentDocumentsMenu"),c=objj_msgSend(a,"recentDocumentURLs"),
e=objj_msgSend(b,"itemArray"),g=objj_msgSend(c,"count"),j=objj_msgSend(e,"count");objj_msgSend(a,"_removeAllRecentDocumentsFromMenu:",b);for(j&&(g?objj_msgSend(e[0],"isSeparatorItem")||objj_msgSend(b,"insertItem:atIndex:",objj_msgSend(CPMenuItem,"separatorItem"),0):objj_msgSend(e[0],"isSeparatorItem")&&objj_msgSend(b,"removeItemAtIndex:",0));g--;)a=c[g],e=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:",objj_msgSend(a,"lastPathComponent"),sel_getUid("_openRecentDocument:"),
nil),objj_msgSend(e,"setTag:",a),objj_msgSend(b,"insertItem:atIndex:",e,0)}}),new objj_method(sel_getUid("_openRecentDocument:"),function(a,b,c){with(a)objj_msgSend(a,"openDocumentWithContentsOfURL:display:error:",objj_msgSend(c,"tag"),YES,nil)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPDictionary.j",baseURL),function(h,g){g("CPArray.j",YES);g("CPEnumerator.j",YES);g("CPException.j",YES);g("CPNull.j",YES);g("CPObject.j",YES);var e=objj_allocateClassPair(CPEnumerator,"_CPDictionaryValueEnumerator"),c=e.isa;class_addIvars(e,[new objj_ivar("_keyEnumerator"),new objj_ivar("_dictionary")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithDictionary:"),function(a,d,b){with(a){if(a=
objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPDictionaryValueEnumerator").super_class},"init"))_keyEnumerator=objj_msgSend(b,"keyEnumerator"),_dictionary=b;return a}}),new objj_method(sel_getUid("nextObject"),function(a){with(a){a=objj_msgSend(_keyEnumerator,"nextObject");if(!a)return nil;return objj_msgSend(_dictionary,"objectForKey:",a)}})]);e=objj_allocateClassPair(CPObject,"CPDictionary");c=e.isa;objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithDictionary:"),
function(a,d,b){with(a){a="";d=objj_msgSend(objj_msgSend(CPDictionary,"alloc"),"init");for(a in b._buckets)objj_msgSend(d,"setObject:forKey:",objj_msgSend(b,"objectForKey:",a),a);return d}}),new objj_method(sel_getUid("initWithObjects:forKeys:"),function(a,d,b,c){with(a){a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPDictionary").super_class},"init");objj_msgSend(b,"count")!=objj_msgSend(c,"count")&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Counts are different.("+
objj_msgSend(b,"count")+"!="+objj_msgSend(c,"count")+")");if(a)for(d=objj_msgSend(c,"count");d--;)objj_msgSend(a,"setObject:forKey:",b[d],c[d]);return a}}),new objj_method(sel_getUid("initWithObjectsAndKeys:"),function(a){with(a){var d=arguments.length;d%2!==0&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Key-value count is mismatched. ("+d+" arguments passed)");if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPDictionary").super_class},"init"))for(var b=2;b<
d;b+=2){var c=arguments[b];if(c===nil)break;objj_msgSend(a,"setObject:forKey:",c,arguments[b+1])}return a}}),new objj_method(sel_getUid("copy"),function(a){with(a)return objj_msgSend(CPDictionary,"dictionaryWithDictionary:",a)}),new objj_method(sel_getUid("count"),function(a){with(a)return _count}),new objj_method(sel_getUid("allKeys"),function(a){with(a)return objj_msgSend(_keys,"copy")}),new objj_method(sel_getUid("allValues"),function(a){with(a){for(var d=_keys.length,b=[];d--;)b.push(a.valueForKey(_keys[d]));
return b}}),new objj_method(sel_getUid("allKeysForObject:"),function(a,d,b){with(a){a=_keys.length;d=0;for(var c=[],e=nil,g=nil;d<a;++d)e=_keys[d],g=_buckets[e],g.isa&&b&&b.isa&&objj_msgSend(g,"respondsToSelector:",sel_getUid("isEqual:"))&&objj_msgSend(g,"isEqual:",b)?c.push(e):g===b&&c.push(e);return c}}),new objj_method(sel_getUid("keysSortedByValueUsingSelector:"),function(a,d,b){with(a)return objj_msgSend(objj_msgSend(a,"allKeys"),"sortedArrayUsingFunction:",function(d,c){d=objj_msgSend(a,"objectForKey:",
d);c=objj_msgSend(a,"objectForKey:",c);return objj_msgSend(d,"performSelector:withObject:",b,c)})}),new objj_method(sel_getUid("keyEnumerator"),function(a){with(a)return objj_msgSend(_keys,"objectEnumerator")}),new objj_method(sel_getUid("objectEnumerator"),function(a){with(a)return objj_msgSend(objj_msgSend(_CPDictionaryValueEnumerator,"alloc"),"initWithDictionary:",a)}),new objj_method(sel_getUid("isEqualToDictionary:"),function(a,d,b){with(a){if(a===b)return YES;a=objj_msgSend(a,"count");if(a!==
objj_msgSend(b,"count"))return NO;for(;a--;){var c=_keys[a];d=_buckets[c];c=b._buckets[c];if(d!==c&&(!d||!d.isa||!c||!c.isa||!objj_msgSend(d,"respondsToSelector:",sel_getUid("isEqual:"))||!objj_msgSend(d,"isEqual:",c)))return NO}return YES}}),new objj_method(sel_getUid("isEqual:"),function(a,d,b){with(a){if(a===b)return YES;if(!objj_msgSend(b,"isKindOfClass:",objj_msgSend(CPDictionary,"class")))return NO;return objj_msgSend(a,"isEqualToDictionary:",b)}}),new objj_method(sel_getUid("objectForKey:"),
function(a,d,b){with(a)return a=_buckets[b],a===void 0?nil:a}),new objj_method(sel_getUid("removeAllObjects"),function(a){with(a)a.removeAllValues()}),new objj_method(sel_getUid("removeObjectForKey:"),function(a,d,b){with(a)a.removeValueForKey(b)}),new objj_method(sel_getUid("removeObjectsForKeys:"),function(a,d,b){with(a)for(d=b.length;d--;)objj_msgSend(a,"removeObjectForKey:",b[d])}),new objj_method(sel_getUid("setObject:forKey:"),function(a,d,b,c){with(a)a.setValueForKey(c,b)}),new objj_method(sel_getUid("addEntriesFromDictionary:"),
function(a,d,b){with(a){if(!b)return;d=objj_msgSend(b,"allKeys");for(var c=objj_msgSend(d,"count");c--;){var e=d[c];objj_msgSend(a,"setObject:forKey:",objj_msgSend(b,"objectForKey:",e),e)}}}),new objj_method(sel_getUid("description"),function(a){with(a)return a.toString()}),new objj_method(sel_getUid("containsKey:"),function(a,d,b){with(a)return a=objj_msgSend(a,"objectForKey:",b),a!==nil&&a!==void 0})]);class_addMethods(c,[new objj_method(sel_getUid("alloc"),function(a){with(a){var d=new CFMutableDictionary;
d.isa=objj_msgSend(a,"class");return d}}),new objj_method(sel_getUid("dictionary"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"init")}),new objj_method(sel_getUid("dictionaryWithDictionary:"),function(a,d,b){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithDictionary:",b)}),new objj_method(sel_getUid("dictionaryWithObject:forKey:"),function(a,d,b,c){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithObjects:forKeys:",[b],[c])}),new objj_method(sel_getUid("dictionaryWithObjects:forKeys:"),
function(a,d,b,c){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithObjects:forKeys:",b,c)}),new objj_method(sel_getUid("dictionaryWithJSObject:"),function(a,d,b){with(a)return objj_msgSend(a,"dictionaryWithJSObject:recursively:",b,NO)}),new objj_method(sel_getUid("dictionaryWithJSObject:recursively:"),function(a,d,b,c){with(a){d="";a=objj_msgSend(objj_msgSend(a,"alloc"),"init");for(d in b)if(b.hasOwnProperty(d)){var e=b[d];if(e===null)objj_msgSend(a,"setObject:forKey:",objj_msgSend(CPNull,
"null"),d);else{if(c)if(e.constructor===Object)e=objj_msgSend(CPDictionary,"dictionaryWithJSObject:recursively:",e,YES);else if(objj_msgSend(e,"isKindOfClass:",CPArray)){for(var g=[],j=0,k=e.length;j<k;j++){var h=e[j];h.constructor===Object?g.push(objj_msgSend(CPDictionary,"dictionaryWithJSObject:recursively:",h,YES)):g.push(h)}e=g}objj_msgSend(a,"setObject:forKey:",e,d)}}return a}}),new objj_method(sel_getUid("dictionaryWithObjectsAndKeys:"),function(a){with(a)return arguments[0]=objj_msgSend(a,
"alloc"),arguments[1]=sel_getUid("initWithObjectsAndKeys:"),objj_msgSend.apply(this,arguments)})]);e=objj_getClass("CPDictionary");if(!e)throw new SyntaxError('*** Could not find definition for class "CPDictionary"');c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("initWithCoder:"),function(a,d,b){with(a)return objj_msgSend(b,"_decodeDictionaryOfObjectsForKey:","CP.objects")}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,d,b){with(a)objj_msgSend(b,"_encodeDictionaryOfObjects:forKey:",
a,"CP.objects")})]);e=objj_allocateClassPair(CPDictionary,"CPMutableDictionary");c=e.isa;objj_registerClassPair(e);CFDictionary.prototype.isa=CPDictionary;CFMutableDictionary.prototype.isa=CPMutableDictionary});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPBox.j",baseURL),function(h,g){g("CPView.j",YES);CPBoxPrimary=0;CPBoxSecondary=1;CPBoxSeparator=2;CPBoxOldStyle=3;CPBoxCustom=4;CPNoBorder=0;CPLineBorder=1;CPBezelBorder=2;CPGrooveBorder=3;var e=objj_allocateClassPair(CPView,"CPBox"),c=e.isa;class_addIvars(e,[new objj_ivar("_boxType"),new objj_ivar("_borderType"),new objj_ivar("_borderColor"),new objj_ivar("_fillColor"),new objj_ivar("_cornerRadius"),new objj_ivar("_borderWidth"),
new objj_ivar("_contentMargin"),new objj_ivar("_contentView")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithFrame:"),function(a,d,b){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPBox").super_class},"initWithFrame:",b))_borderType=CPBezelBorder,_fillColor=objj_msgSend(CPColor,"clearColor"),_borderColor=objj_msgSend(CPColor,"blackColor"),_borderWidth=1,_contentMargin=CGSizeMake(0,0),_contentView=objj_msgSend(objj_msgSend(CPView,"alloc"),
"initWithFrame:",objj_msgSend(a,"bounds")),objj_msgSend(_contentView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),objj_msgSend(a,"setAutoresizesSubviews:",YES),objj_msgSend(a,"addSubview:",_contentView);return a}}),new objj_method(sel_getUid("borderRect"),function(a){with(a)return objj_msgSend(a,"bounds")}),new objj_method(sel_getUid("borderType"),function(a){with(a)return _borderType}),new objj_method(sel_getUid("setBorderType:"),function(a,d,b){with(a){if(_borderType===b)return;
_borderType=b;objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("boxType"),function(a){with(a)return _boxType}),new objj_method(sel_getUid("setBoxType:"),function(a,d,b){with(a){if(_boxType===b)return;_boxType=b;objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("borderColor"),function(a){with(a)return _borderColor}),new objj_method(sel_getUid("setBorderColor:"),function(a,d,b){with(a){if(objj_msgSend(b,"isEqual:",_borderColor))return;_borderColor=b;objj_msgSend(a,
"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("borderWidth"),function(a){with(a)return _borderWidth}),new objj_method(sel_getUid("setBorderWidth:"),function(a,d,b){with(a){if(b===_borderWidth)return;_borderWidth=b;objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("cornerRadius"),function(a){with(a)return _cornerRadius}),new objj_method(sel_getUid("setCornerRadius:"),function(a,d,b){with(a){if(b===_cornerRadius)return;_cornerRadius=b;objj_msgSend(a,"setNeedsDisplay:",YES)}}),
new objj_method(sel_getUid("fillColor"),function(a){with(a)return _fillColor}),new objj_method(sel_getUid("setFillColor:"),function(a,d,b){with(a){if(objj_msgSend(b,"isEqual:",_fillColor))return;_fillColor=b;objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("contentView"),function(a){with(a)return _contentView}),new objj_method(sel_getUid("setContentView:"),function(a,d,b){with(a){if(b===_contentView)return;objj_msgSend(b,"setFrame:",CGRectInset(objj_msgSend(a,"bounds"),_contentMargin.width+
_borderWidth,_contentMargin.height+_borderWidth));objj_msgSend(b,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);objj_msgSend(a,"replaceSubview:with:",_contentView,b);_contentView=b}}),new objj_method(sel_getUid("contentViewMargins"),function(a){with(a)return _contentMargin}),new objj_method(sel_getUid("setContentViewMargins:"),function(a,d,b){with(a)(b.width<0||b.height<0)&&objj_msgSend(CPException,"raise:reason:",CPGenericException,"Margins must be positive"),_contentMargin=CGSizeMakeCopy(b),
objj_msgSend(a,"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("setFrameFromContentFrame:"),function(a,d,b){with(a)objj_msgSend(a,"setFrame:",CGRectInset(b,-(_contentMargin.width+_borderWidth),-(_contentMargin.height+_borderWidth))),objj_msgSend(a,"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("sizeToFit"),function(a){with(a){var d=objj_msgSend(_contentView,"frame");objj_msgSend(a,"setFrameSize:",CGSizeMake(d.size.width+_contentMargin.width*2,d.size.height+_contentMargin.height*2));objj_msgSend(_contentView,
"setFrameOrigin:",CGPointMake(_contentMargin.width,_contentMargin.height))}}),new objj_method(sel_getUid("drawRect:"),function(a){with(a){if(_borderType===CPNoBorder)return;var d=objj_msgSend(a,"bounds");switch(_boxType){case CPBoxSeparator:if(CGRectGetWidth(d)===5)return objj_msgSend(a,"_drawVerticalSeperatorInRect:",d);else if(CGRectGetHeight(d)===5)return objj_msgSend(a,"_drawHorizontalSeperatorInRect:",d)}switch(_borderType){case CPBezelBorder:objj_msgSend(a,"_drawBezelBorderInRect:",d);break;
default:case CPLineBorder:objj_msgSend(a,"_drawLineBorderInRect:",d)}}}),new objj_method(sel_getUid("_drawHorizontalSeperatorInRect:"),function(a,d,b){with(a)d=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort"),CGContextSetStrokeColor(d,objj_msgSend(a,"borderColor")),CGContextSetLineWidth(d,1),CGContextMoveToPoint(d,CGRectGetMinX(b),CGRectGetMinY(b)+0.5),CGContextAddLineToPoint(d,CGRectGetWidth(b),CGRectGetMinY(b)+0.5),CGContextStrokePath(d)}),new objj_method(sel_getUid("_drawVerticalSeperatorInRect:"),
function(a,d,b){with(a)d=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort"),CGContextSetStrokeColor(d,objj_msgSend(a,"borderColor")),CGContextSetLineWidth(d,1),CGContextMoveToPoint(d,CGRectGetMinX(b)+0.5,CGRectGetMinY(b)),CGContextAddLineToPoint(d,CGRectGetMinX(b)+0.5,CGRectGetHeight(b)),CGContextStrokePath(d)}),new objj_method(sel_getUid("_drawBezelBorderInRect:"),function(a,d,b){with(a){d=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");var c=
[CPMinYEdge,CPMaxXEdge,CPMaxYEdge,CPMinXEdge],e=190/255;e=[142/255,e,e,e];for(var g=_borderWidth;g--;)b=CPDrawTiledRects(b,b,c,e);CGContextSetFillColor(d,objj_msgSend(a,"fillColor"));CGContextFillRect(d,b)}}),new objj_method(sel_getUid("_drawLineBorderInRect:"),function(a,d,b){with(a)d=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort"),b=CGRectInset(b,_borderWidth/2,_borderWidth/2),CGContextSetFillColor(d,objj_msgSend(a,"fillColor")),CGContextSetStrokeColor(d,objj_msgSend(a,
"borderColor")),CGContextSetLineWidth(d,_borderWidth),CGContextFillRoundedRectangleInRect(d,b,_cornerRadius,YES,YES,YES,YES),CGContextStrokeRoundedRectangleInRect(d,b,_cornerRadius,YES,YES,YES,YES)})]);class_addMethods(c,[new objj_method(sel_getUid("boxEnclosingView:"),function(a,d,b){with(a)return a=objj_msgSend(objj_msgSend(a,"alloc"),"initWithFrame:",CGRectMakeZero()),d=objj_msgSend(b,"superview"),objj_msgSend(a,"setFrameFromContentFrame:",objj_msgSend(b,"frame")),objj_msgSend(d,"replaceSubview:with:",
b,a),objj_msgSend(a,"setContentView:",b),a})]);e=objj_getClass("CPBox");if(!e)throw new SyntaxError('*** Could not find definition for class "CPBox"');c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("initWithCoder:"),function(a,d,b){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPBox").super_class},"initWithCoder:",b))_boxType=objj_msgSend(b,"decodeIntForKey:","CPBoxTypeKey"),_borderType=objj_msgSend(b,"decodeIntForKey:","CPBoxBorderTypeKey"),_borderColor=objj_msgSend(b,
"decodeObjectForKey:","CPBoxBorderColorKey"),_fillColor=objj_msgSend(b,"decodeObjectForKey:","CPBoxFillColorKey"),_cornerRadius=objj_msgSend(b,"decodeFloatForKey:","CPBoxCornerRadiusKey"),_borderWidth=objj_msgSend(b,"decodeFloatForKey:","CPBoxBorderWidthKey"),_contentMargin=objj_msgSend(b,"decodeSizeForKey:","CPBoxContentMarginKey"),_contentView=objj_msgSend(a,"subviews")[0],objj_msgSend(a,"setAutoresizesSubviews:",YES),objj_msgSend(_contentView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,d,b){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPBox").super_class},"encodeWithCoder:",b),objj_msgSend(b,"encodeInt:forKey:",_boxType,"CPBoxTypeKey"),objj_msgSend(b,"encodeInt:forKey:",_borderType,"CPBoxBorderTypeKey"),objj_msgSend(b,"encodeObject:forKey:",_borderColor,"CPBoxBorderColorKey"),objj_msgSend(b,"encodeObject:forKey:",_fillColor,"CPBoxFillColorKey"),objj_msgSend(b,"encodeFloat:forKey:",_cornerRadius,
"CPBoxCornerRadiusKey"),objj_msgSend(b,"encodeFloat:forKey:",_borderWidth,"CPBoxBorderWidthKey"),objj_msgSend(b,"encodeSize:forKey:",_contentMargin,"CPBoxContentMarginKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CGPath.j",baseURL),function(h,g){g("CGGeometry.j",YES);g("CGAffineTransform.j",YES);kCGPathElementMoveToPoint=0;kCGPathElementAddLineToPoint=1;kCGPathElementAddQuadCurveToPoint=2;kCGPathElementAddCurveToPoint=3;kCGPathElementCloseSubpath=4;kCGPathElementAddArc=5;kCGPathElementAddArcToPoint=6;CGPathCreateMutable=function(){return{count:0,start:NULL,current:NULL,elements:[]}};CGPathCreateMutableCopy=function(c){var a=CGPathCreateMutable();
CGPathAddPath(a,c);return a};CGPathCreateCopy=function(c){return CGPathCreateMutableCopy(c)};CGPathRelease=function(){};CGPathRetain=function(c){return c};CGPathAddArc=function(c,a,d,b,f,e,g){if(a&&!(a.a==1&&a.b==0&&a.c==0&&a.d==1&&a.tx==0&&a.ty==0)){b={x:d,y:b};var j={x:COS(g),y:SIN(g)},k={x:COS(e),y:SIN(e)};j={x:j.x*a.a+j.y*a.c+a.tx,y:j.x*a.b+j.y*a.d+a.ty};k={x:k.x*a.a+k.y*a.c+a.tx,y:k.x*a.b+k.y*a.d+a.ty};b={x:b.x*a.a+b.y*a.c+a.tx,y:b.x*a.b+b.y*a.d+a.ty};d=b.x;b=b.y;var h=g,r=e;g=ATAN2(j.y-a.ty,
j.x-a.tx);e=ATAN2(k.y-a.ty,k.x-a.tx);g==e&&h!=r&&(r>h?g-=PI2:e-=PI2);f={width:f,height:0};f={width:f.width*a.a+f.height*a.c,height:f.width*a.b+f.height*a.d};f=SQRT(f.width*f.width+f.height*f.height)}c.current={x:d+f*COS(g),y:b+f*SIN(g)};c.elements[c.count++]={type:kCGPathElementAddArc,x:d,y:b,radius:f,startAngle:e,endAngle:g}};CGPathAddArcToPoint=function(){};CGPathAddCurveToPoint=function(c,a,d,b,f,e,g,j){d={x:d,y:b};f={x:f,y:e};g={x:g,y:j};a&&(d={x:d.x*a.a+d.y*a.c+a.tx,y:d.x*a.b+d.y*a.d+a.ty},f=
{x:f.x*a.a+f.y*a.c+a.tx,y:f.x*a.b+f.y*a.d+a.ty},g={x:g.x*a.a+g.y*a.c+a.tx,y:g.x*a.b+g.y*a.d+a.ty});c.current=g;c.elements[c.count++]={type:kCGPathElementAddCurveToPoint,cp1x:d.x,cp1y:d.y,cp2x:f.x,cp2y:f.y,x:g.x,y:g.y}};CGPathAddLines=function(c,a,d,b){var f=1;if(b===NULL)b=d.length;if(c&&!(b<2))for(CGPathMoveToPoint(c,a,d[0].x,d[0].y);f<b;++f)CGPathAddLineToPoint(c,a,d[f].x,d[f].y)};CGPathAddLineToPoint=function(c,a,d,b){d={x:d,y:b};a!=NULL&&(d={x:d.x*a.a+d.y*a.c+a.tx,y:d.x*a.b+d.y*a.d+a.ty});c.elements[c.count++]=
{type:kCGPathElementAddLineToPoint,x:d.x,y:d.y};c.current=d};CGPathAddPath=function(c,a,d){for(var b=0,f=d.count;b<f;++b){var e=d.elements[b];switch(e.type){case kCGPathElementAddLineToPoint:CGPathAddLineToPoint(c,a,e.x,e.y);break;case kCGPathElementAddCurveToPoint:CGPathAddCurveToPoint(c,a,e.cp1x,e.cp1y,e.cp2x,e.cp2y,e.x,e.y);break;case kCGPathElementAddArc:CGPathAddArc(c,a,e.x,e.y,e.radius,e.startAngle,e.endAngle,e.isClockwise);break;case kCGPathElementAddQuadCurveToPoint:CGPathAddQuadCurveToPoint(c,
a,e.cpx,e.cpy,e.x,e.y);break;case kCGPathElementMoveToPoint:CGPathMoveToPoint(c,a,e.x,e.y);break;case kCGPathElementCloseSubpath:CGPathCloseSubpath(c)}}};CGPathAddQuadCurveToPoint=function(c,a,d,b,f,e){d={x:d,y:b};f={x:f,y:e};a&&(d={x:d.x*a.a+d.y*a.c+a.tx,y:d.x*a.b+d.y*a.d+a.ty},f={x:f.x*a.a+f.y*a.c+a.tx,y:f.x*a.b+f.y*a.d+a.ty});c.elements[c.count++]={type:kCGPathElementAddQuadCurveToPoint,cpx:d.x,cpy:d.y,x:f.x,y:f.y};c.current=f};CGPathAddRect=function(c,a,d){CGPathAddRects(c,a,[d],1)};CGPathAddRects=
function(c,a,d,b){var f=0;if(b===NULL)b=d.length;for(;f<b;++f){var e=d[f];CGPathMoveToPoint(c,a,e.origin.x,e.origin.y);CGPathAddLineToPoint(c,a,e.origin.x+e.size.width,e.origin.y);CGPathAddLineToPoint(c,a,e.origin.x+e.size.width,e.origin.y+e.size.height);CGPathAddLineToPoint(c,a,e.origin.x,e.origin.y+e.size.height);CGPathCloseSubpath(c)}};CGPathMoveToPoint=function(c,a,d,b){d={x:d,y:b};b=c.count;a!=NULL&&(d={x:d.x*a.a+d.y*a.c+a.tx,y:d.x*a.b+d.y*a.d+a.ty});c.start=d;c.current=d;a=c.elements[b-1];b!=
0&&a.type==kCGPathElementMoveToPoint?(a.x=d.x,a.y=d.y):c.elements[c.count++]={type:kCGPathElementMoveToPoint,x:d.x,y:d.y}};var e=4*((SQRT2-1)/3);CGPathWithEllipseInRect=function(c){var a=CGPathCreateMutable();if(c.size.width==c.size.height)CGPathAddArc(a,nil,c.origin.x+c.size.width/2,c.origin.y+c.size.height/2,c.size.width/2,0,2*PI,YES);else{var d={width:c.size.width/2,height:c.size.height/2};c={x:c.origin.x+d.width,y:c.origin.y+d.height};CGPathMoveToPoint(a,nil,c.x,c.y-d.height);CGPathAddCurveToPoint(a,
nil,c.x+e*d.width,c.y-d.height,c.x+d.width,c.y-e*d.height,c.x+d.width,c.y);CGPathAddCurveToPoint(a,nil,c.x+d.width,c.y+e*d.height,c.x+e*d.width,c.y+d.height,c.x,c.y+d.height);CGPathAddCurveToPoint(a,nil,c.x-e*d.width,c.y+d.height,c.x-d.width,c.y+e*d.height,c.x-d.width,c.y);CGPathAddCurveToPoint(a,nil,c.x-d.width,c.y-e*d.height,c.x-e*d.width,c.y-d.height,c.x,c.y-d.height)}CGPathCloseSubpath(a);return a};CGPathWithRoundedRectangleInRect=function(c,a,d,b,f,e,g){d=CGPathCreateMutable();var j=c.origin.x,
h=c.origin.x+c.size.width,o=c.origin.y;c=c.origin.y+c.size.height;CGPathMoveToPoint(d,nil,j+a,o);b?(CGPathAddLineToPoint(d,nil,h-a,o),CGPathAddCurveToPoint(d,nil,h-a,o,h,o,h,o+a)):CGPathAddLineToPoint(d,nil,h,o);f?(CGPathAddLineToPoint(d,nil,h,c-a),CGPathAddCurveToPoint(d,nil,h,c-a,h,c,h-a,c)):CGPathAddLineToPoint(d,nil,h,c);e?(CGPathAddLineToPoint(d,nil,j+a,c),CGPathAddCurveToPoint(d,nil,j+a,c,j,c,j,c-a)):CGPathAddLineToPoint(d,nil,j,c);g?(CGPathAddLineToPoint(d,nil,j,o+a),CGPathAddCurveToPoint(d,
nil,j,o+a,j,o,j+a,o)):CGPathAddLineToPoint(d,nil,j,o);CGPathCloseSubpath(d);return d};CGPathCloseSubpath=function(c){var a=c.count;a==0||c.elements[a-1].type==kCGPathElementCloseSubpath||(c.elements[c.count++]={type:kCGPathElementCloseSubpath,points:[c.start]})};CGPathEqualToPath=function(c,a){if(c==a)return YES;if(c.count!=a.count||!(c.start.x==a.start.x&&c.start.y==a.start.y)||!(c.current.x==a.current.x&&c.current.y==a.current.y))return NO;for(var d=0,b=c.count;d<b;++d){var f=c[d],e=a[d];if(f.type!=
e.type)return NO;if((f.type==kCGPathElementAddArc||f.type==kCGPathElementAddArcToPoint)&&f.radius!=e.radius)return NO;for(var g=f.points.length;g--;)if(!(f.points[g].x==e.points[g].x&&f.points[g].y==e.points[g].y))return NO}return YES};CGPathGetCurrentPoint=function(c){return{x:c.current.x,y:c.current.y}};CGPathIsEmpty=function(c){return!c||c.count==0}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPCursor.j",baseURL),function(h,g){g("Foundation/CPObject.j",NO);var e=nil,c=[],a={},d=objj_allocateClassPair(CPObject,"CPCursor"),b=d.isa;class_addIvars(d,[new objj_ivar("_cssString"),new objj_ivar("_hotSpot"),new objj_ivar("_image"),new objj_ivar("_isSetOnMouseEntered"),new objj_ivar("_isSetOnMouseExited")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("_cssString"),function(a){with(a)return _cssString}),
new objj_method(sel_getUid("hotSpot"),function(a){with(a)return _hotSpot}),new objj_method(sel_getUid("image"),function(a){with(a)return _image}),new objj_method(sel_getUid("isSetOnMouseEntered"),function(a){with(a)return _isSetOnMouseEntered}),new objj_method(sel_getUid("setOnMouseEntered:"),function(a,b,d){with(a)_isSetOnMouseEntered=d}),new objj_method(sel_getUid("isSetOnMouseExited"),function(a){with(a)return _isSetOnMouseExited}),new objj_method(sel_getUid("setOnMouseExited:"),function(a,b,d){with(a)_isSetOnMouseExited=
d}),new objj_method(sel_getUid("initWithCSSString:"),function(a,b,d){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPCursor").super_class},"init"))_cssString=d;return a}}),new objj_method(sel_getUid("initWithImage:hotSpot:"),function(a,b,d,c){with(a)return _hotSpot=c,_image=d,objj_msgSend(a,"initWithCSSString:","url("+objj_msgSend(_image,"filename")+")"+c.x+" "+c.y+", auto")}),new objj_method(sel_getUid("initWithImage:foregroundColorHint:backgroundColorHint:hotSpot:"),function(a,
b,d){with(a)return objj_msgSend(a,"initWithImage:hotSpot:",d,hotSpot)}),new objj_method(sel_getUid("pop"),function(a){with(a)objj_msgSend(CPCursor,"pop")}),new objj_method(sel_getUid("push"),function(a){with(a)e=c.push(a)}),new objj_method(sel_getUid("set"),function(a){with(a)e=a,objj_msgSend(objj_msgSend(a,"class"),"_setCursorCSS:",_cssString)}),new objj_method(sel_getUid("mouseEntered:"),function(a){with(a);}),new objj_method(sel_getUid("mouseExited:"),function(a){with(a);})]);class_addMethods(b,
[new objj_method(sel_getUid("hide"),function(a){with(a)objj_msgSend(a,"_setCursorCSS:","none")}),new objj_method(sel_getUid("unhide"),function(a){with(a)objj_msgSend(a,"_setCursorCSS:",objj_msgSend(e,"_cssString"))}),new objj_method(sel_getUid("setHiddenUntilMouseMoves:"),function(a,b,d){with(a)d?objj_msgSend(CPCursor,"hide"):objj_msgSend(CPCursor,"unhide")}),new objj_method(sel_getUid("pop"),function(a){with(a)c.length>1&&(c.pop(),e=c[c.length-1])}),new objj_method(sel_getUid("currentCursor"),function(a){with(a)return e}),
new objj_method(sel_getUid("_setCursorCSS:"),function(a,b,d){with(a){a=objj_msgSend(objj_msgSend(CPPlatformWindow,"visiblePlatformWindows"),"allObjects");b=0;for(var c=objj_msgSend(a,"count");b<c;b++)a[b]._DOMBodyElement.style.cursor=d}}),new objj_method(sel_getUid("_systemCursorWithName:cssString:hasImage:"),function(b,d,c,e,g){with(b)return d=a[c],typeof d==="undefined"&&(b=g?"url("+objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",b),"resourcePath")+"/CPCursor/"+c+".cur), "+e:e,d=objj_msgSend(objj_msgSend(CPCursor,
"alloc"),"initWithCSSString:",b),a[c]=d),d}),new objj_method(sel_getUid("arrowCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(b),"default",NO)}),new objj_method(sel_getUid("crosshairCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(b),"crosshair",NO)}),new objj_method(sel_getUid("IBeamCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",
CPStringFromSelector(b),"text",NO)}),new objj_method(sel_getUid("pointingHandCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(b),"pointer",NO)}),new objj_method(sel_getUid("resizeDownCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(b),"s-resize",NO)}),new objj_method(sel_getUid("resizeUpCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",
CPStringFromSelector(b),"n-resize",NO)}),new objj_method(sel_getUid("resizeLeftCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(b),"w-resize",NO)}),new objj_method(sel_getUid("resizeRightCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(b),"e-resize",NO)}),new objj_method(sel_getUid("resizeLeftRightCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,
"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(b),"col-resize",NO)}),new objj_method(sel_getUid("resizeUpDownCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(b),"row-resize",NO)}),new objj_method(sel_getUid("operationNotAllowedCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(b),"not-allowed",NO)}),new objj_method(sel_getUid("dragCopyCursor"),
function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(b),"copy",YES)}),new objj_method(sel_getUid("dragLinkCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(b),"alias",YES)}),new objj_method(sel_getUid("contextualMenuCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(b),"context-menu",YES)}),
new objj_method(sel_getUid("openHandCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(b),"move",YES)}),new objj_method(sel_getUid("closedHandCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",CPStringFromSelector(b),"-moz-grabbing",YES)}),new objj_method(sel_getUid("disappearingItemCursor"),function(a,b){with(a)return objj_msgSend(CPCursor,"_systemCursorWithName:cssString:hasImage:",
CPStringFromSelector(b),"auto",YES)})]);d=objj_getClass("CPCursor");if(!d)throw new SyntaxError('*** Could not find definition for class "CPCursor"');b=d.isa;class_addMethods(d,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,d){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPCursor").super_class},"init"))_cssString=objj_msgSend(d,"decodeObjectForKey:","CPCursorNameKey");return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,d){with(a)objj_msgSend(d,
"encodeObject:forKey:",_cssString,"CPCursorNameKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPNotificationCenter.j",baseURL),function(h,g){g("CPArray.j",YES);g("CPDictionary.j",YES);g("CPException.j",YES);g("CPNotification.j",YES);g("CPNull.j",YES);var e=nil,c=objj_allocateClassPair(CPObject,"CPNotificationCenter"),a=c.isa;class_addIvars(c,[new objj_ivar("_namedRegistries"),new objj_ivar("_unnamedRegistry")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("init"),function(a){with(a){if(a=
objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPNotificationCenter").super_class},"init"))_namedRegistries=objj_msgSend(CPDictionary,"dictionary"),_unnamedRegistry=objj_msgSend(objj_msgSend(_CPNotificationRegistry,"alloc"),"init");return a}}),new objj_method(sel_getUid("addObserver:selector:name:object:"),function(a,d,c,e,g,h){with(a){d=objj_msgSend(objj_msgSend(_CPNotificationObserver,"alloc"),"initWithObserver:selector:",c,e);if(g==nil)a=_unnamedRegistry;else if(!(a=objj_msgSend(_namedRegistries,
"objectForKey:",g)))a=objj_msgSend(objj_msgSend(_CPNotificationRegistry,"alloc"),"init"),objj_msgSend(_namedRegistries,"setObject:forKey:",a,g);objj_msgSend(a,"addObserver:object:",d,h)}}),new objj_method(sel_getUid("removeObserver:"),function(a,d,c){with(a){a=nil;for(d=objj_msgSend(_namedRegistries,"keyEnumerator");a=objj_msgSend(d,"nextObject");)objj_msgSend(objj_msgSend(_namedRegistries,"objectForKey:",a),"removeObserver:object:",c,nil);objj_msgSend(_unnamedRegistry,"removeObserver:object:",c,
nil)}}),new objj_method(sel_getUid("removeObserver:name:object:"),function(a,d,c,e,g){with(a)if(e==nil){a=nil;for(d=objj_msgSend(_namedRegistries,"keyEnumerator");a=objj_msgSend(d,"nextObject");)objj_msgSend(objj_msgSend(_namedRegistries,"objectForKey:",a),"removeObserver:object:",c,g);objj_msgSend(_unnamedRegistry,"removeObserver:object:",c,g)}else objj_msgSend(objj_msgSend(_namedRegistries,"objectForKey:",e),"removeObserver:object:",c,g)}),new objj_method(sel_getUid("postNotification:"),function(a,
c,e){with(a)e||objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"postNotification: does not except 'nil' notifications"),d(a,e)}),new objj_method(sel_getUid("postNotificationName:object:userInfo:"),function(a,c,e,g,h){with(a)d(a,objj_msgSend(objj_msgSend(CPNotification,"alloc"),"initWithName:object:userInfo:",e,g,h))}),new objj_method(sel_getUid("postNotificationName:object:"),function(a,c,e,g){with(a)d(a,objj_msgSend(objj_msgSend(CPNotification,"alloc"),"initWithName:object:userInfo:",
e,g,nil))})]);class_addMethods(a,[new objj_method(sel_getUid("defaultCenter"),function(a){with(a)return e||(e=objj_msgSend(objj_msgSend(CPNotificationCenter,"alloc"),"init")),e})]);var d=function(a,d){objj_msgSend(a._unnamedRegistry,"postNotification:",d);objj_msgSend(objj_msgSend(a._namedRegistries,"objectForKey:",objj_msgSend(d,"name")),"postNotification:",d)};c=objj_allocateClassPair(CPObject,"_CPNotificationRegistry");a=c.isa;class_addIvars(c,[new objj_ivar("_objectObservers"),new objj_ivar("_observerRemovalCount")]);
objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("init"),function(a){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPNotificationRegistry").super_class},"init"))_observerRemovalCount=0,_objectObservers=objj_msgSend(CPDictionary,"dictionary");return a}}),new objj_method(sel_getUid("addObserver:object:"),function(a,d,c,e){with(a)e||(e=objj_msgSend(CPNull,"null")),a=objj_msgSend(_objectObservers,"objectForKey:",objj_msgSend(e,"UID")),a||(a=[],objj_msgSend(_objectObservers,
"setObject:forKey:",a,objj_msgSend(e,"UID"))),a.push(c)}),new objj_method(sel_getUid("removeObserver:object:"),function(a,d,c,e){with(a){a=[];if(e==nil){e=nil;for(d=objj_msgSend(_objectObservers,"keyEnumerator");e=objj_msgSend(d,"nextObject");){for(var g=objj_msgSend(_objectObservers,"objectForKey:",e),h=g?g.length:0;h--;)objj_msgSend(g[h],"observer")==c&&(++_observerRemovalCount,g.splice(h,1));(!g||g.length==0)&&a.push(e)}}else{e=objj_msgSend(e,"UID");for(h=(g=objj_msgSend(_objectObservers,"objectForKey:",
e))?g.length:0;h--;)objj_msgSend(g[h],"observer")==c&&(++_observerRemovalCount,g.splice(h,1));(!g||g.length==0)&&a.push(e)}for(h=a.length;h--;)objj_msgSend(_objectObservers,"removeObjectForKey:",a[h])}}),new objj_method(sel_getUid("postNotification:"),function(a,d,c){with(a){a=_observerRemovalCount;var e=objj_msgSend(c,"object");d=nil;if(e!=nil&&(d=objj_msgSend(objj_msgSend(_objectObservers,"objectForKey:",objj_msgSend(e,"UID")),"copy"))){e=d;for(var g=d.length;g--;){var h=d[g];(a===_observerRemovalCount||
objj_msgSend(e,"indexOfObjectIdenticalTo:",h)!==CPNotFound)&&objj_msgSend(h,"postNotification:",c)}}d=objj_msgSend(objj_msgSend(_objectObservers,"objectForKey:",objj_msgSend(objj_msgSend(CPNull,"null"),"UID")),"copy");if(!d)return;a=_observerRemovalCount;g=d.length;for(e=d;g--;)h=d[g],(a===_observerRemovalCount||objj_msgSend(e,"indexOfObjectIdenticalTo:",h)!==CPNotFound)&&objj_msgSend(h,"postNotification:",c)}}),new objj_method(sel_getUid("count"),function(a){with(a)return objj_msgSend(_objectObservers,
"count")})]);c=objj_allocateClassPair(CPObject,"_CPNotificationObserver");a=c.isa;class_addIvars(c,[new objj_ivar("_observer"),new objj_ivar("_selector")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("initWithObserver:selector:"),function(a,d,c,e){with(a)return a&&(_observer=c,_selector=e),a}),new objj_method(sel_getUid("observer"),function(a){with(a)return _observer}),new objj_method(sel_getUid("postNotification:"),function(a,d,c){with(a)objj_msgSend(_observer,"performSelector:withObject:",
_selector,c)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPMenuItemView.j",baseURL),function(h,g){g("AppKit/CPControl.j",NO);g("_CPMenuItemSeparatorView.j",YES);g("_CPMenuItemStandardView.j",YES);g("_CPMenuItemMenuBarView.j",YES);var e=objj_allocateClassPair(CPView,"_CPMenuItemView"),c=e.isa;class_addIvars(e,[new objj_ivar("_menuItem"),new objj_ivar("_view"),new objj_ivar("_font"),new objj_ivar("_textColor"),new objj_ivar("_textShadowColor"),new objj_ivar("_minSize"),new objj_ivar("_isDirty"),
new objj_ivar("_showsStateColumn"),new objj_ivar("_imageAndTextView"),new objj_ivar("_submenuView")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithFrame:forMenuItem:"),function(a,d,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuItemView").super_class},"initWithFrame:",b))_menuItem=c,_isDirty=_showsStateColumn=YES,objj_msgSend(a,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(a,"synchronizeWithMenuItem");return a}}),new objj_method(sel_getUid("minSize"),
function(a){with(a)return _minSize}),new objj_method(sel_getUid("setDirty"),function(a){with(a)_isDirty=YES}),new objj_method(sel_getUid("synchronizeWithMenuItem"),function(a){with(a){var d=objj_msgSend(_menuItem,"view");objj_msgSend(_menuItem,"isSeparatorItem")?objj_msgSend(_view,"isKindOfClass:",objj_msgSend(_CPMenuItemSeparatorView,"class"))||(objj_msgSend(_view,"removeFromSuperview"),_view=objj_msgSend(_CPMenuItemSeparatorView,"view")):d?_view!==d&&(objj_msgSend(_view,"removeFromSuperview"),_view=
d):(objj_msgSend(_menuItem,"menu")==objj_msgSend(CPApp,"mainMenu")?objj_msgSend(_view,"isKindOfClass:",objj_msgSend(_CPMenuItemMenuBarView,"class"))||(objj_msgSend(_view,"removeFromSuperview"),_view=objj_msgSend(_CPMenuItemMenuBarView,"view")):objj_msgSend(_view,"isKindOfClass:",objj_msgSend(_CPMenuItemStandardView,"class"))||(objj_msgSend(_view,"removeFromSuperview"),_view=objj_msgSend(_CPMenuItemStandardView,"view")),objj_msgSend(_view,"setMenuItem:",_menuItem));objj_msgSend(_view,"superview")!==
a&&objj_msgSend(a,"addSubview:",_view);objj_msgSend(_view,"respondsToSelector:",sel_getUid("update"))&&objj_msgSend(_view,"update");_minSize=objj_msgSend(_view,"frame").size;objj_msgSend(a,"setAutoresizesSubviews:",NO);objj_msgSend(a,"setFrameSize:",_minSize);objj_msgSend(a,"setAutoresizesSubviews:",YES)}}),new objj_method(sel_getUid("setShowsStateColumn:"),function(a,d,b){with(a)_showsStateColumn=b}),new objj_method(sel_getUid("highlight:"),function(a,d,b){with(a)objj_msgSend(_view,"respondsToSelector:",
sel_getUid("highlight:"))&&objj_msgSend(_view,"highlight:",b)}),new objj_method(sel_getUid("eventOnSubmenu:"),function(a,d,b){with(a){if(!objj_msgSend(_menuItem,"hasSubmenu"))return NO;return CGRectContainsPoint(objj_msgSend(_submenuView,"frame"),objj_msgSend(a,"convertPoint:fromView:",objj_msgSend(b,"locationInWindow"),nil))}}),new objj_method(sel_getUid("isHidden"),function(a){with(a)return objj_msgSend(_menuItem,"isHidden")}),new objj_method(sel_getUid("menuItem"),function(a){with(a)return _menuItem}),
new objj_method(sel_getUid("setFont:"),function(a,d,b){with(a){if(_font===b)return;_font=b;objj_msgSend(_view,"respondsToSelector:",sel_getUid("setFont:"))&&objj_msgSend(_view,"setFont:",b);objj_msgSend(a,"setDirty")}}),new objj_method(sel_getUid("setTextColor:"),function(a,d,b){with(a){if(_textColor==b)return;_textColor=b;objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(a,"textColor"));objj_msgSend(_submenuView,"setColor:",objj_msgSend(a,"textColor"))}}),new objj_method(sel_getUid("textColor"),
function(a){with(a)return nil}),new objj_method(sel_getUid("setTextShadowColor:"),function(a,d,b){with(a){if(_textShadowColor==b)return;_textShadowColor=b;objj_msgSend(_imageAndTextView,"setTextShadowColor:",objj_msgSend(a,"textShadowColor"))}}),new objj_method(sel_getUid("textShadowColor"),function(a){with(a)return objj_msgSend(_menuItem,"isEnabled")?_textShadowColor?_textShadowColor:objj_msgSend(CPColor,"colorWithWhite:alpha:",1,0.8):objj_msgSend(CPColor,"colorWithWhite:alpha:",0.8,0.8)})]);class_addMethods(c,
[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!=objj_msgSend(_CPMenuItemView,"class"))return;objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",95/255,131/255,185/255,1);objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",26/255,73/255,109/255,1);a=objj_msgSend(CPBundle,"bundleForClass:",a);objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPMenuItem/CPMenuItemOnState.png"),CGSizeMake(14,14));objj_msgSend(objj_msgSend(CPImage,
"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPMenuItem/CPMenuItemOnStateHighlighted.png"),CGSizeMake(14,14))}}),new objj_method(sel_getUid("leftMargin"),function(a){with(a)return 17})]);e=objj_allocateClassPair(CPView,"_CPMenuItemArrowView");c=e.isa;class_addIvars(e,[new objj_ivar("_color")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("setColor:"),function(a,d,b){with(a){if(_color==b)return;_color=b;objj_msgSend(a,"setNeedsDisplay:",YES)}}),
new objj_method(sel_getUid("drawRect:"),function(a){with(a)a=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort"),CGContextBeginPath(a),CGContextMoveToPoint(a,1,4),CGContextAddLineToPoint(a,9,4),CGContextAddLineToPoint(a,5,8),CGContextAddLineToPoint(a,1,4),CGContextClosePath(a),CGContextSetFillColor(a,_color),CGContextFillPath(a)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPAnimation.j",baseURL),function(h,g){g("Foundation/CPObject.j",NO);g("Foundation/CPTimer.j",NO);g("CAMediaTimingFunction.j",YES);CPAnimationEaseInOut=0;CPAnimationEaseIn=1;CPAnimationEaseOut=2;CPAnimationLinear=3;ACTUAL_FRAME_RATE=0;var e=objj_allocateClassPair(CPObject,"CPAnimation");class_addIvars(e,[new objj_ivar("_lastTime"),new objj_ivar("_duration"),new objj_ivar("_animationCurve"),new objj_ivar("_timingFunction"),new objj_ivar("_frameRate"),
new objj_ivar("_progress"),new objj_ivar("_delegate"),new objj_ivar("_timer")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithDuration:animationCurve:"),function(a,d,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPAnimation").super_class},"init"))_progress=0,_duration=MAX(0,b),_frameRate=60,objj_msgSend(a,"setAnimationCurve:",c);return a}}),new objj_method(sel_getUid("setAnimationCurve:"),function(a,d,b){with(a){switch(b){case CPAnimationEaseInOut:timingFunctionName=
kCAMediaTimingFunctionEaseInEaseOut;break;case CPAnimationEaseIn:timingFunctionName=kCAMediaTimingFunctionEaseIn;break;case CPAnimationEaseOut:timingFunctionName=kCAMediaTimingFunctionEaseOut;break;case CPAnimationLinear:timingFunctionName=kCAMediaTimingFunctionLinear;break;default:objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Invalid value provided for animation curve")}_animationCurve=b;_timingFunction=objj_msgSend(CAMediaTimingFunction,"functionWithName:",timingFunctionName)}}),
new objj_method(sel_getUid("animationCurve"),function(a){with(a)return _animationCurve}),new objj_method(sel_getUid("setDuration:"),function(a,d,b){with(a)b<0&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"aDuration can't be negative"),_duration=b}),new objj_method(sel_getUid("duration"),function(a){with(a)return _duration}),new objj_method(sel_getUid("setFrameRate:"),function(a,d,b){with(a)b<0&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"frameRate can't be negative"),
_frameRate=b}),new objj_method(sel_getUid("frameRate"),function(a){with(a)return _frameRate}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("setDelegate:"),function(a,d,b){with(a)_delegate=b}),new objj_method(sel_getUid("startAnimation"),function(a){with(a){if(_timer||_delegate&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("animationShouldStart:"))&&!objj_msgSend(_delegate,"animationShouldStart:",a))return;_progress===1&&(_progress=
0);ACTUAL_FRAME_RATE=0;_lastTime=new Date;_timer=objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:target:selector:userInfo:repeats:",0,a,sel_getUid("animationTimerDidFire:"),nil,YES)}}),new objj_method(sel_getUid("animationTimerDidFire:"),function(a){with(a){var d=new Date,b=MIN(1,objj_msgSend(a,"currentProgress")+(d-_lastTime)/(_duration*1E3));_lastTime=d;++ACTUAL_FRAME_RATE;objj_msgSend(a,"setCurrentProgress:",b);b===1&&(objj_msgSend(_timer,"invalidate"),_timer=nil,objj_msgSend(_delegate,"respondsToSelector:",
sel_getUid("animationDidEnd:"))&&objj_msgSend(_delegate,"animationDidEnd:",a))}}),new objj_method(sel_getUid("stopAnimation"),function(a){with(a){if(!_timer)return;objj_msgSend(_timer,"invalidate");_timer=nil;objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("animationDidStop:"))&&objj_msgSend(_delegate,"animationDidStop:",a)}}),new objj_method(sel_getUid("isAnimating"),function(a){with(a)return _timer}),new objj_method(sel_getUid("setCurrentProgress:"),function(a,d,b){with(a)_progress=b}),
new objj_method(sel_getUid("currentProgress"),function(a){with(a)return _progress}),new objj_method(sel_getUid("currentValue"),function(a){with(a){var d=objj_msgSend(a,"currentProgress");if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("animation:valueForProgress:")))return objj_msgSend(_delegate,"animation:valueForProgress:",a,d);a=[];var b=[];objj_msgSend(_timingFunction,"getControlPointAtIndex:values:",1,a);objj_msgSend(_timingFunction,"getControlPointAtIndex:values:",2,b);return c(d,
a[0],a[1],b[0],b[1],_duration)}})]);var c=c=function(a,d,b,c,e,g){var h=0,k=0,o=0,r=0,p=0,n=0;sampleCurveX=function(a){return((h*a+k)*a+o)*a};sampleCurveY=function(a){return((r*a+p)*a+n)*a};sampleCurveDerivativeX=function(a){return(3*h*a+2*k)*a+o};solveEpsilon=function(a){return 1/(200*a)};solve=function(a,b){return sampleCurveY(solveCurveX(a,b))};solveCurveX=function(a,b){var d,c,f=a,e;for(c=0;c<8;c++){e=sampleCurveX(f)-a;if(ABS(e)<b)return f;d=sampleCurveDerivativeX(f);if(ABS(d)<1.0E-6)break;f-=
e/d}d=0;c=1;f=a;if(f<d)return d;if(f>c)return c;for(;d<c;){e=sampleCurveX(f);if(ABS(e-a)<b)break;a>e?d=f:c=f;f=(c-d)*0.5+d}return f};o=3*d;k=3*(c-d)-o;h=1-o-k;n=3*b;p=3*(e-b)-n;r=1-n-p;return solve(a,solveEpsilon(g))}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPURLConnection.j",baseURL),function(h,g){g("CPData.j",YES);g("CPObject.j",YES);g("CPRunLoop.j",YES);g("CPURLRequest.j",YES);g("CPURLResponse.j",YES);var e=nil,c=objj_allocateClassPair(CPObject,"CPURLConnection"),a=c.isa;class_addIvars(c,[new objj_ivar("_request"),new objj_ivar("_delegate"),new objj_ivar("_isCanceled"),new objj_ivar("_isLocalFileConnection"),new objj_ivar("_HTTPRequest")]);objj_registerClassPair(c);class_addMethods(c,
[new objj_method(sel_getUid("initWithRequest:delegate:startImmediately:"),function(a,b,c,e,g){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPURLConnection").super_class},"init"))_request=c,_delegate=e,_isCanceled=NO,b=objj_msgSend(_request,"URL"),b=objj_msgSend(b,"scheme"),_isLocalFileConnection=b==="file"||(b==="http"||b==="https:")&&window.location&&(window.location.protocol==="file:"||window.location.protocol==="app:"),_HTTPRequest=new CFHTTPRequest,g&&objj_msgSend(a,"start");
return a}}),new objj_method(sel_getUid("initWithRequest:delegate:"),function(a,b,c,e){with(a)return objj_msgSend(a,"initWithRequest:delegate:startImmediately:",c,e,YES)}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("start"),function(a){with(a){_isCanceled=NO;try{_HTTPRequest.open(objj_msgSend(_request,"HTTPMethod"),objj_msgSend(objj_msgSend(_request,"URL"),"absoluteString"),YES);_HTTPRequest.onreadystatechange=function(){objj_msgSend(a,"_readyStateDidChange")};
for(var b=objj_msgSend(_request,"allHTTPHeaderFields"),c=nil,e=objj_msgSend(b,"keyEnumerator");c=objj_msgSend(e,"nextObject");)_HTTPRequest.setRequestHeader(c,objj_msgSend(b,"objectForKey:",c));_HTTPRequest.send(objj_msgSend(_request,"HTTPBody"))}catch(g){objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("connection:didFailWithError:"))&&objj_msgSend(_delegate,"connection:didFailWithError:",a,g)}}}),new objj_method(sel_getUid("cancel"),function(a){with(a){_isCanceled=YES;try{_HTTPRequest.abort()}catch(b){}}}),
new objj_method(sel_getUid("isLocalFileConnection"),function(a){with(a)return _isLocalFileConnection}),new objj_method(sel_getUid("_readyStateDidChange"),function(a){with(a){if(_HTTPRequest.readyState()===CFHTTPRequest.CompleteState){var b=_HTTPRequest.status(),c=objj_msgSend(_request,"URL");b===401&&objj_msgSend(e,"respondsToSelector:",sel_getUid("connectionDidReceiveAuthenticationChallenge:"))?objj_msgSend(e,"connectionDidReceiveAuthenticationChallenge:",a):(objj_msgSend(_delegate,"respondsToSelector:",
sel_getUid("connection:didReceiveResponse:"))&&(_isLocalFileConnection?objj_msgSend(_delegate,"connection:didReceiveResponse:",a,objj_msgSend(objj_msgSend(CPURLResponse,"alloc"),"initWithURL:",c)):(c=objj_msgSend(objj_msgSend(CPHTTPURLResponse,"alloc"),"initWithURL:",c),objj_msgSend(c,"_setStatusCode:",b),objj_msgSend(_delegate,"connection:didReceiveResponse:",a,c))),_isCanceled||(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("connection:didReceiveData:"))&&objj_msgSend(_delegate,"connection:didReceiveData:",
a,_HTTPRequest.responseText()),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("connectionDidFinishLoading:"))&&objj_msgSend(_delegate,"connectionDidFinishLoading:",a)))}objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode)}}),new objj_method(sel_getUid("_HTTPRequest"),function(a){with(a)return _HTTPRequest})]);class_addMethods(a,[new objj_method(sel_getUid("setClassDelegate:"),function(a,b,c){with(a)e=c}),new objj_method(sel_getUid("sendSynchronousRequest:returningResponse:"),
function(a,b,c){with(a){try{var e=new CFHTTPRequest;e.open(objj_msgSend(c,"HTTPMethod"),objj_msgSend(objj_msgSend(c,"URL"),"absoluteString"),NO);var g=objj_msgSend(c,"allHTTPHeaderFields");a=nil;for(var h=objj_msgSend(g,"keyEnumerator");a=objj_msgSend(h,"nextObject");)e.setRequestHeader(a,objj_msgSend(g,"objectForKey:",a));e.send(objj_msgSend(c,"HTTPBody"));return objj_msgSend(CPData,"dataWithRawString:",e.responseText())}catch(k){}return nil}}),new objj_method(sel_getUid("connectionWithRequest:delegate:"),
function(a,b,c,e){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithRequest:delegate:",c,e)})]);c=objj_getClass("CPURLConnection");if(!c)throw new SyntaxError('*** Could not find definition for class "CPURLConnection"');a=c.isa;class_addMethods(c,[new objj_method(sel_getUid("_XMLHTTPRequest"),function(a,b){with(a)return _CPReportLenientDeprecation(a,b,sel_getUid("_HTTPRequest")),objj_msgSend(a,"_HTTPRequest")})]);class_addMethods(a,[new objj_method(sel_getUid("sendSynchronousRequest:returningResponse:error:"),
function(a,b,c,e){with(a)return _CPReportLenientDeprecation(a,b,sel_getUid("sendSynchronousRequest:returningResponse:")),objj_msgSend(a,"sendSynchronousRequest:returningResponse:",c,e)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPDate.j",baseURL),function(h,g){g("CPObject.j",YES);g("CPString.j",YES);g("CPException.j",YES);var e=new Date(Date.UTC(2001,1,1,0,0,0,0)),c=objj_allocateClassPair(CPObject,"CPDate"),a=c.isa;objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("initWithTimeIntervalSinceNow:"),function(a,b,c){with(a)return a=new Date((new Date).getTime()+c*1E3)}),new objj_method(sel_getUid("initWithTimeIntervalSince1970:"),
function(a,b,c){with(a)return a=new Date(c*1E3)}),new objj_method(sel_getUid("initWithTimeIntervalSinceReferenceDate:"),function(a,b,c){with(a)return a=objj_msgSend(a,"initWithTimeInterval:sinceDate:",c,e)}),new objj_method(sel_getUid("initWithTimeInterval:sinceDate:"),function(a,b,c,e){with(a)return a=new Date(e.getTime()+c*1E3)}),new objj_method(sel_getUid("initWithString:"),function(a,b,c){with(a)return a=c.match(RegExp(/(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2}) ([-+])(\d{2})(\d{2})/)),(!a||
a.length!=10)&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"initWithString: the string must be in YYYY-MM-DD HH:MM:SS HHMM format"),b=new Date(a[1],a[2]-1,a[3]),c=(Number(a[8])*60+Number(a[9]))*(a[7]==="-"?1:-1),b.setHours(a[4]),b.setMinutes(a[5]),b.setSeconds(a[6]),a=new Date(b.getTime()+(c-b.getTimezoneOffset())*6E4)}),new objj_method(sel_getUid("timeIntervalSinceDate:"),function(a,b,c){with(a)return(a.getTime()-c.getTime())/1E3}),new objj_method(sel_getUid("timeIntervalSinceNow"),
function(a){with(a)return objj_msgSend(a,"timeIntervalSinceDate:",objj_msgSend(CPDate,"date"))}),new objj_method(sel_getUid("timeIntervalSince1970"),function(a){with(a)return a.getTime()/1E3}),new objj_method(sel_getUid("timeIntervalSinceReferenceDate"),function(a){with(a)return(a.getTime()-e.getTime())/1E3}),new objj_method(sel_getUid("isEqual:"),function(a,b,c){with(a){if(a===c)return YES;if(!c||!objj_msgSend(c,"isKindOfClass:",objj_msgSend(CPDate,"class")))return NO;return objj_msgSend(a,"isEqualToDate:",
c)}}),new objj_method(sel_getUid("isEqualToDate:"),function(a,b,c){with(a){if(!c)return NO;return!(a<c||a>c)}}),new objj_method(sel_getUid("compare:"),function(a,b,c){with(a)return a>c?CPOrderedDescending:a<c?CPOrderedAscending:CPOrderedSame}),new objj_method(sel_getUid("earlierDate:"),function(a,b,c){with(a)return a<c?a:c}),new objj_method(sel_getUid("laterDate:"),function(a,b,c){with(a)return a>c?a:c}),new objj_method(sel_getUid("description"),function(a){with(a)return objj_msgSend(CPString,"stringWithFormat:",
"%04d-%02d-%02d %02d:%02d:%02d %s",a.getFullYear(),a.getMonth()+1,a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),objj_msgSend(CPDate,"timezoneOffsetString:",a.getTimezoneOffset()))}),new objj_method(sel_getUid("copy"),function(a){with(a)return new Date(a.getTime())})]);class_addMethods(a,[new objj_method(sel_getUid("alloc"),function(a){with(a){var b=new Date;b.isa=objj_msgSend(a,"class");return b}}),new objj_method(sel_getUid("date"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),
"init")}),new objj_method(sel_getUid("dateWithTimeIntervalSinceNow:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(CPDate,"alloc"),"initWithTimeIntervalSinceNow:",c)}),new objj_method(sel_getUid("dateWithTimeIntervalSince1970:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(CPDate,"alloc"),"initWithTimeIntervalSince1970:",c)}),new objj_method(sel_getUid("dateWithTimeIntervalSinceReferenceDate:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(CPDate,"alloc"),"initWithTimeIntervalSinceReferenceDate:",
c)}),new objj_method(sel_getUid("distantPast"),function(a){with(a)return new Date(-1E4,1,1,0,0,0,0)}),new objj_method(sel_getUid("distantFuture"),function(a){with(a)return new Date(1E4,1,1,0,0,0,0)}),new objj_method(sel_getUid("timeIntervalSinceReferenceDate"),function(a){with(a)return objj_msgSend(objj_msgSend(CPDate,"date"),"timeIntervalSinceReferenceDate")}),new objj_method(sel_getUid("timezoneOffsetString:"),function(a,b,c){with(a)return c=-c,b=(a=c>=0)?FLOOR(c/60):CEIL(c/60),c-=b*60,objj_msgSend(CPString,
"stringWithFormat:","%s%02d%02d",a?"+":"-",ABS(b),ABS(c))})]);c=objj_getClass("CPDate");if(!c)throw new SyntaxError('*** Could not find definition for class "CPDate"');a=c.isa;class_addMethods(c,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,c){with(a)return a&&a.setTime(objj_msgSend(c,"decodeIntForKey:","CPDateTimeKey")),a}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,c){with(a)objj_msgSend(c,"encodeInt:forKey:",a.getTime(),"CPDateTimeKey")})]);Date.prototype.isa=CPDate});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPValueTransformer.j",baseURL),function(h,g){g("CPData.j",YES);g("CPDictionary.j",YES);g("CPException.j",YES);g("CPKeyedArchiver.j",YES);g("CPKeyedUnarchiver.j",YES);g("CPNumber.j",YES);g("CPObject.j",YES);var e=objj_msgSend(CPDictionary,"dictionary"),c=objj_allocateClassPair(CPObject,"CPValueTransformer"),a=c.isa;objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("reverseTransformedValue:"),function(a,
b,c){with(a)return objj_msgSend(objj_msgSend(a,"class"),"allowsReverseTransformation")||objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,a+" is not reversible."),objj_msgSend(a,"transformedValue:",c)}),new objj_method(sel_getUid("transformedValue:"),function(a){with(a)return nil})]);class_addMethods(a,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!==objj_msgSend(CPValueTransformer,"class"))return;objj_msgSend(CPValueTransformer,"setValueTransformer:forName:",
objj_msgSend(objj_msgSend(CPNegateBooleanTransformer,"alloc"),"init"),CPNegateBooleanTransformerName);objj_msgSend(CPValueTransformer,"setValueTransformer:forName:",objj_msgSend(objj_msgSend(CPIsNilTransformer,"alloc"),"init"),CPIsNilTransformerName);objj_msgSend(CPValueTransformer,"setValueTransformer:forName:",objj_msgSend(objj_msgSend(CPIsNotNilTransformer,"alloc"),"init"),CPIsNotNilTransformerName);objj_msgSend(CPValueTransformer,"setValueTransformer:forName:",objj_msgSend(objj_msgSend(CPUnarchiveFromDataTransformer,
"alloc"),"init"),CPUnarchiveFromDataTransformerName)}}),new objj_method(sel_getUid("setValueTransformer:forName:"),function(a,b,c,g){with(a)objj_msgSend(e,"setObject:forKey:",c,g)}),new objj_method(sel_getUid("valueTransformerForName:"),function(a,b,c){with(a)return objj_msgSend(e,"objectForKey:",c)}),new objj_method(sel_getUid("valueTransformerNames"),function(a){with(a)return objj_msgSend(e,"allKeys")}),new objj_method(sel_getUid("allowsReverseTransformation"),function(a){with(a)return NO}),new objj_method(sel_getUid("transformedValueClass"),
function(a){with(a)return objj_msgSend(CPObject,"class")})]);c=objj_allocateClassPair(CPValueTransformer,"CPNegateBooleanTransformer");a=c.isa;objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("reverseTransformedValue:"),function(a,b,c){with(a)return!objj_msgSend(c,"boolValue")}),new objj_method(sel_getUid("transformedValue:"),function(a,b,c){with(a)return!objj_msgSend(c,"boolValue")})]);class_addMethods(a,[new objj_method(sel_getUid("allowsReverseTransformation"),function(a){with(a)return YES}),
new objj_method(sel_getUid("transformedValueClass"),function(a){with(a)return objj_msgSend(CPNumber,"class")})]);c=objj_allocateClassPair(CPValueTransformer,"CPIsNilTransformer");a=c.isa;objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("transformedValue:"),function(a,b,c){with(a)return c===nil||c===void 0})]);class_addMethods(a,[new objj_method(sel_getUid("allowsReverseTransformation"),function(a){with(a)return NO}),new objj_method(sel_getUid("transformedValueClass"),function(a){with(a)return objj_msgSend(CPNumber,
"class")})]);c=objj_allocateClassPair(CPValueTransformer,"CPIsNotNilTransformer");a=c.isa;objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("transformedValue:"),function(a,b,c){with(a)return c!==nil&&c!==void 0})]);class_addMethods(a,[new objj_method(sel_getUid("allowsReverseTransformation"),function(a){with(a)return NO}),new objj_method(sel_getUid("transformedValueClass"),function(a){with(a)return objj_msgSend(CPNumber,"class")})]);c=objj_allocateClassPair(CPValueTransformer,
"CPUnarchiveFromDataTransformer");a=c.isa;objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("reverseTransformedValue:"),function(a,b,c){with(a)return objj_msgSend(CPKeyedArchiver,"archivedDataWithRootObject:",c)}),new objj_method(sel_getUid("transformedValue:"),function(a,b,c){with(a)return objj_msgSend(CPKeyedUnarchiver,"unarchiveObjectWithData:",c)})]);class_addMethods(a,[new objj_method(sel_getUid("allowsReverseTransformation"),function(a){with(a)return YES}),new objj_method(sel_getUid("transformedValueClass"),
function(a){with(a)return objj_msgSend(CPData,"class")})]);CPNegateBooleanTransformerName="CPNegateBoolean";CPIsNilTransformerName="CPIsNil";CPIsNotNilTransformerName="CPIsNotNil";CPUnarchiveFromDataTransformerName="CPUnarchiveFromData";CPKeyedUnarchiveFromDataTransformerName="CPKeyedUnarchiveFromData"});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPCompatibility.j",baseURL),function(h,g){g("CPEvent.j",YES);g("CPPlatform.j",YES);CPUnknownBrowserEngine=0;CPGeckoBrowserEngine=1;CPInternetExplorerBrowserEngine=2;CPKHTMLBrowserEngine=3;CPOperaBrowserEngine=4;CPWebKitBrowserEngine=5;CPMacOperatingSystem=0;CPWindowsOperatingSystem=1;CPOtherOperatingSystem=2;CPCSSRGBAFeature=32;CPHTMLCanvasFeature=64;CPHTMLContentEditableFeature=128;CPHTMLDragAndDropFeature=256;CPJavaScriptInnerTextFeature=
512;CPJavaScriptTextContentFeature=1024;CPJavaScriptClipboardEventsFeature=2048;CPJavaScriptClipboardAccessFeature=4096;CPJavaScriptCanvasDrawFeature=8192;CPJavaScriptCanvasTransformFeature=16384;CPVMLFeature=32768;CPJavaScriptRemedialKeySupport=65536;CPJavaScriptShadowFeature=1048576;CPJavaScriptNegativeMouseWheelValues=4194304;CPJavaScriptMouseWheelValues_8_15=8388608;CPOpacityRequiresFilterFeature=16777216;CPInputTypeCanBeChangedFeature=33554432;CPHTML5DragAndDropSourceYOffBy1=67108864;CPSOPDisabledFromFileURLs=
134217728;var e="",c=CPUnknownBrowserEngine,a=0;a|=CPInputTypeCanBeChangedFeature;if(typeof window!=="undefined"&&typeof window.navigator!=="undefined")e=window.navigator.userAgent;if(typeof window!=="undefined"&&window.opera)c=CPOperaBrowserEngine,a|=CPJavaScriptCanvasDrawFeature;else if(typeof window!=="undefined"&&window.attachEvent)c=CPInternetExplorerBrowserEngine,a|=CPVMLFeature,a|=CPJavaScriptRemedialKeySupport,a|=CPJavaScriptShadowFeature,a|=CPOpacityRequiresFilterFeature,a&=~CPInputTypeCanBeChangedFeature;
else if(e.indexOf("AppleWebKit/")!=-1){c=CPWebKitBrowserEngine;a|=CPCSSRGBAFeature;a|=CPHTMLContentEditableFeature;e.indexOf("Chrome")===-1&&(a|=CPHTMLDragAndDropFeature);a|=CPJavaScriptClipboardEventsFeature;a|=CPJavaScriptClipboardAccessFeature;a|=CPJavaScriptShadowFeature;var d=e.indexOf("AppleWebKit/")+12,b=e.indexOf(" ",d);b=e.substring(d,b);var f=b.indexOf(".");d=parseInt(b.substring(0,f));b=parseInt(b.substr(f+1));if(e.indexOf("Safari")!==CPNotFound&&(d>525||d===525&&b>14)||e.indexOf("Chrome")!==
CPNotFound)a|=CPJavaScriptRemedialKeySupport;objj_msgSend(CPPlatform,"isBrowser")||(a|=CPJavaScriptRemedialKeySupport);if(d<532||d===532&&b<6)a|=CPHTML5DragAndDropSourceYOffBy1;e.indexOf("Chrome")===CPNotFound&&(a|=CPSOPDisabledFromFileURLs)}else e.indexOf("KHTML")!=-1?c=CPKHTMLBrowserEngine:e.indexOf("Gecko")!==-1&&(c=CPGeckoBrowserEngine,a|=CPJavaScriptCanvasDrawFeature,d=e.indexOf("Firefox"),d=d===-1?2:parseFloat(e.substring(d+7+1)),d>=3&&(a|=CPCSSRGBAFeature),d<3&&(a|=CPJavaScriptMouseWheelValues_8_15));
if(typeof document!="undefined"){if((d=document.createElement("canvas"))&&d.getContext)a|=CPHTMLCanvasFeature,(d=document.createElement("canvas").getContext("2d"))&&d.setTransform&&d.transform&&(a|=CPJavaScriptCanvasTransformFeature);d=document.createElement("div");d.innerText!=void 0?a|=CPJavaScriptInnerTextFeature:d.textContent!=void 0&&(a|=CPJavaScriptTextContentFeature)}CPFeatureIsCompatible=function(b){return a&b};CPBrowserIsEngine=function(a){return c===a};CPBrowserIsOperatingSystem=function(a){return OPERATING_SYSTEM===
a};OPERATING_SYSTEM=CPOtherOperatingSystem;e.indexOf("Mac")!==-1?(OPERATING_SYSTEM=CPMacOperatingSystem,CPPlatformActionKeyMask=CPCommandKeyMask,CPUndoKeyEquivalent="z",CPRedoKeyEquivalent="Z",CPRedoKeyEquivalentModifierMask=CPUndoKeyEquivalentModifierMask=CPCommandKeyMask):(e.indexOf("Windows")!==-1&&(OPERATING_SYSTEM=CPWindowsOperatingSystem),CPPlatformActionKeyMask=CPControlKeyMask,CPUndoKeyEquivalent="z",CPRedoKeyEquivalent="y",CPRedoKeyEquivalentModifierMask=CPUndoKeyEquivalentModifierMask=CPControlKeyMask)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPGeometry.j",baseURL),function(h,g){g("CGGeometry.j",YES);CPMinXEdge=0;CPMinYEdge=1;CPMaxXEdge=2;CPMaxYEdge=3;CPMakePoint=CGPointMake;CPMakeSize=CGSizeMake;CPMakeRect=CGRectMake;CPPointCreateCopy=function(e){return{x:e.x,y:e.y}};CPPointMake=function(e,c){return{x:e,y:c}};CPRectInset=function(e,c,a){return CPRectMake(e.origin.x+c,e.origin.y+a,e.size.width-2*c,e.size.height-2*a)};CPRectIntegral=function(){alert("CPRectIntegral unimplemented")};
CPRectIntersection=function(e,c){var a=CPRectMake(Math.max(CPRectGetMinX(e),CPRectGetMinX(c)),Math.max(CPRectGetMinY(e),CPRectGetMinY(c)),0,0);a.size.width=Math.min(CPRectGetMaxX(e),CPRectGetMaxX(c))-CPRectGetMinX(a);a.size.height=Math.min(CPRectGetMaxY(e),CPRectGetMaxY(c))-CPRectGetMinY(a);return CPRectIsEmpty(a)?CPRectMakeZero():a};CPRectCreateCopy=function(e){return{origin:CPPointCreateCopy(e.origin),size:CPSizeCreateCopy(e.size)}};CPRectMake=function(e,c,a,d){return{origin:CPPointMake(e,c),size:CPSizeMake(a,
d)}};CPRectOffset=function(e,c,a){return CPRectMake(e.origin.x+c,e.origin.y+a,e.size.width,e.size.height)};CPRectStandardize=function(e){var c=CPRectGetWidth(e),a=CPRectGetHeight(e);e=CPRectCreateCopy(e);if(c<0)e.origin.x+=c,e.size.width=-c;if(a<0)e.origin.y+=a,e.size.height=-a;return e};CPRectUnion=function(e,c){var a=Math.min(CPRectGetMinX(e),CPRectGetMinX(c)),d=Math.min(CPRectGetMinY(e),CPRectGetMinY(c)),b=Math.max(CPRectGetMaxX(e),CPRectGetMaxX(c)),f=Math.max(CPRectGetMaxY(e),CPRectGetMaxY(c));
return CPRectMake(a,d,b-a,f-d)};CPSizeCreateCopy=function(e){return{width:e.width,height:e.height}};CPSizeMake=function(e,c){return{width:e,height:c}};CPRectContainsPoint=function(e,c){return c.x>=CPRectGetMinX(e)&&c.y>=CPRectGetMinY(e)&&c.x<CPRectGetMaxX(e)&&c.y<CPRectGetMaxY(e)};CPRectContainsRect=function(e,c){return CGRectContainsRect(e,c)};CPPointEqualToPoint=function(e,c){return e.x==c.x&&e.y==c.y};CPRectEqualToRect=function(e,c){return CPPointEqualToPoint(e.origin,c.origin)&&CPSizeEqualToSize(e.size,
c.size)};CPRectGetHeight=function(e){return e.size.height};CPRectGetMaxX=function(e){return e.origin.x+e.size.width};CPRectGetMaxY=function(e){return e.origin.y+e.size.height};CPRectGetMidX=function(e){return e.origin.x+e.size.width/2};CPRectGetMidY=function(e){return e.origin.y+e.size.height/2};CPRectGetMinX=function(e){return e.origin.x};CPRectGetMinY=function(e){return e.origin.y};CPRectGetWidth=function(e){return e.size.width};CPRectIntersectsRect=function(e,c){return!CPRectIsEmpty(CPRectIntersection(e,
c))};CPRectIsEmpty=function(e){return e.size.width<=0||e.size.height<=0};CPRectIsNull=function(e){return e.size.width<=0||e.size.height<=0};CPDivideRect=function(e,c,a,d,b){CGRectDivide(e,c,a,d,b)};CPSizeEqualToSize=function(e,c){return e.width==c.width&&e.height==c.height};CPStringFromPoint=function(e){return"{"+e.x+", "+e.y+"}"};CPStringFromSize=function(e){return"{"+e.width+", "+e.height+"}"};CPStringFromRect=function(e){return"{"+CPStringFromPoint(e.origin)+", "+CPStringFromSize(e.size)+"}"};
CPPointFromString=function(e){var c=e.indexOf(",");return{x:parseFloat(e.substr(1,c-1),10),y:parseFloat(e.substring(c+1,e.length),10)}};CPSizeFromString=function(e){var c=e.indexOf(",");return{width:parseFloat(e.substr(1,c-1),10),height:parseFloat(e.substring(c+1,e.length),10)}};CPRectFromString=function(e){var c=e.indexOf(",",e.indexOf(",")+1);return{origin:CPPointFromString(e.substr(1,c-1)),size:CPSizeFromString(e.substring(c+2,e.length))}};CPPointFromEvent=function(e){return CPPointMake(e.clientX,
e.clientY,0)};CPSizeMakeZero=function(){return CPSizeMake(0,0)};CPRectMakeZero=function(){return CPRectMake(0,0,0,0)};CPPointMakeZero=function(){return CPPointMake(0,0,0)}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CGColorSpace.j",baseURL),function(){kCGColorSpaceModelUnknown=-1;kCGColorSpaceModelMonochrome=0;kCGColorSpaceModelRGB=1;kCGColorSpaceModelCMYK=2;kCGColorSpaceModelLab=3;kCGColorSpaceModelDeviceN=4;kCGColorSpaceModelIndexed=5;kCGColorSpaceModelPattern=6;kCGColorSpaceGenericGray="CGColorSpaceGenericGray";kCGColorSpaceGenericRGB="CGColorSpaceGenericRGB";kCGColorSpaceGenericCMYK="CGColorSpaceGenericCMYK";kCGColorSpaceGenericRGBLinear=
"CGColorSpaceGenericRGBLinear";kCGColorSpaceGenericRGBHDR="CGColorSpaceGenericRGBHDR";kCGColorSpaceAdobeRGB1998="CGColorSpaceAdobeRGB1998";kCGColorSpaceSRGB="CGColorSpaceSRGB";var h={};CGColorSpaceCreateCalibratedGray=function(){return{model:kCGColorSpaceModelMonochrome,count:1,base:NULL}};CGColorSpaceCreateCalibratedRGB=function(){return{model:kCGColorSpaceModelRGB,count:1,base:NULL}};CGColorSpaceCreateICCBased=function(){return NULL};CGColorSpaceCreateLab=function(){return NULL};CGColorSpaceCreateDeviceCMYK=
function(){return CGColorSpaceCreateWithName(kCGColorSpaceGenericCMYK)};CGColorSpaceCreateDeviceGray=function(){return CGColorSpaceCreateWithName(kCGColorSpaceGenericGray)};CGColorSpaceCreateDeviceRGB=function(){return CGColorSpaceCreateWithName(kCGColorSpaceGenericRGB)};CGColorSpaceCreateWithPlatformColorSpace=function(){return NULL};CGColorSpaceCreateIndexed=function(){return NULL};CGColorSpaceCreatePattern=function(g){if(g)return{model:kCGColorSpaceModelPattern,count:g.count,base:g};return{model:kCGColorSpaceModelPattern,
count:0,base:NULL}};CGColorSpaceCreateWithName=function(g){var e=h[g];if(e)return e;switch(g){case kCGColorSpaceGenericGray:return h[g]={model:kCGColorSpaceModelMonochrome,count:1,base:NULL};case kCGColorSpaceGenericRGB:return h[g]={model:kCGColorSpaceModelRGB,count:3,base:NULL};case kCGColorSpaceGenericCMYK:return h[g]={model:kCGColorSpaceModelCMYK,count:4,base:NULL};case kCGColorSpaceGenericRGBLinear:return h[g]={model:kCGColorSpaceModelRGB,count:3,base:NULL};case kCGColorSpaceGenericRGBHDR:return h[g]=
{model:kCGColorSpaceModelRGB,count:3,base:NULL};case kCGColorSpaceAdobeRGB1998:return h[g]={model:kCGColorSpaceModelRGB,count:3,base:NULL};case kCGColorSpaceSRGB:return h[g]={model:kCGColorSpaceModelRGB,count:3,base:NULL}}return NULL};CGColorSpaceCopyICCProfile=function(){return NULL};CGColorSpaceGetNumberOfComponents=function(g){return g.count};CGColorSpaceGetTypeID=function(){};CGColorSpaceGetModel=function(g){return g.model};CGColorSpaceGetBaseColorSpace=function(){};CGColorSpaceGetColorTableCount=
function(){};CGColorSpaceGetColorTable=function(){};CGColorSpaceRelease=function(){};CGColorSpaceRetain=function(g){return g};CGColorSpaceStandardizeComponents=function(g,e){var c=g.count;if(c>e.length)e[c]=1;else{var a=e[c];e[c]=a<0?0:a>1?1:ROUND(a*1E3)/1E3;if(g.base)g=g.base;switch(g.model){case kCGColorSpaceModelMonochrome:case kCGColorSpaceModelRGB:case kCGColorSpaceModelCMYK:case kCGColorSpaceModelDeviceN:for(;c--;){if(c>e.length){e[c]=1;break}a=e[c];e[c]=a<0?0:a>1?1:ROUND(a*255)/255}}}}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPSortDescriptor.j",baseURL),function(h,g){g("CPObject.j",YES);g("CPObjJRuntime.j",YES);g("CPString.j",YES);var e=objj_allocateClassPair(CPObject,"CPSortDescriptor"),c=e.isa;class_addIvars(e,[new objj_ivar("_key"),new objj_ivar("_selector"),new objj_ivar("_ascending")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithKey:ascending:"),function(a,c,b,f){with(a)return objj_msgSend(a,"initWithKey:ascending:selector:",
b,f,sel_getUid("compare:"))}),new objj_method(sel_getUid("initWithKey:ascending:selector:"),function(a,c,b,f,e){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPSortDescriptor").super_class},"init"))_key=b,_ascending=f,_selector=e;return a}}),new objj_method(sel_getUid("ascending"),function(a){with(a)return _ascending}),new objj_method(sel_getUid("key"),function(a){with(a)return _key}),new objj_method(sel_getUid("selector"),function(a){with(a)return _selector}),new objj_method(sel_getUid("compareObject:withObject:"),
function(a,c,b,f){with(a)return(_ascending?1:-1)*objj_msgSend(objj_msgSend(b,"valueForKeyPath:",_key),"performSelector:withObject:",_selector,objj_msgSend(f,"valueForKeyPath:",_key))}),new objj_method(sel_getUid("reversedSortDescriptor"),function(a){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,"class"),"alloc"),"initWithKey:ascending:selector:",_key,!_ascending,_selector)}),new objj_method(sel_getUid("description"),function(a){with(a)return objj_msgSend(CPString,"stringWithFormat:","(%@, %@, %@)",
objj_msgSend(a,"key"),objj_msgSend(a,"ascending")?"ascending":"descending",CPStringFromSelector(objj_msgSend(a,"selector")))})]);class_addMethods(c,[new objj_method(sel_getUid("sortDescriptorWithKey:ascending:"),function(a,c,b,f){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithKey:ascending:",b,f)}),new objj_method(sel_getUid("sortDescriptorWithKey:ascending:selector:"),function(a,c,b,f,e){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithKey:ascending:selector:",b,f,e)})]);
e=objj_getClass("CPSortDescriptor");if(!e)throw new SyntaxError('*** Could not find definition for class "CPSortDescriptor"');c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("initWithCoder:"),function(a,c,b){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPSortDescriptor").super_class},"init"))_key=objj_msgSend(b,"decodeObjectForKey:","CPSortDescriptorKeyKey"),_ascending=objj_msgSend(b,"decodeBoolForKey:","CPSortDescriptorAscendingKey"),_selector=CPSelectorFromString(objj_msgSend(b,
"decodeObjectForKey:","CPSortDescriptorSelectorKey"));return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,c,b){with(a)objj_msgSend(b,"encodeObject:forKey:",_key,"CPSortDescriptorKeyKey"),objj_msgSend(b,"encodeBool:forKey:",_ascending,"CPSortDescriptorAscendingKey"),objj_msgSend(b,"encodeObject:forKey:",CPStringFromSelector(_selector),"CPSortDescriptorSelectorKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPMutableSet.j",baseURL),function(h,g){g("CPSet.j",YES);var e=objj_allocateClassPair(CPSet,"CPMutableSet"),c=e.isa;objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithCapacity:"),function(a){with(a)return objj_msgSend(a,"init")}),new objj_method(sel_getUid("filterUsingPredicate:"),function(a,c,b){with(a)for(var f=objj_msgSend(a,"objectEnumerator");(c=objj_msgSend(f,"nextObject"))!==nil;)objj_msgSend(b,
"evaluateWithObject:",c)||objj_msgSend(a,"removeObject:",c)}),new objj_method(sel_getUid("removeObject:"),function(a,c){with(a)_CPRaiseInvalidAbstractInvocation(a,c)}),new objj_method(sel_getUid("removeObjectsInArray:"),function(a,c,b){with(a){c=0;for(var f=objj_msgSend(b,"count");c<f;++c)objj_msgSend(a,"removeObject:",objj_msgSend(b,"objectAtIndex:",c))}}),new objj_method(sel_getUid("removeAllObjects"),function(a){with(a)for(var c,b=objj_msgSend(a,"objectEnumerator");(c=objj_msgSend(b,"nextObject"))!==
nil;)objj_msgSend(a,"removeObject:",c)}),new objj_method(sel_getUid("addObjectsFromArray:"),function(a,c,b){with(a)for(c=objj_msgSend(b,"count");c--;)objj_msgSend(a,"addObject:",b[c])}),new objj_method(sel_getUid("unionSet:"),function(a,c,b){with(a)for(b=objj_msgSend(b,"objectEnumerator");(c=objj_msgSend(b,"nextObject"))!==nil;)objj_msgSend(a,"addObject:",c)}),new objj_method(sel_getUid("minusSet:"),function(a,c,b){with(a)for(b=objj_msgSend(b,"objectEnumerator");(c=objj_msgSend(b,"nextObject"))!==
nil;)objj_msgSend(a,"removeObject:",c)}),new objj_method(sel_getUid("intersectSet:"),function(a,c,b){with(a){var f,e=objj_msgSend(a,"objectEnumerator");for(c=[];(f=objj_msgSend(e,"nextObject"))!==nil;)objj_msgSend(b,"containsObject:",f)||c.push(f);for(b=objj_msgSend(c,"count");b--;)objj_msgSend(a,"removeObject:",c[b])}}),new objj_method(sel_getUid("setSet:"),function(a,c,b){with(a)objj_msgSend(a,"removeAllObjects"),objj_msgSend(a,"unionSet:",b)})]);class_addMethods(c,[new objj_method(sel_getUid("setWithCapacity:"),
function(a,c,b){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithCapacity:",b)})]);g("_CPConcreteMutableSet.j",YES)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CGColor.j",baseURL),function(h,g){g("CGColorSpace.j",YES);var e=0;CFHashCode=function(a){if(!a.hash)a.hash=++e;return a};kCGColorWhite="kCGColorWhite";kCGColorBlack="kCGColorBlack";kCGColorClear="kCGColorClear";var c={};CGColorGetConstantColor=function(){alert("FIX ME")};CGColorRetain=function(a){return a};CGColorRelease=function(){};CGColorCreate=function(a,d){if(!a||!d)return NULL;d=d.slice();CGColorSpaceStandardizeComponents(a,
d);var b=CFHashCode(a)+d.join("");if(c[b])return c[b];return c[b]={colorspace:a,pattern:NULL,components:d}};CGColorCreateCopy=function(a){return a};CGColorCreateGenericGray=function(a,c){return CGColorCreate(CGColorSpaceCreateDeviceRGB(),[a,a,a,c])};CGColorCreateGenericRGB=function(a,c,b,f){return CGColorCreate(CGColorSpaceCreateDeviceRGB(),[a,c,b,f])};CGColorCreateGenericCMYK=function(a,c,b,f,e){return CGColorCreate(CGColorSpaceCreateDeviceCMYK(),[a,c,b,f,e])};CGColorCreateCopyWithAlpha=function(a,
c){if(!a)return a;var b=a.components.slice();if(c==b[b.length-1])return a;b[b.length-1]=c;return a.pattern?CGColorCreateWithPattern(a.colorspace,a.pattern,b):CGColorCreate(a.colorspace,b)};CGColorCreateWithPattern=function(a,c,b){if(!a||!c||!b)return NULL;return{colorspace:a,pattern:c,components:b.slice()}};CGColorEqualToColor=function(a,c){if(a==c)return!0;if(!a||!c)return!1;var b=a.components,e=c.components,g=b.length;if(g!=e.length)return!1;for(;g--;)if(b[g]!=e[g])return!1;if(a.pattern!=c.pattern)return!1;
if(CGColorSpaceEqualToColorSpace(a.colorspace,c.colorspace))return!1;return!0};CGColorGetAlpha=function(a){a=a.components;return a[a.length-1]};CGColorGetColorSpace=function(a){return a.colorspace};CGColorGetComponents=function(a){return a.components};CGColorGetNumberOfComponents=function(a){return a.components.length};CGColorGetPattern=function(a){return a.pattern}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPDOMWindowLayer.j",baseURL),function(h,g){g("Foundation/CPArray.j",NO);g("Foundation/CPObject.j",NO);var e=objj_allocateClassPair(CPObject,"CPDOMWindowLayer");class_addIvars(e,[new objj_ivar("_level"),new objj_ivar("_windows"),new objj_ivar("_DOMElement")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithLevel:"),function(c,a,d){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPDOMWindowLayer").super_class},
"init"))_level=d,_windows=[],_DOMElement=document.createElement("div"),_DOMElement.style.position="absolute",_DOMElement.style.top="0px",_DOMElement.style.left="0px",_DOMElement.style.width="1px",_DOMElement.style.height="1px";return c}}),new objj_method(sel_getUid("level"),function(c){with(c)return _level}),new objj_method(sel_getUid("removeWindow:"),function(c,a,d){with(c){if(!d._isVisible)return;c=d._index;a=_windows.length-1;_DOMElement.removeChild(d._DOMElement);for(objj_msgSend(_windows,"removeObjectAtIndex:",
d._index);c<a;++c)_windows[c]._index=c,_windows[c]._DOMElement.style.zIndex=c;d._isVisible=NO}}),new objj_method(sel_getUid("insertWindow:atIndex:"),function(c,a,d,b){with(c){c=objj_msgSend(_windows,"count");a=b==CPNotFound?c:b;d._isVisible?(a=MIN(a,d._index),objj_msgSend(_windows,"removeObjectAtIndex:",d._index)):++c;for(b==CPNotFound||b>=c?objj_msgSend(_windows,"addObject:",d):objj_msgSend(_windows,"insertObject:atIndex:",d,b);a<c;++a)_windows[a]._index=a,_windows[a]._DOMElement.style.zIndex=a;
if(d._DOMElement.parentNode!==_DOMElement)_DOMElement.appendChild(d._DOMElement),d._isVisible=YES,objj_msgSend(d,"isFullBridge")&&objj_msgSend(d,"setFrame:",objj_msgSend(d._platformWindow,"usableContentFrame"))}}),new objj_method(sel_getUid("orderedWindows"),function(c){with(c)return _windows})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/AppKit.j",baseURL),function(h,g){g("CPAlert.j",YES);g("CPAnimation.j",YES);g("CPApplication.j",YES);g("CPArrayController.j",YES);g("CPBox.j",YES);g("CPButton.j",YES);g("CPButtonBar.j",YES);g("CPCheckBox.j",YES);g("CPCib.j",YES);g("CPCibBindingConnector.j",YES);g("CPCibConnector.j",YES);g("CPCibControlConnector.j",YES);g("CPCibLoading.j",YES);g("CPCibOutletConnector.j",YES);g("CPClipView.j",YES);g("CPColor.j",YES);g("CPColorPanel.j",
YES);g("CPCompatibility.j",YES);g("CPControl.j",YES);g("CPCookie.j",YES);g("CPCursor.j",YES);g("CPDocument.j",YES);g("CPDocumentController.j",YES);g("CPEvent.j",YES);g("CPFont.j",YES);g("CPGeometry.j",YES);g("CPGraphics.j",YES);g("CPImage.j",YES);g("CPImageView.j",YES);g("CPKeyBinding.j",YES);g("CPMenu.j",YES);g("CPMenuItem.j",YES);g("CPOpenPanel.j",YES);g("CPPanel.j",YES);g("CPPasteboard.j",YES);g("CPPopUpButton.j",YES);g("CPRadio.j",YES);g("CPResponder.j",YES);g("CPScroller.j",YES);g("CPScrollView.j",
YES);g("CPShadow.j",YES);g("CPSlider.j",YES);g("CPSplitView.j",YES);g("CPTableColumn.j",YES);g("CPTableView.j",YES);g("CPText.j",YES);g("CPTextField.j",YES);g("CPToolbar.j",YES);g("CPToolbarItem.j",YES);g("CPView.j",YES);g("CPViewController.j",YES);g("CPWindow.j",YES);g("CPWindowController.j",YES)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPDocModalWindowView.j",baseURL),function(h,g){g("_CPWindowView.j",YES);var e=nil,c=objj_allocateClassPair(_CPWindowView,"_CPDocModalWindowView"),a=c.isa;class_addIvars(c,[new objj_ivar("_bodyView"),new objj_ivar("_shadowView")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("initWithFrame:styleMask:"),function(a,b,c,e){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPDocModalWindowView").super_class},
"initWithFrame:styleMask:",c,e))c=objj_msgSend(a,"class"),b=objj_msgSend(a,"bounds"),_bodyView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",{origin:{x:0,y:0},size:{width:b.size.width,height:b.size.height}}),objj_msgSend(_bodyView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),objj_msgSend(_bodyView,"setBackgroundColor:",objj_msgSend(c,"bodyBackgroundColor")),objj_msgSend(_bodyView,"setHitTests:",NO),objj_msgSend(a,"addSubview:",_bodyView),c=objj_msgSend(CPBundle,"bundleForClass:",
objj_msgSend(CPWindow,"class")),_shadowView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,0,b.size.width,8)),objj_msgSend(_shadowView,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(_shadowView,"setBackgroundColor:",objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(c,"pathForResource:","CPWindow/CPWindowAttachedSheetShadow.png"),CGSizeMake(9,8)))),objj_msgSend(a,"addSubview:",_shadowView);
return a}}),new objj_method(sel_getUid("contentRectForFrameRect:"),function(a,b,c){with(a)return c}),new objj_method(sel_getUid("frameRectForContentRect:"),function(a,b,c){with(a)return c})]);class_addMethods(a,[new objj_method(sel_getUid("bodyBackgroundColor"),function(a){with(a)return e||(e=objj_msgSend(CPColor,"colorWithWhite:alpha:",0.96,0.9)),e})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPCibCustomObject.j",baseURL),function(h,g){g("Foundation/CPObject.j",NO);var e=objj_allocateClassPair(CPObject,"_CPCibCustomObject");class_addIvars(e,[new objj_ivar("_className")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("customClassName"),function(c){with(c)return _className}),new objj_method(sel_getUid("setCustomClassName:"),function(c,a,d){with(c)_className=d}),new objj_method(sel_getUid("description"),
function(c){with(c)return objj_msgSendSuper({receiver:c,super_class:objj_getClass("_CPCibCustomObject").super_class},"description")+" ("+objj_msgSend(c,"customClassName")+")"})]);e=objj_getClass("_CPCibCustomObject");if(!e)throw new SyntaxError('*** Could not find definition for class "_CPCibCustomObject"');class_addMethods(e,[new objj_method(sel_getUid("initWithCoder:"),function(c,a,d){with(c)return(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("_CPCibCustomObject").super_class},"init"))&&
(_className=objj_msgSend(d,"decodeObjectForKey:","_CPCibCustomObjectClassName")),c}),new objj_method(sel_getUid("encodeWithCoder:"),function(c,a,d){with(c)objj_msgSend(d,"encodeObject:forKey:",_className,"_CPCibCustomObjectClassName")}),new objj_method(sel_getUid("_cibInstantiate"),function(c){with(c){var a=CPClassFromString(_className);if(a===objj_msgSend(c,"class"))return _className="CPObject",c;a||(a=objj_msgSend(CPObject,"class"));if(a===objj_msgSend(CPApplication,"class"))return objj_msgSend(CPApplication,
"sharedApplication");return objj_msgSend(objj_msgSend(a,"alloc"),"init")}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPCountedSet.j",baseURL),function(h,g){g("CPObject.j",YES);g("CPSet.j",YES);var e=objj_allocateClassPair(_CPConcreteMutableSet,"CPCountedSet");class_addIvars(e,[new objj_ivar("_counts")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("addObject:"),function(c,a,d){with(c)_counts||(_counts={}),objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPCountedSet").super_class},"addObject:",d),c=objj_msgSend(d,
"UID"),_counts[c]===void 0?_counts[c]=1:++_counts[c]}),new objj_method(sel_getUid("removeObject:"),function(c,a,d){with(c){if(!_counts)return;a=objj_msgSend(d,"UID");_counts[a]!==void 0&&(--_counts[a],_counts[a]===0&&(delete _counts[a],objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPCountedSet").super_class},"removeObject:",d)))}}),new objj_method(sel_getUid("removeAllObjects"),function(c){with(c)objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPCountedSet").super_class},"removeAllObjects"),
_counts={}}),new objj_method(sel_getUid("countForObject:"),function(c,a,d){with(c){_counts||(_counts={});c=objj_msgSend(d,"UID");if(_counts[c]===void 0)return 0;return _counts[c]}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPNotification.j",baseURL),function(h,g){g("CPException.j",YES);g("CPObject.j",YES);var e=objj_allocateClassPair(CPObject,"CPNotification"),c=e.isa;class_addIvars(e,[new objj_ivar("_name"),new objj_ivar("_object"),new objj_ivar("_userInfo")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("init"),function(a){with(a)objj_msgSend(CPException,"raise:reason:",CPUnsupportedMethodException,"CPNotification's init method should not be used")}),
new objj_method(sel_getUid("initWithName:object:userInfo:"),function(a,c,b,e,g){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPNotification").super_class},"init"))_name=b,_object=e,_userInfo=g;return a}}),new objj_method(sel_getUid("name"),function(a){with(a)return _name}),new objj_method(sel_getUid("object"),function(a){with(a)return _object}),new objj_method(sel_getUid("userInfo"),function(a){with(a)return _userInfo})]);class_addMethods(c,[new objj_method(sel_getUid("notificationWithName:object:userInfo:"),
function(a,c,b,e,g){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithName:object:userInfo:",b,e,g)}),new objj_method(sel_getUid("notificationWithName:object:"),function(a,c,b,e){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithName:object:userInfo:",b,e,nil)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPCibClassSwapper.j",baseURL),function(h,g){g("Foundation/CPObject.j",NO);g("Foundation/CPString.j",NO);var e=objj_allocateClassPair(CPObject,"_CPCibClassSwapper"),c=e.isa;objj_registerClassPair(e);class_addMethods(c,[new objj_method(sel_getUid("allocObjectWithCoder:className:"),function(a,c,b,e){with(a){a=objj_msgSend(b,"classForClassName:",e);if(!a&&(a=objj_lookUpClass(e),!a))return nil;return objj_msgSend(a,"alloc")}}),new objj_method(sel_getUid("allocWithCoder:"),
function(a,c,b){with(a){if(objj_msgSend(b,"respondsToSelector:",sel_getUid("usesOriginalClasses"))&&objj_msgSend(b,"usesOriginalClasses")){c=objj_msgSend(b,"decodeObjectForKey:","_CPCibClassSwapperOriginalClassNameKey");var e=objj_msgSend(a,"allocObjectWithCoder:className:",b,c)}else c=objj_msgSend(b,"decodeObjectForKey:","_CPCibClassSwapperClassNameKey"),e=objj_msgSend(a,"allocObjectWithCoder:className:",b,c),e||(CPLog.error("Unable to find class "+c+" in cib file."),e=objj_msgSend(a,"allocObjectWithCoder:className:",
b,objj_msgSend(b,"decodeObjectForKey:","_CPCibClassSwapperOriginalClassNameKey")));e||objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Unable to find class "+c+" in cib file.");return e}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPToolbarShowColorsItem.j",baseURL),function(h,g){g("CPApplication.j",YES);g("CPToolbarItem.j",YES);var e=objj_allocateClassPair(CPToolbarItem,"_CPToolbarShowColorsItem");objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithItemIdentifier:"),function(c){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("_CPToolbarShowColorsItem").super_class},"initWithItemIdentifier:",CPToolbarShowColorsItemIdentifier))objj_msgSend(c,
"setMinSize:",CGSizeMake(32,32)),objj_msgSend(c,"setMaxSize:",CGSizeMake(32,32)),objj_msgSend(c,"setLabel:","Colors"),objj_msgSend(c,"setPaletteLabel:","Show Colors"),objj_msgSend(c,"setTarget:",CPApp),objj_msgSend(c,"setAction:",sel_getUid("orderFrontColorPanel:")),objj_msgSend(c,"setImage:",objj_msgSend(CPImage,"imageNamed:",CPImageNameColorPanel)),objj_msgSend(c,"setAlternateImage:",objj_msgSend(CPImage,"imageNamed:",CPImageNameColorPanelHighlighted)),objj_msgSend(c,"setToolTip:","Show the Colors panel.");
return c}}),new objj_method(sel_getUid("initWithCoder:"),function(c){with(c)return objj_msgSend(c,"init")}),new objj_method(sel_getUid("encodeWithCoder:"),function(c){with(c);})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPStringDrawing.j",baseURL),function(h,g){g("Foundation/CPString.j",NO);g("CPPlatformString.j",YES);var e={};CPStringSizeCachingEnabled=YES;var c=objj_getClass("CPString");if(!c)throw new SyntaxError('*** Could not find definition for class "CPString"');var a=c.isa;class_addMethods(c,[new objj_method(sel_getUid("cssString"),function(a){with(a)return a}),new objj_method(sel_getUid("sizeWithFont:"),function(a,b,c){with(a)return objj_msgSend(a,
"sizeWithFont:inWidth:",c,NULL)}),new objj_method(sel_getUid("sizeWithFont:inWidth:"),function(a,b,c,g){with(a){if(!CPStringSizeCachingEnabled)return objj_msgSend(CPPlatformString,"sizeOfString:withFont:forWidth:",a,c,g);b=a+objj_msgSend(c,"cssString")+g;var h=e[b];h===void 0&&(h=objj_msgSend(CPPlatformString,"sizeOfString:withFont:forWidth:",a,c,g),e[b]=h);return CGSizeMakeCopy(h)}})]);class_addMethods(a,[new objj_method(sel_getUid("metricsOfFont:"),function(a,b,c){with(a)return objj_msgSend(CPPlatformString,
"metricsOfFont:",c)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPURLResponse.j",baseURL),function(h,g){g("CPObject.j",YES);g("CPURL.j",YES);var e=objj_allocateClassPair(CPObject,"CPURLResponse");class_addIvars(e,[new objj_ivar("_URL")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithURL:"),function(c,a,d){with(c)return(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPURLResponse").super_class},"init"))&&(_URL=d),c}),new objj_method(sel_getUid("URL"),
function(c){with(c)return _URL})]);e=objj_allocateClassPair(CPURLResponse,"CPHTTPURLResponse");class_addIvars(e,[new objj_ivar("_statusCode")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("_setStatusCode:"),function(c,a,d){with(c)_statusCode=d}),new objj_method(sel_getUid("statusCode"),function(c){with(c)return _statusCode})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPNull.j",baseURL),function(h,g){g("CPObject.j",YES);var e=nil,c=objj_allocateClassPair(CPObject,"CPNull"),a=c.isa;objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("isEqual:"),function(a,b,c){with(a){if(a===c)return YES;return objj_msgSend(c,"isKindOfClass:",objj_msgSend(CPNull,"class"))}}),new objj_method(sel_getUid("initWithCoder:"),function(a){with(a)return objj_msgSend(CPNull,"null")}),new objj_method(sel_getUid("encodeWithCoder:"),
function(a){with(a);})]);class_addMethods(a,[new objj_method(sel_getUid("null"),function(a){with(a)return e||(e=objj_msgSend(objj_msgSend(CPNull,"alloc"),"init")),e})])});CFHTTPRequest._cacheRequest(new CFURL("Frameworks/AppKit/Resources/Aristo.blend/Info.plist",baseURL),200,{},"280NPLIST;1.0;D;K;26;CPApplicationDelegateClassS;20;BKShowcaseControllerK;12;CPBundleNameS;12;Aristo.blendK;14;BKLearnMoreURLS;28;http://cappuccino.org/aristoK;22;BKLearnMoreButtonTitleS;16;Aristo Home PageK;16;CPPrincipalClassS;13;CPApplicationK;29;CPBundleInfoDictionaryVersiond;1;6K;18;CPBundleIdentifierS;21;com.280n.blend.AristoK;15;CPBundleVersionf;3;0.1K;19;CPBundlePackageTypeS;4;BLNDK;20;CPBundleEnvironmentsA;S;7;BrowserS;8;CommonJSE;K;18;CPBundleExecutableS;15;Aristo.blend.sjK;36;CPBundleEnvironmentsWithImageSpritesA;S;7;BrowserE;K;13;CPKeyedThemesA;S;17;Aristo.keyedthemeS;21;Aristo-HUD.keyedthemeE;E;\n");
CFHTTPRequest._cacheRequest(new CFURL("Info.plist",baseURL),200,{},"280NPLIST;1.0;D;K;23;Main cib file base nameS;12;MainMenu.cibK;12;CPBundleNameS;15;githubfollowersK;29;CPBundleInfoDictionaryVersiond;1;6K;18;CPBundleIdentifierS;31;com.yourcompany.githubfollowersK;15;CPBundleVersionS;3;1.0K;19;CPBundlePackageTypeS;4;APPLK;20;CPBundleEnvironmentsA;S;7;BrowserS;8;CommonJSE;K;18;CPBundleExecutableS;18;githubfollowers.sjK;36;CPBundleEnvironmentsWithImageSpritesA;S;7;BrowserE;K;17;CPApplicationSizeD;K;10;executabled;7;1705854K;4;datad;6;407422K;5;mhtmld;5;61460E;E;\n");
CFHTTPRequest._cacheRequest(new CFURL("Frameworks/Foundation/Info.plist",baseURL),200,{},"280NPLIST;1.0;D;K;18;CPBundleIdentifierS;19;com.280n.FoundationK;29;CPBundleInfoDictionaryVersiond;1;6K;12;CPBundleNameS;10;FoundationK;19;CPBundlePackageTypeS;4;FMWKK;15;CPBundleVersionS;5;0.9.1K;20;CPBundleEnvironmentsA;S;4;ObjJE;K;18;CPBundleExecutableS;13;Foundation.sjK;36;CPBundleEnvironmentsWithImageSpritesA;E;E;\n");
CFHTTPRequest._cacheRequest(new CFURL("Frameworks/GRKit/Browser.environment/GRKit.sj",baseURL),200,{},'@STATIC;1.0;p;17;g_r_comm_worker.jt;44;@STATIC;1.0;t;27;alert("g_r_comm_worker.j");');
